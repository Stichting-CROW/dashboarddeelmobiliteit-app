(this["webpackJsonpdashboarddeelmobiliteit-app"]=this["webpackJsonpdashboarddeelmobiliteit-app"]||[]).push([[0],{222:function(e,t,a){},269:function(e,t,a){},276:function(e,t,a){},283:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},447:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){},510:function(e,t,a){},511:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(41),o=a.n(i),c=(a(269),a(6)),s=a(12),l=a(13),d=a(14),u=a(15),p=a(25),m=a(4),b=a(97),h=a(22),f=a.n(h),j=a(254);var g=function(e,t){var a=e.filter((function(e){return e.system_id===t}));return a&&a[0]?a[0].color:"#666"},y=function(e){return e?Object.keys(e).filter((function(e,t){return"name"!==e&&e})):[]},O=["dott","jump"],v=a(65),x={aanbieders:[],gebieden:[],zones:[],vehicle_types:[],metadata_loaded:!1,zones_loaded:!1},_=function(e){for(var t=[],a=Math.trunc(360/(e+1)),n=0;n<e;n++){var r=n*a,i=n%2===0?35:65,o=n%2===1?40:60;t.push("hsla(".concat(r,",").concat(o,"%,").concat(i,"%,").concat(1,")"))}return t};var w={data:[],operatorstats:[]};var k={origins:{},destinations:{},origins_operatorstats:[],destinations_operatorstats:[]};var E={visible:!0,gebied:function(){var e=["GM0080","GM0014","GM0392","GM0034","GM0193","GM0402","GM0307","GM0344","GM0200","GM0518","GM0599","GM0758","GM0855","GM0772"];return e[Math.floor(Math.random()*e.length)]}(),zones:"",datum:(new Date).toISOString(),intervalduur:36e5,aanbiedersexclude:"",parkeerduurexclude:"",voertuigtypesexclude:"",afstandexclude:"",herkomstbestemming:"",ontwikkelingvan:f()().subtract(30,"days").toISOString(),ontwikkelingtot:(new Date).toISOString(),ontwikkelingaggregatie:"day"};var S={user_data:null};var N=a(65),z={data:[],filter:""};var T="displaymode-park",C="displaymode-rentals",D="displaymode-zones-admin",A="displaymode-zones-public",R="displaymode-other",I="parkeerdata-heatmap",L="parkeerdata-clusters",M="parkeerdata-voertuigen",F="verhuurdata-heatmap",G="verhuurdata-clusters",P="verhuurdata-voertuigen",U={zones_visible:!1,displaymode:T,view_park:M,view_rentals:P,extent:[],mapextent:[]},W=a(65);var H=a(129),B={FILTERBAR:window.innerWidth>800,SELECTLAYER:!0,SHOWLOADING:!1};var Z={operatorstats_verhuringenchart:[],operatorstats_beschikbarevoertuigenchart:[],operatorstats_parkeerduurchart:[]};var V=Object(b.b)({created:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_CREATED"===t.type?t.payload:e},last_update:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_LAST_UPDATE"===t.type?t.payload:e},metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AANBIEDERS":var a=e.aanbieders?e.aanbieders:[],n=_(t.payload.length),r={cykl:"#a5e067",flickbike:"#fe431d",mobike:"#ed5144",donkey:"#ed5144",htm:"#db291e",jump:"#fd3e48",gosharing:"#77b136",check:"#8f3af8",felyx:"#064627",lime:"#1bd831",baqme:"#4bdfbb",bird:"#26ccf0",cargoroo:"#ffcb34",moveyou:"#13D6A6",hely:"#fd645c",tier:"#0d123f",dott:"#00a8e9"},i=t.payload.map((function(e,t){var a=r[e.system_id]?r[e.system_id]:n[t];return Object.assign(e,{color:a})}));return v(JSON.stringify(a))===v(JSON.stringify(i))?e:Object(c.a)(Object(c.a)({},e),{},{aanbieders:i});case"SET_GEBIEDEN":var o=e.gebieden?e.gebieden:[];return v(JSON.stringify(o))===v(JSON.stringify(t.payload))?e:Object(c.a)(Object(c.a)({},e),{},{gebieden:t.payload});case"SET_ZONES":var s=e.zones?e.zones:[];return v(JSON.stringify(s))===v(JSON.stringify(t.payload))?e:Object(c.a)(Object(c.a)({},e),{},{zones:t.payload});case"CLEAR_ZONES":return Object(c.a)(Object(c.a)({},e),{},{zones:[],zones_loaded:!1});case"SET_VEHICLE_TYPES":var l=e.vehicle_types?e.vehicle_types:[];return JSON.stringify(v(l))===JSON.stringify(v(t.payload))?e:Object(c.a)(Object(c.a)({},e),{},{vehicle_types:t.payload});case"SET_METADATA_LOADED":return Object(c.a)(Object(c.a)({},e),{},{metadata_loaded:t.payload});case"SET_ZONES_LOADED":return Object(c.a)(Object(c.a)({},e),{},{zones_loaded:t.payload});case"LOGIN":case"LOGOUT":return console.log("login/logout - reset metadata"),x;default:return e}},vehicles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VEHICLES":return{data:t.payload,operatorstats:[]};case"SET_VEHICLES_OPERATORSTATS":return Object.assign({},e,{operatorstats:t.payload});case"CLEAR_VEHICLES":return{data:[],operatorstats:[]};case"LOGIN":case"LOGOUT":return w;default:return e}},rentals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RENTALS_ORIGINS":return Object.assign({},e,{origins:t.payload,origins_operatorstats:[]});case"SET_RENTALS_DESTINATIONS":return Object.assign({},e,{destinations:t.payload,destinations_operatorstats:[]});case"CLEAR_RENTALS_ORIGINS":return Object.assign({},e,{origins:[],origins_operatorstats:[]});case"CLEAR_RENTALS_DESTINATIONS":return Object.assign({},e,{destinations:[],destinations_operatorstats:[]});case"LOGIN":case"LOGOUT":return k;case"SET_RENTALS_ORIGINS_OPERATORSTATS":return Object.assign({},e,{origins_operatorstats:t.payload});case"SET_RENTALS_DESTINATIONS_OPERATORSTATS":return Object.assign({},e,{destinations_operatorstats:t.payload});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_VISIBLE":return Object(c.a)(Object(c.a)({},e),{},{visible:t.payload});case"SET_FILTER_GEBIED":return e.gebied===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{gebied:t.payload,zones:""});case"SET_FILTER_DATUM":return Object(c.a)(Object(c.a)({},e),{},{datum:t.payload});case"SET_FILTER_INTERVAL_START":return Object(c.a)(Object(c.a)({},e),{},{intervalstart:t.payload});case"SET_FILTER_INTERVAL_END":return Object(c.a)(Object(c.a)({},e),{},{intervalend:t.payload});case"SET_FILTER_INTERVAL_DUUR":return Object(c.a)(Object(c.a)({},e),{},{intervalduur:t.payload});case"SET_FILTER_HERKOMSTBESTEMMING":return Object(c.a)(Object(c.a)({},e),{},{herkomstbestemming:t.payload});case"ADD_TO_FILTER_ZONES":var a=[];if(e.zones)try{a=e.zones.split(",")||[]}catch(m){a=[]}return a.includes(t.payload)||a.push(t.payload),Object(c.a)(Object(c.a)({},e),{},{zones:a.join(",")});case"REMOVE_FROM_FILTER_ZONES":var n=e.zones.split(",")||[];return n=n.filter((function(e){return e.toString()!==t.payload.toString()})),Object(c.a)(Object(c.a)({},e),{},{zones:n.join(",")});case"CLEAR_FILTER_ZONES":return Object(c.a)(Object(c.a)({},e),{},{zones:""});case"ADD_TO_FILTER_MARKERS_EXCLUDE":var r=[];try{if(e.parkeerduurexclude)try{r=e.parkeerduurexclude.split(",")||[]}catch(m){r=[]}r.includes(t.payload)||r.push(t.payload)}catch(m){r=[]}return Object(c.a)(Object(c.a)({},e),{},{parkeerduurexclude:r.join(",")});case"REMOVE_FROM_FILTER_MARKERS_EXCLUDE":var i=[];try{i=(i=e.parkeerduurexclude.split(",")||[]).filter((function(e){return e.toString()!==t.payload.toString()}))}catch(m){i=[]}return Object(c.a)(Object(c.a)({},e),{},{parkeerduurexclude:i.join(",")});case"CLEAR_FILTER_MARKERS_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{parkeerduurexclude:""});case"ADD_TO_FILTER_AFSTAND_EXCLUDE":var o=[];try{if(e.afstandexclude)try{o=e.afstandexclude.split(",")||[]}catch(m){o=[]}o.includes(t.payload)||o.push(t.payload)}catch(m){o=[]}return Object(c.a)(Object(c.a)({},e),{},{afstandexclude:o.join(",")});case"REMOVE_FROM_FILTER_AFSTAND_EXCLUDE":var s=[];try{s=(s=e.afstandexclude.split(",")||[]).filter((function(e){return e.toString()!==t.payload.toString()}))}catch(m){s=[]}return Object(c.a)(Object(c.a)({},e),{},{afstandexclude:s.join(",")});case"CLEAR_FILTER_AFSTAND_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{afstandexclude:""});case"ADD_TO_FILTER_VOERTUIGTYPES_EXCLUDE":var l=[];try{if(e.voertuigtypesexclude)try{l=e.voertuigtypesexclude.split(",")||[]}catch(m){l=[]}l.includes(t.payload)||l.push(t.payload)}catch(m){l=[]}return Object(c.a)(Object(c.a)({},e),{},{voertuigtypesexclude:l.join(",")});case"REMOVE_FROM_FILTER_VOERTUIGTYPES_EXCLUDE":var d=[];try{d=(d=e.voertuigtypesexclude.split(",")||[]).filter((function(e){return e.toString()!==t.payload.toString()}))}catch(m){d=[]}return Object(c.a)(Object(c.a)({},e),{},{voertuigtypesexclude:d.join(",")});case"CLEAR_FILTER_VOERTUIGTYPES_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{voertuigtypesexclude:""});case"ADD_TO_FILTER_AANBIEDERS_EXCLUDE":var u=[];try{e.aanbiedersexclude&&(u=e.aanbiedersexclude.split(",")||[]),u.includes(t.payload)||u.push(t.payload)}catch(m){u=[]}return Object(c.a)(Object(c.a)({},e),{},{aanbiedersexclude:u.join(",")});case"REMOVE_FROM_FILTER_AANBIEDERS_EXCLUDE":var p=[];try{p=(p=e.aanbiedersexclude.split(",")||[]).filter((function(e){return e!==t.payload}))}catch(m){p=[]}return Object(c.a)(Object(c.a)({},e),{},{aanbiedersexclude:p.join(",")});case"CLEAR_FILTER_AANBIEDERS_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{aanbiedersexclude:""});case"SET_FILTER_ONTWIKKELING_VANTOT":return Object(c.a)(Object(c.a)({},e),{},{ontwikkelingvan:t.payload.van,ontwikkelingtot:t.payload.tot});case"SET_FILTER_ONTWIKKELING_AGGREGATIE":return Object(c.a)(Object(c.a)({},e),{},{ontwikkelingaggregatie:t.payload});case"LOGIN":case"LOGOUT":case"RESET_FILTER":return E;case"IMPORT_STATE":return Object(c.a)(Object(c.a)({},e),t.payload.filter);default:return e}},authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":var a=t.payload;return{user_data:a};case"CLEAR_USER":return{user_data:null};default:return e}},zones_geodata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ZONES_GEODATA":var a=e.data?e.data:[],n=N(JSON.stringify(a))!==N(JSON.stringify(t.payload.data)),r=e.filter!==t.payload.filter;return n||r?Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,filter:t.payload.filter}):e;case"LOGIN":case"LOGOUT":return z;default:return e}},layers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LAYER_SET_DISPLAYMODE":return e.displaymode===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{displaymode:t.payload});case"LAYER_SET_VIEW_PARK":return e.view_park===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{view_park:t.payload});case"LAYER_SET_VIEW_RENTALS":return e.view_rentals===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{view_rentals:t.payload});case"LAYER_TOGGLE_ZONES_VISIBLE":return Object(c.a)(Object(c.a)({},e),{},{zones_visible:!e.zones_visible});case"LAYER_SET_MAP_STYLE":return Object(c.a)(Object(c.a)({},e),{},{map_style:t.payload});case"LAYER_SET_ZONES_EXTENT":return W(JSON.stringify(t.payload||[]))!==W(JSON.stringify(e.extent||[]))?Object(c.a)(Object(c.a)({},e),{},{extent:t.payload||[]}):e;case"LAYER_SET_MAP_EXTENT":return W(JSON.stringify(t.payload))!==W(JSON.stringify(e.mapextent||!1))?Object(c.a)(Object(c.a)({},e),{},{mapextent:t.payload}):e;case"LAYER_SET_MAP_ZOOM":return W(JSON.stringify(t.payload))!==W(JSON.stringify(e.zoom||!1))?Object(c.a)(Object(c.a)({},e),{},{zoom:t.payload}):e;case"IMPORT_STATE":return Object(c.a)(Object(c.a)({},e),t.payload.layers);case"LOGIN":case"LOGOUT":return U;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY":return Object(c.a)(Object(c.a)({},e),{},Object(H.a)({},t.payload.name,t.payload.visibility));case"IMPORT_STATE":return console.log("import ui"),Object(c.a)(Object(c.a)({},e),t.payload.ui);case"SHOW_LOADING":return Object(c.a)(Object(c.a)({},e),{},{showloading:t.payload});case"LOGIN":case"LOGOUT":return B;default:return e}},statsreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OPERATORSTATS_VERHURINGENCHART":return Object.assign({},e,{operatorstats_verhuringenchart:t.payload});case"SET_OPERATORSTATS_BESCHIKBAREVOERTUIGENCHART":return Object.assign({},e,{operatorstats_beschikbarevoertuigenchart:t.payload});case"SET_OPERATORSTATS_PARKEERDUURCHART":return Object.assign({},e,{operatorstats_parkeerduurchart:t.payload});case"CLEAR_STATS":case"LOGIN":case"LOGOUT":return Z;default:return e}}}),Y=a(9),J=a(36),K=a(101),X=(a(275),a(276),a(0));function q(e){var t=e.pathName,a=t===e.path||t===e.href||"/"===t&&"/map/park"===e.path,n=a?e.icon.replace(".svg","-active.svg"):e.icon;return Object(X.jsxs)(X.Fragment,{children:[e.path&&Object(X.jsxs)(p.b,{className:"\n          text-menu\n          text-center\n          ".concat(a?"is-active":"","\n        "),to:e.path,href:e.href,onClick:e.onClick,title:e.title,children:[n?Object(X.jsx)("img",{alt:e.text,src:n}):"",e.text&&Object(X.jsx)("span",{className:"".concat(a||!n?"inline-block":"hidden"," sm:inline-block  ml-2"),children:e.text})]}),!e.path&&Object(X.jsxs)("a",{className:"\n          text-menu\n          text-center\n          inline-block cursor-pointer\n          ".concat(a?"is-active":"","\n        "),href:e.href,onClick:e.onClick,title:e.title,children:[n?Object(X.jsx)("img",{alt:e.text,src:n}):"",e.text&&Object(X.jsx)("span",{className:"".concat(a||!n?"inline-block":"hidden"," sm:inline-block  ml-2"),children:e.text})]})]})}function Q(e){var t=Object(n.useState)(!1),a=Object(Y.a)(t,2),r=a[0],i=a[1];return Object(X.jsxs)(X.Fragment,{children:[e.path&&Object(X.jsx)(p.b,{className:"text-link",to:e.path,href:e.href,onClick:e.onClick,children:Object(X.jsx)("span",{className:"block",children:r?e.message:e.text})}),!e.path&&Object(X.jsx)("a",{className:"text-link inline-block cursor-pointer",href:e.href,onClick:function(t){console.log("show message"),i(!0),setTimeout((function(){console.log("hide message"),i(!1)}),3e3),e.onClick(t)},children:Object(X.jsx)("span",{className:"block",children:r?e.message:e.text})})]})}var $=function(e){var t=e.pathName,a=Object(n.useState)(!1),r=Object(Y.a)(a,2),i=r[0],o=(r[1],Object(m.c)(),Object(m.d)((function(e){return e.authentication.user_data})),Object(m.d)((function(e){return!!e.authentication.user_data}))),c=Object(m.d)((function(e){return{filter:e.filter,layers:e.layers,ui:e.ui}})),s=function(){var e=window.location;!function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(a){return console.warn("Copy to clipboard failed.",a),prompt("Copy to clipboard: Ctrl+C, Enter",e)}finally{document.body.removeChild(t)}}}(e.protocol+"//"+e.host+e.pathname+"?view="+encodeURIComponent(JSON.stringify(c))),window.notify("Link gekopieerd. Gebruik de link om direct naar deze weergave van de kaart te verwijzen.")},l="Menu fixed w-full mx-0 bottom-0 bg-white";return l+=" sm:bg-transparent sm:w-full",c&&c.ui&&c.ui.FILTERBAR&&(l+=" filter-open"),Object(X.jsx)("div",{className:l,children:Object(X.jsxs)("div",{className:" Menu-inner px-0 mx-auto bg-white box-border w-full flex flex-col justify-center sm:px-4 sm:shadow-lg sm:m-4 sm:mb-1 sm:rounded-3xl ",children:[Object(X.jsxs)("div",{className:" whitespace-nowrap text-center ",children:[o&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(q,{pathName:t,text:"Aanbod",path:"/map/park",icon:"/images/components/Menu/aanbod.svg"}),Object(X.jsx)(q,{pathName:t,text:"Verhuringen",path:"/map/rentals",icon:"/images/components/Menu/verhuringen.svg"}),!1,function(){return!0}&&Object(X.jsx)(q,{pathName:t,text:"Zones",path:"/map/zones",icon:"https://i.imgur.com/GrF8KBA.png"}),Object(X.jsx)(q,{pathName:t,text:"Ontwikkeling",path:"/stats/overview",icon:"/images/components/Menu/ontwikkeling.svg"}),Object(X.jsx)(q,{title:"Kopieer link",text:"",icon:"/images/components/Menu/share.svg",onClick:function(e){e.preventDefault(),s()}}),Object(X.jsx)(q,{pathName:t,path:"/profile",text:"",icon:"/images/components/Menu/settings.svg"})]}),!o&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(q,{pathName:t,text:"Aanbod",path:"/map/park",icon:"/images/components/Menu/aanbod.svg"}),Object(X.jsx)(q,{pathName:t,text:"Zones",path:"/map/zones",icon:"https://i.imgur.com/GrF8KBA.png"}),Object(X.jsx)(p.b,{className:"text-menu",to:"/login",children:"Log in"}),Object(X.jsx)(p.b,{className:"text-menu",to:"/over",children:"Over"}),Object(X.jsx)(p.b,{className:"text-menu",to:"/rondleiding",children:"Rondleiding"})]}),o&&!1]}),i&&Object(X.jsx)(X.Fragment,{children:Object(X.jsx)("div",{className:" Menu-subMenu absolute ",children:Object(X.jsx)(Q,{pathName:t,text:"Zones",path:"/admin/zones",icon:"https://i.imgur.com/GrF8KBA.png"})})})]})})};a(283);function ee(e){return Object(X.jsx)("a",{href:"goForIt",className:"MenuSecondaryItem cursor-pointer mx-1",onClick:e.onClick,children:e.text})}var te=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.layers?e.layers.displaymode:null})),a=Object(n.useState)(document.location.pathname),r=Object(Y.a)(a,2),i=r[0],o=r[1],c=Object(J.g)();Object(n.useEffect)((function(){o(c?c.pathname:null)}),[c]);var s=function(t,a){e({type:"SET_VISIBILITY",payload:{name:t,visibility:a}})};return Object(X.jsxs)("div",{className:"MenuSecondary block sm:hidden absolute left-0 z-10",children:["displaymode-other"!==t&&Object(X.jsx)(ee,{text:"\ud83d\udd53",onClick:function(a){var n;a.preventDefault(),n=new Date,e("displaymode-rentals"!==t?{type:"SET_FILTER_DATUM",payload:n.toISOString()}:{type:"SET_FILTER_INTERVAL_END",payload:n.toISOString()})}}),Object(X.jsx)(ee,{text:t.indexOf("displaymode-zones-")>-1?"Opties":"Filters",onClick:function(e){e.preventDefault(),s("FILTERBAR",!0)}}),"/stats/overview"!==i&&Object(X.jsx)(ee,{text:"Lagen",onClick:function(e){e.preventDefault(),s("MenuSecondary.layers",!0)}})]})},ae=a(8),ne=a(18),re=a(52),ie=a.n(re),oe=a(132),ce=a.n(oe),se=a(96),le=a(231),de={version:8,sources:{composite:{type:"vector",attribution:"Mapbox",tiles:["https://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v8/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1IjoibWF0dCIsImEiOiJTUHZkajU0In0.oB-OGTMFtpkga8vC48HjIg"]}},sprite:"https://api.mapbox.com/styles/v1/bartwr/cl8yy2i2c000014lk0s7mnr7e/draft/sprite@2x.json?access_token=tk.eyJ1IjoiYmFydHdyIiwiZXhwIjoxNjY1MTc5MTQ4LCJpYXQiOjE2NjUxNzU1NDgsInNjb3BlcyI6WyJlc3NlbnRpYWxzIiwic2NvcGVzOmxpc3QiLCJtYXA6cmVhZCIsIm1hcDp3cml0ZSIsInVzZXI6cmVhZCIsInVzZXI6d3JpdGUiLCJ1cGxvYWRzOnJlYWQiLCJ1cGxvYWRzOmxpc3QiLCJ1cGxvYWRzOndyaXRlIiwic3R5bGVzOnRpbGVzIiwic3R5bGVzOnJlYWQiLCJmb250czpsaXN0IiwiZm9udHM6cmVhZCIsImZvbnRzOndyaXRlIiwic3R5bGVzOndyaXRlIiwic3R5bGVzOmxpc3QiLCJzdHlsZXM6ZG93bmxvYWQiLCJzdHlsZXM6cHJvdGVjdCIsInRva2VuczpyZWFkIiwidG9rZW5zOndyaXRlIiwiZGF0YXNldHM6bGlzdCIsImRhdGFzZXRzOnJlYWQiLCJkYXRhc2V0czp3cml0ZSIsInRpbGVzZXRzOmxpc3QiLCJ0aWxlc2V0czpyZWFkIiwidGlsZXNldHM6d3JpdGUiLCJkb3dubG9hZHM6cmVhZCIsInZpc2lvbjpyZWFkIiwidmlzaW9uOmRvd25sb2FkIiwibmF2aWdhdGlvbjpkb3dubG9hZCIsIm9mZmxpbmU6cmVhZCIsIm9mZmxpbmU6d3JpdGUiLCJzdHlsZXM6ZHJhZnQiLCJmb250czptZXRhZGF0YSIsInNwcml0ZS1pbWFnZXM6cmVhZCIsImRhdGFzZXRzOnN0dWRpbyIsImN1c3RvbWVyczp3cml0ZSIsImNyZWRlbnRpYWxzOnJlYWQiLCJjcmVkZW50aWFsczp3cml0ZSIsImFuYWx5dGljczpyZWFkIl0sImNsaWVudCI6Im1hcGJveC5jb20iLCJsbCI6MTY2NTE3NDc0MzUyOCwiaXUiOm51bGwsImVtYWlsIjoibWFpbEBiYXJ0cm9vcmRhLm5sIn0.onvMaEj0urnm2g3FFyrAVg",glyphs:"https://a.tiles.mapbox.com/v4/fontstack/{fontstack}/{range}.pbf?access_token=pk.eyJ1IjoibWF0dCIsImEiOiJTUHZkajU0In0.oB-OGTMFtpkga8vC48HjIg",layers:[{id:"land",type:"background",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},layout:{},paint:{"background-color":"hsl(40, 8%, 96%)"}},{id:"national-park",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},source:"composite","source-layer":"landuse_overlay",minzoom:5,filter:["==",["get","class"],"national_park"],layout:{},paint:{"fill-color":"hsl(78, 65%, 82%)","fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,.5,10,.5]}},{id:"landuse",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},source:"composite","source-layer":"landuse",minzoom:5,filter:["match",["get","class"],["park","airport","glacier","pitch","sand","facility"],!0,"cemetery",!0,"hospital",!0,!1],layout:{},paint:{"fill-color":["interpolate",["linear"],["zoom"],15,["match",["get","class"],"park","hsl(78, 65%, 82%)","airport","hsl(225, 11%, 97%)","cemetery","hsl(60, 28%, 88%)","glacier","hsl(205, 49%, 93%)","hospital","hsl(3, 23%, 93%)","pitch","hsl(78, 66%, 77%)","sand","hsl(65, 52%, 95%)","hsl(40, 12%, 91%)"],16,["match",["get","class"],"park","hsl(78, 65%, 82%)","airport","hsl(225, 25%, 95%)","cemetery","hsl(60, 28%, 88%)","glacier","hsl(205, 49%, 93%)","hospital","hsl(3, 38%, 95%)","pitch","hsl(78, 66%, 77%)","sand","hsl(65, 52%, 95%)","hsl(40, 12%, 91%)"]],"fill-opacity":["interpolate",["linear"],["zoom"],5,0,6,["match",["get","class"],"glacier",.5,1]]}},{id:"pitch-outline",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, land"},source:"composite","source-layer":"landuse",minzoom:15,filter:["==",["get","class"],"pitch"],layout:{},paint:{"line-color":"hsl(60, 37%, 91%)"}},{id:"waterway",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, water"},source:"composite","source-layer":"waterway",minzoom:8,layout:{"line-cap":["step",["zoom"],"butt",11,"round"],"line-join":"round"},paint:{"line-color":"hsl(205, 69%, 90%)","line-width":["interpolate",["exponential",1.3],["zoom"],9,["match",["get","class"],["canal","river"],.1,0],20,["match",["get","class"],["canal","river"],8,3]],"line-opacity":["interpolate",["linear"],["zoom"],8,0,8.5,1]}},{id:"water",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, water"},source:"composite","source-layer":"water",layout:{},paint:{"fill-color":"hsl(205, 69%, 90%)"}},{id:"land-structure-polygon",type:"fill",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, built"},source:"composite","source-layer":"structure",minzoom:13,filter:["all",["==",["geometry-type"],"Polygon"],["==",["get","class"],"land"]],layout:{},paint:{"fill-color":"hsl(40, 8%, 96%)"}},{id:"land-structure-line",type:"line",metadata:{"mapbox:featureComponent":"land-and-water","mapbox:group":"Land, water, & sky, built"},source:"composite","source-layer":"structure",minzoom:13,filter:["all",["==",["geometry-type"],"LineString"],["==",["get","class"],"land"]],layout:{"line-cap":"round"},paint:{"line-width":["interpolate",["exponential",1.99],["zoom"],14,.75,20,40],"line-color":"hsl(40, 8%, 96%)"}},{id:"aeroway-polygon",type:"fill",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},source:"composite","source-layer":"aeroway",minzoom:11,filter:["all",["==",["geometry-type"],"Polygon"],["match",["get","type"],["runway","taxiway","helipad"],!0,!1]],layout:{},paint:{"fill-color":["interpolate",["linear"],["zoom"],15,"hsl(225, 9%, 88%)",16,"hsl(225, 6%, 90%)"],"fill-opacity":["interpolate",["linear"],["zoom"],11,0,11.5,1]}},{id:"aeroway-line",type:"line",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, built"},source:"composite","source-layer":"aeroway",minzoom:9,filter:["==",["geometry-type"],"LineString"],layout:{},paint:{"line-color":["interpolate",["linear"],["zoom"],15,"hsl(225, 9%, 88%)",16,"hsl(225, 6%, 90%)"],"line-width":["interpolate",["exponential",1.5],["zoom"],9,["match",["get","type"],"runway",1,.5],18,["match",["get","type"],"runway",80,20]]}},{id:"building-outline",type:"line",metadata:{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, built"},source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],layout:{},paint:{"line-color":"hsl(40, 4%, 86%)","line-width":["interpolate",["exponential",1.5],["zoom"],15,.75,20,3],"line-opacity":["interpolate",["linear"],["zoom"],15,0,16,1]}},{id:"building",type:"fill",metadata:{"mapbox:featureComponent":"buildings","mapbox:group":"Buildings, built"},source:"composite","source-layer":"building",minzoom:15,filter:["all",["!=",["get","type"],"building:part"],["==",["get","underground"],"false"]],layout:{},paint:{"fill-color":["interpolate",["linear"],["zoom"],15,"hsl(40, 7%, 92%)",16,"hsl(40, 3%, 92%)"],"fill-opacity":["interpolate",["linear"],["zoom"],15,0,16,1],"fill-outline-color":"hsl(40, 4%, 86%)"}},{id:"tunnel-path",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"path"],["!=",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(40, 4%, 86%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,.75]],17,["literal",[1,.5]]]}},{id:"tunnel-steps",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","type"],"steps"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(40, 4%, 86%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,.75]],17,["literal",[.3,.3]]]}},{id:"tunnel-pedestrian",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., tunnels"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,18,12],"line-color":"hsl(40, 4%, 86%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,.4]],16,["literal",[1,.2]]]}},{id:"tunnel-simple",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, tunnels"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"tunnel"],["step",["zoom"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],!0,!1],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],!0,!1]],["==",["geometry-type"],"LineString"]],layout:{},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],4,["secondary","tertiary"],2.5,["motorway_link","trunk_link","street","street_limited","primary_link"],1,.5],18,["match",["get","class"],["motorway","trunk","primary"],32,["secondary","tertiary"],26,["motorway_link","trunk_link","street","street_limited","primary_link"],18,12]],"line-color":"hsl(38, 55%, 93%)"}},{id:"road-path",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","class"],"path"],["step",["zoom"],["!",["match",["get","type"],["steps","sidewalk","crossing"],!0,!1]],16,["!=",["get","type"],"steps"]],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],13,.5,14,1,15,1,18,4],"line-color":"hsl(40, 8%, 100%)","line-dasharray":["step",["zoom"],["literal",[4,.3]],15,["literal",[1.75,.3]],16,["literal",[1,.3]],17,["literal",[1,.25]]]}},{id:"road-steps",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","type"],"steps"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(40, 8%, 100%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,.75]],17,["literal",[.3,.3]]]}},{id:"road-pedestrian",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., surface"},source:"composite","source-layer":"road",minzoom:12,filter:["all",["==",["get","class"],"pedestrian"],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,18,12],"line-color":"hsl(40, 8%, 100%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,.4]],16,["literal",[1,.2]]]}},{id:"road-simple",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, surface"},source:"composite","source-layer":"road",minzoom:5,filter:["all",["step",["zoom"],["match",["get","class"],["motorway","trunk"],!0,!1],6,["match",["get","class"],["motorway","trunk","primary"],!0,!1],8,["match",["get","class"],["motorway","trunk","primary","secondary"],!0,!1],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","motorway_link","trunk_link"],!0,!1],11,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street"],!0,!1],12,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link"],!0,!1],13,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],!0,!1],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],!0,!1]],["match",["get","structure"],["none","ford"],!0,!1],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],5,["match",["get","class"],["motorway","trunk","primary"],.75,["secondary","tertiary"],.1,0],13,["match",["get","class"],["motorway","trunk","primary"],4,["secondary","tertiary"],2.5,["motorway_link","trunk_link","primary_link","street","street_limited"],1,.5],18,["match",["get","class"],["motorway","trunk","primary"],32,["secondary","tertiary"],26,["motorway_link","trunk_link","primary_link","street","street_limited"],18,10]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(38, 55%, 97%)","hsl(38, 55%, 100%)"]}},{id:"bridge-path",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"path"],["==",["geometry-type"],"LineString"],["!=",["get","type"],"steps"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,18,4],"line-color":"hsl(40, 8%, 100%)","line-dasharray":["step",["zoom"],["literal",[4,.3]],15,["literal",[1.75,.3]],16,["literal",[1,.3]],17,["literal",[1,.25]]]}},{id:"bridge-steps",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},source:"composite","source-layer":"road",minzoom:14,filter:["all",["==",["get","type"],"steps"],["==",["get","structure"],"bridge"],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],15,1,16,1.6,18,6],"line-color":"hsl(40, 8%, 100%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.75,1]],16,["literal",[1,.75]],17,["literal",[.3,.3]]]}},{id:"bridge-pedestrian",type:"line",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., barriers-bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["==",["get","class"],"pedestrian"],["==",["geometry-type"],"LineString"]],layout:{"line-join":"round"},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],14,.5,18,12],"line-color":"hsl(40, 8%, 100%)","line-dasharray":["step",["zoom"],["literal",[1,0]],15,["literal",[1.5,.4]],16,["literal",[1,.2]]]}},{id:"bridge-case-simple",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],!0,!1],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],!0,!1]],["==",["geometry-type"],"LineString"]],layout:{"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],6,["secondary","tertiary"],4,["motorway_link","trunk_link","street","street_limited","primary_link"],2.5,1.25],18,["match",["get","class"],["motorway","trunk","primary"],36,["secondary","tertiary"],30,["motorway_link","trunk_link","street","street_limited","primary_link"],22,16]],"line-color":"hsl(40, 8%, 96%)"}},{id:"bridge-simple",type:"line",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, bridges"},source:"composite","source-layer":"road",minzoom:13,filter:["all",["==",["get","structure"],"bridge"],["step",["zoom"],["match",["get","class"],["motorway","trunk"],!0,!1],13,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","secondary","tertiary","street","street_limited","primary_link","track"],!0,!1],14,["match",["get","class"],["motorway","motorway_link","trunk","trunk_link","primary","primary_link","secondary","secondary_link","tertiary","tertiary_link","street","street_limited","service","track"],!0,!1]],["==",["geometry-type"],"LineString"]],layout:{"line-cap":["step",["zoom"],"butt",14,"round"],"line-join":["step",["zoom"],"miter",14,"round"]},paint:{"line-width":["interpolate",["exponential",1.5],["zoom"],13,["match",["get","class"],["motorway","trunk","primary"],4,["secondary","tertiary"],2.5,["motorway_link","trunk_link","street","street_limited","primary_link"],1,.5],18,["match",["get","class"],["motorway","trunk","primary"],32,["secondary","tertiary"],26,["motorway_link","trunk_link","street","street_limited","primary_link"],18,12]],"line-color":["match",["get","class"],["primary_link","secondary_link","tertiary_link","street","street_limited","service","track"],"hsl(38, 55%, 97%)","hsl(38, 55%, 100%)"]}},{id:"admin-1-boundary-bg",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:7,filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"bevel"},paint:{"line-color":["interpolate",["linear"],["zoom"],8,"hsl(40, 8%, 96%)",16,"hsl(0, 0%, 96%)"],"line-width":["interpolate",["linear"],["zoom"],7,3.75,12,5.5],"line-opacity":["interpolate",["linear"],["zoom"],7,0,8,.75],"line-dasharray":[1,0],"line-blur":["interpolate",["linear"],["zoom"],3,0,8,3]}},{id:"admin-0-boundary-bg",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{},paint:{"line-width":["interpolate",["linear"],["zoom"],3,3.5,10,8],"line-color":["interpolate",["linear"],["zoom"],6,"hsl(40, 8%, 96%)",8,"hsl(0, 0%, 96%)"],"line-opacity":["interpolate",["linear"],["zoom"],3,0,4,.5],"line-blur":["interpolate",["linear"],["zoom"],3,0,10,2]}},{id:"admin-1-boundary",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:2,filter:["all",["==",["get","admin_level"],1],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-dasharray":["step",["zoom"],["literal",[2,0]],7,["literal",[2,2,6,2]]],"line-width":["interpolate",["linear"],["zoom"],7,.75,12,1.5],"line-opacity":["interpolate",["linear"],["zoom"],2,0,3,1],"line-color":["interpolate",["linear"],["zoom"],3,"hsl(0, 0%, 77%)",7,"hsl(0, 0%, 62%)"]}},{id:"admin-0-boundary",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","admin_level"],0],["==",["get","disputed"],"false"],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"hsl(0, 0%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":[10,0]}},{id:"admin-0-boundary-disputed",type:"line",metadata:{"mapbox:featureComponent":"admin-boundaries","mapbox:group":"Administrative boundaries, admin"},source:"composite","source-layer":"admin",minzoom:1,filter:["all",["==",["get","disputed"],"true"],["==",["get","admin_level"],0],["==",["get","maritime"],"false"],["match",["get","worldview"],["all","US"],!0,!1]],layout:{"line-join":"round"},paint:{"line-color":"hsl(0, 0%, 51%)","line-width":["interpolate",["linear"],["zoom"],3,.5,10,2],"line-dasharray":["step",["zoom"],["literal",[3.25,3.25]],6,["literal",[2.5,2.5]],7,["literal",[2,2.25]],8,["literal",[1.75,2]]]}},{id:"road-label-simple",type:"symbol",metadata:{"mapbox:featureComponent":"road-network","mapbox:group":"Road network, road-labels"},source:"composite","source-layer":"road",minzoom:12,filter:["match",["get","class"],["motorway","trunk","primary","secondary","tertiary","street","street_limited"],!0,!1],layout:{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],10,9],18,["match",["get","class"],["motorway","trunk","primary","secondary","tertiary"],16,14]],"text-max-angle":30,"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":.01},paint:{"text-color":"hsl(40, 8%, 48%)","text-halo-color":"hsl(38, 55%, 100%)","text-halo-width":1}},{id:"path-pedestrian-label",type:"symbol",metadata:{"mapbox:featureComponent":"walking-cycling","mapbox:group":"Walking, cycling, etc., walking-cycling-labels"},source:"composite","source-layer":"road",minzoom:12,filter:["step",["zoom"],["match",["get","class"],["pedestrian"],!0,!1],15,["match",["get","class"],["path","pedestrian"],!0,!1]],layout:{"text-size":["interpolate",["linear"],["zoom"],10,["match",["get","class"],"pedestrian",9,6.5],18,["match",["get","class"],"pedestrian",14,13]],"text-max-angle":30,"text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"symbol-placement":"line","text-padding":1,"text-rotation-alignment":"map","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":.01},paint:{"text-color":"hsl(40, 8%, 48%)","text-halo-color":"hsl(40, 6%, 100%)","text-halo-width":1,"text-halo-blur":1}},{id:"waterway-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",minzoom:13,filter:["all",["match",["get","class"],["canal","river","stream"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_canal","disputed_river","disputed_stream"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"]],layout:{"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-max-angle":30,"symbol-spacing":["interpolate",["linear",1],["zoom"],15,250,17,400],"text-size":["interpolate",["linear"],["zoom"],13,12,18,16],"symbol-placement":"line","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-color":"hsl(205, 37%, 57%)"}},{id:"natural-line-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",minzoom:4,filter:["all",["match",["get","class"],["glacier","landform"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_glacier","disputed_landform"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"],["<=",["get","filterrank"],2]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"text-max-angle":30,"text-field":["coalesce",["get","name_en"],["get","name"]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport"},paint:{"text-halo-width":.5,"text-halo-color":"hsl(40, 15%, 100%)","text-halo-blur":.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(26, 30%, 45%)",5,"hsl(26, 35%, 35%)"],17,["step",["get","sizerank"],"hsl(26, 30%, 45%)",13,"hsl(26, 35%, 35%)"]]}},{id:"natural-point-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",minzoom:4,filter:["all",["match",["get","class"],["dock","glacier","landform","water_feature","wetland"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_dock","disputed_glacier","disputed_landform","disputed_water_feature","disputed_wetland"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"Point"],["<=",["get","filterrank"],2]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["get","maki"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":"hsl(40, 15%, 100%)","text-halo-width":.5,"text-halo-blur":.5,"text-color":["step",["zoom"],["step",["get","sizerank"],"hsl(26, 30%, 45%)",5,"hsl(26, 35%, 35%)"],17,["step",["get","sizerank"],"hsl(26, 30%, 45%)",13,"hsl(26, 35%, 35%)"]]}},{id:"water-line-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"LineString"]],layout:{"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],20,6,18,12,12],10,["step",["get","sizerank"],15,9,12],18,["step",["get","sizerank"],15,9,14]],"text-max-angle":30,"text-letter-spacing":["match",["get","class"],"ocean",.25,["sea","bay"],.15,0],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"symbol-placement":"line-center","text-pitch-alignment":"viewport","text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(205, 65%, 70%)","hsl(205, 37%, 57%)"]}},{id:"water-point-label",type:"symbol",metadata:{"mapbox:featureComponent":"natural-features","mapbox:group":"Natural features, natural-labels"},source:"composite","source-layer":"natural_label",filter:["all",["match",["get","class"],["bay","ocean","reservoir","sea","water"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_bay","disputed_ocean","disputed_reservoir","disputed_sea","disputed_water"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["==",["geometry-type"],"Point"]],layout:{"text-line-height":1.3,"text-size":["interpolate",["linear"],["zoom"],7,["step",["get","sizerank"],20,6,15,12,12],10,["step",["get","sizerank"],15,9,12]],"text-font":["DIN Pro Italic","Arial Unicode MS Regular"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-letter-spacing":["match",["get","class"],"ocean",.25,["bay","sea"],.15,.01],"text-max-width":["match",["get","class"],"ocean",4,"sea",5,["bay","water"],7,10]},paint:{"text-color":["match",["get","class"],["bay","ocean","sea"],"hsl(205, 65%, 70%)","hsl(205, 37%, 57%)"]}},{id:"poi-label",type:"symbol",metadata:{"mapbox:featureComponent":"point-of-interest-labels","mapbox:group":"Point of interest labels, poi-labels"},source:"composite","source-layer":"poi_label",minzoom:6,filter:["<=",["get","filterrank"],["+",["step",["zoom"],0,16,1,17,2],2]],layout:{"text-size":["step",["zoom"],["step",["get","sizerank"],18,5,12],17,["step",["get","sizerank"],18,13,12]],"icon-image":["case",["has","maki_beta"],["coalesce",["image",["get","maki_beta"]],["image",["get","maki"]]],["image",["get","maki"]]],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":["step",["zoom"],["step",["get","sizerank"],["literal",[0,0]],5,["literal",[0,.75]]],17,["step",["get","sizerank"],["literal",[0,0]],13,["literal",[0,.75]]]],"text-anchor":["step",["zoom"],["step",["get","sizerank"],"center",5,"top"],17,["step",["get","sizerank"],"center",13,"top"]],"text-field":["coalesce",["get","name_en"],["get","name"]]},paint:{"icon-opacity":["step",["zoom"],["step",["get","sizerank"],0,5,1],17,["step",["get","sizerank"],0,13,1]],"text-halo-color":["match",["get","class"],"park_like","hsl(78, 70%, 100%)","medical","hsl(3, 43%, 100%)","hsl(40, 15%, 100%)"],"text-halo-width":.5,"text-halo-blur":.5,"text-color":["step",["zoom"],["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(20, 42%, 58%)","park_like","hsl(76, 51%, 26%)","medical","hsl(3, 18%, 55%)","hsl(26, 30%, 45%)"],5,["match",["get","class"],"food_and_drink","hsl(20, 74%, 41%)","park_like","hsl(76, 50%, 15%)","medical","hsl(3, 24%, 45%)","hsl(26, 35%, 35%)"]],17,["step",["get","sizerank"],["match",["get","class"],"food_and_drink","hsl(20, 42%, 58%)","park_like","hsl(76, 51%, 26%)","medical","hsl(3, 18%, 55%)","hsl(26, 30%, 45%)"],13,["match",["get","class"],"food_and_drink","hsl(20, 74%, 41%)","park_like","hsl(76, 50%, 15%)","medical","hsl(3, 24%, 45%)","hsl(26, 35%, 35%)"]]]}},{id:"airport-label",type:"symbol",metadata:{"mapbox:featureComponent":"transit","mapbox:group":"Transit, transit-labels"},source:"composite","source-layer":"airport_label",minzoom:8,filter:["match",["get","class"],["military","civil"],["match",["get","worldview"],["all","US"],!0,!1],["disputed_military","disputed_civil"],["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"text-line-height":1.1,"text-size":["step",["get","sizerank"],18,9,12],"icon-image":["get","maki"],"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-offset":[0,.75],"text-rotation-alignment":"viewport","text-anchor":"top","text-field":["step",["get","sizerank"],["coalesce",["get","name_en"],["get","name"]],15,["get","ref"]],"text-letter-spacing":.01,"text-max-width":9},paint:{"text-color":"hsl(225, 4%, 40%)","text-halo-color":"hsl(225, 30%, 100%)","text-halo-width":1}},{id:"settlement-subdivision-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:10,maxzoom:15,filter:["all",["match",["get","class"],"settlement_subdivision",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement_subdivision",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["<=",["get","filterrank"],3]],layout:{"text-field":["coalesce",["get","name_en"],["get","name"]],"text-transform":"uppercase","text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-letter-spacing":["match",["get","type"],"suburb",.15,.1],"text-max-width":7,"text-padding":3,"text-size":["interpolate",["cubic-bezier",.5,0,1,1],["zoom"],11,["match",["get","type"],"suburb",11,10.5],15,["match",["get","type"],"suburb",15,14]]},paint:{"text-halo-color":"hsla(40, 15%, 100%, 0.75)","text-halo-width":1,"text-color":"hsl(0, 0%, 27%)","text-halo-blur":.5}},{id:"settlement-minor-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:3,maxzoom:13,filter:["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],[">",["get","symbolrank"],6],4,[">=",["get","symbolrank"],7],6,[">=",["get","symbolrank"],8],7,[">=",["get","symbolrank"],10],10,[">=",["get","symbolrank"],11],11,[">=",["get","symbolrank"],13],12,[">=",["get","symbolrank"],15]]],layout:{"icon-image":"","text-font":["DIN Pro Regular","Arial Unicode MS Regular"],"text-radial-offset":["step",["zoom"],["match",["get","capital"],2,.6,.55],8,0],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7,"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],3,["step",["get","symbolrank"],12,9,11,10,10.5,12,9.5,14,8.5,16,6.5,17,4],13,["step",["get","symbolrank"],23,9,21,10,19,11,17,12,16,13,15,15,13]]},paint:{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsl(40, 15%, 100%)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1}},{id:"settlement-major-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:3,maxzoom:15,filter:["all",["<=",["get","filterrank"],3],["match",["get","class"],"settlement",["match",["get","worldview"],["all","US"],!0,!1],"disputed_settlement",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],["step",["zoom"],!1,3,["<=",["get","symbolrank"],6],4,["<",["get","symbolrank"],7],6,["<",["get","symbolrank"],8],7,["<",["get","symbolrank"],10],10,["<",["get","symbolrank"],11],11,["<",["get","symbolrank"],13],12,["<",["get","symbolrank"],15],13,[">=",["get","symbolrank"],11],14,[">=",["get","symbolrank"],15]]],layout:{"icon-image":"","text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-radial-offset":["step",["zoom"],["match",["get","capital"],2,.6,.55],8,0],"text-anchor":["step",["zoom"],"center",8,"center"],"text-field":["coalesce",["get","name_en"],["get","name"]],"text-max-width":7,"text-line-height":1.1,"text-size":["interpolate",["cubic-bezier",.2,0,.9,1],["zoom"],3,["step",["get","symbolrank"],13,6,12],6,["step",["get","symbolrank"],16,6,15,7,14],8,["step",["get","symbolrank"],18,9,17,10,15],15,["step",["get","symbolrank"],23,9,22,10,20,11,18,12,16,13,15,15,13]]},paint:{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsl(40, 15%, 100%)","text-halo-width":1,"icon-opacity":["step",["zoom"],1,8,0],"text-halo-blur":1}},{id:"state-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:3,maxzoom:9,filter:["match",["get","class"],"state",["match",["get","worldview"],["all","US"],!0,!1],"disputed_state",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"text-size":["interpolate",["cubic-bezier",.85,.7,.65,1],["zoom"],4,["step",["get","symbolrank"],10,6,9.5,7,9],9,["step",["get","symbolrank"],21,6,16,7,13]],"text-transform":"uppercase","text-font":["DIN Pro Bold","Arial Unicode MS Bold"],"text-field":["step",["zoom"],["step",["get","symbolrank"],["coalesce",["get","name_en"],["get","name"]],5,["coalesce",["get","abbr"],["get","name_en"],["get","name"]]],5,["coalesce",["get","name_en"],["get","name"]]],"text-letter-spacing":.15,"text-max-width":6},paint:{"text-color":"hsl(0, 0%, 0%)","text-halo-color":"hsl(40, 15%, 100%)","text-halo-width":1}},{id:"country-label",type:"symbol",metadata:{"mapbox:featureComponent":"place-labels","mapbox:group":"Place labels, place-labels"},source:"composite","source-layer":"place_label",minzoom:1,maxzoom:10,filter:["match",["get","class"],"country",["match",["get","worldview"],["all","US"],!0,!1],"disputed_country",["all",["==",["get","disputed"],"true"],["match",["get","worldview"],["all","US"],!0,!1]],!1],layout:{"icon-image":"","text-field":["coalesce",["get","name_en"],["get","name"]],"text-line-height":1.1,"text-max-width":6,"text-font":["DIN Pro Medium","Arial Unicode MS Regular"],"text-radial-offset":["step",["zoom"],.6,8,0],"text-size":["interpolate",["cubic-bezier",.2,0,.7,1],["zoom"],1,["step",["get","symbolrank"],11,4,9,5,8],9,["step",["get","symbolrank"],22,4,19,5,17]]},paint:{"icon-opacity":["step",["zoom"],["case",["has","text_anchor"],1,0],7,0],"text-color":"hsl(0, 0%, 0%)","text-halo-color":["interpolate",["linear"],["zoom"],2,"hsla(40, 15%, 100%, 0.75)",3,"hsl(40, 15%, 100%)"],"text-halo-width":1.25}}],created:"2022-10-07T20:32:58.385Z",modified:"2022-10-07T20:32:58.385Z",id:"cl8yy2i2c000014lk0s7mnr7e",owner:"bartwr",visibility:"private",protected:!1,draft:!1},ue=a(65),pe=a.n(ue),me=["interpolate",["linear"],["zoom"],0,.0025,5,.005,7.5,.02,10,.1,12,.25,15,.3,17,.5,20,1],be={type:"symbol",filter:["!",["has","point_count"]],layout:{"icon-image":["concat",["get","system_id"],"-p:",["get","duration_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0}},he={id:"vehicles-heatmap",type:"heatmap",source:"vehicles",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,1e-4,10,1],"heatmap-intensity":me,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.25,"#ffd837",.5,"#fe862e",.75,"#fd3e48",1,"#9a231f"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,10,10,12,12,20,15,40,20,60,30,100,40,100],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,.8]}},fe={id:"rentals-origins-heatmap",type:"heatmap",source:"rentals-origins",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,1e-4,10,1],"heatmap-intensity":me,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.25,"#ffd837",.5,"#fe862e",.75,"#fd3e48",1,"#9a231f"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,10,10,12,12,20,15,40,20,60,30,100,40,100],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,.8]}},je={id:"rentals-destinations-heatmap",type:"heatmap",source:"rentals-destinations",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,1e-4,10,1],"heatmap-intensity":me,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.25,"#ffd837",.5,"#fe862e",.75,"#fd3e48",1,"#9a231f"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,10,10,12,12,20,15,40,20,60,30,100,40,100],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,.8]}},ge={"zones-geodata":{id:"zones-geodata",type:"fill",source:"zones-geodata",paint:{"fill-color":"#d1d1e8","fill-opacity":.3}},"zones-geodata-border":{id:"zones-geodata-border",type:"line",source:"zones-geodata",paint:{"line-color":"#001299","line-opacity":.6,"line-dasharray":[2,2]}},"vehicles-point":{id:"vehicles-point",type:"symbol",source:"vehicles",layout:{"icon-image":["concat",["get","system_id"],"-p:",["get","duration_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0},minzoom:6},"vehicles-clusters":{id:"vehicles-clusters",type:"circle",source:"vehicles-clusters",filter:["has","point_count"],paint:{"circle-color":"#1FA024","circle-radius":["step",["get","point_count"],20,100,30,750,40]},maxzoom:18},"vehicles-clusters-count":{id:"vehicles-clusters-count",type:"symbol",source:"vehicles-clusters",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],16,100,20,750,30]},paint:{"text-color":"#fff"},maxzoom:18},"vehicles-clusters-point":Object.assign({},be,{id:"vehicles-clusters-point",source:"vehicles-clusters"}),"vehicles-heatmap":he,"rentals-origins-point":{id:"rentals-origins-point",type:"symbol",source:"rentals-origins",layout:{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0}},"rentals-origins-clusters":{id:"rentals-origins-clusters",type:"circle",source:"rentals-origins-clusters",filter:["has","point_count"],paint:{"circle-color":"#1FA024","circle-radius":["step",["get","point_count"],20,100,30,750,40]},maxzoom:18},"rentals-origins-clusters-count":{id:"rentals-origins-clusters-count",type:"symbol",source:"rentals-origins-clusters",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],16,100,20,750,30]},paint:{"text-color":"#fff"},maxzoom:18},"rentals-origins-clusters-point":Object.assign({},be,{id:"rentals-origins-clusters-point",source:"rentals-origins-clusters",layout:Object.assign({},be.layout,{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]]})}),"rentals-origins-heatmap":fe,"rentals-destinations-point":{id:"rentals-destinations-point",type:"symbol",source:"rentals-destinations",layout:{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0}},"rentals-destinations-clusters":{id:"rentals-destinations-clusters",type:"circle",source:"rentals-destinations-clusters",filter:["has","point_count"],paint:{"circle-color":"#1FA024","circle-radius":["step",["get","point_count"],20,100,30,750,40]},maxzoom:18},"rentals-destinations-clusters-count":{id:"rentals-destinations-clusters-count",type:"symbol",source:"rentals-destinations-clusters",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],16,100,20,750,30]},paint:{"text-color":"#fff"},maxzoom:18},"rentals-destinations-clusters-point":Object.assign({},be,{id:"rentals-destinations-clusters-point",source:"rentals-destinations-clusters",layout:Object.assign({},be.layout,{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]]})}),"rentals-destinations-heatmap":je,"zones-metrics-public":{id:"zones-metrics-public",type:"fill",source:"zones-metrics-public",paint:{"fill-color":["get","color"],"fill-opacity":["get","opacity"]}},"zones-metrics-public-border":{id:"zones-metrics-public-border",type:"line",source:"zones-metrics-public",paint:{"line-color":["get","borderColor"],"line-opacity":.6,"line-width":["interpolate",["linear"],["zoom"],2,4,16,2],"line-dasharray":[2,2]}},"zones-isochrones":{id:"zones-isochrones",type:"fill",source:"zones-isochrones",paint:{"fill-color":["match",["get","value"],60,"#15AEEF",120,"#15AEEF",180,"#15AEEF",300,"#15AEEF","#15AEEF"],"fill-opacity":["match",["get","value"],60,.4,120,.3,180,.2,300,.1,.1]}}},ye={vehicles:{type:"geojson"},"vehicles-clusters":{type:"geojson",cluster:!0,clusterRadius:50},"vehicles-heatmap":{type:"geojson"},"rentals-origins":{type:"geojson"},"rentals-origins-clusters":{type:"geojson",cluster:!0,clusterRadius:50},"rentals-origins-heatmap":{type:"geojson"},"rentals-destinations":{type:"geojson"},"rentals-destinations-clusters":{type:"geojson",cluster:!0,clusterRadius:50},"rentals-destinations-heatmap":{type:"geojson"},"zones-geodata":{type:"geojson"},"zones-metrics-public":{type:"geojson"},"zones-isochrones":{type:"geojson"}},Oe=function(){return{base:de,satelite:"https://api.maptiler.com/maps/hybrid/style.json?key=ZH8yI08EPvuzF57Lyc61"}},ve=pe()(Oe().base),xe=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r,i,o,c,s;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=4;break}return e.abrupt("return");case 4:if(n=pe()(a),ve!==n){e.next=7;break}return e.abrupt("return");case 7:if(ve=n,r=t.getStyle(),i=a,"string"!==typeof a){e.next=18;break}return e.next=13,fetch(a);case 13:return o=e.sent,e.next=16,o.json();case 16:c=e.sent,i=c;case 18:return i.sources=Object.assign({},r.sources,i.sources),i.layers.length,s=r.layers.filter((function(e){return ge[e.id]||e.id.indexOf("gl-draw-")>-1})),i.layers=i.layers.filter((function(e){return!ge[e.id]&&e.id.indexOf("gl-draw-")<=-1})),i.layers=i.layers.concat(s),e.next=25,t.setStyle(i);case 25:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=a(232);f.a.updateLocale("nl",ce.a);var we=new _e.a;window.showConfetti=function(){we.addConfetti(),we.addConfetti({emojis:["\ud83d\udeb2","\ud83d\udeb2","\ud83d\udeb4\u200d\u2640\ufe0f","\ud83d\udef5","\ud83d\udef4","\ud83d\ude97","\ud83d\ude99","\u2728","\u2728"],emojiSize:30,confettiNumber:100})};var ke=function(){if(!(window.innerWidth>640)){var e=document.getElementsByClassName("mapboxgl-popup");e.length&&e[0].remove()}},Ee=a(180),Se=a.n(Ee),Ne=(a(284),a(233)),ze=a.n(Ne),Te={white:{backgroundColor:"#fff",borderColor:"#CCCCCC",color:"#343E47"},red:{backgroundColor:"#fff",borderColor:"#CCCCCC",color:"#ff0000"},green:{backgroundColor:"#fff",borderColor:"#CCCCCC",color:"darkgreen"},greenHighlighted:{color:"#000",backgroundColor:"#00ff008c",borderColor:"#CCCCCC"},zone:{monitoring:{primaryColor:"#15AEEF"},stop:{primaryColor:"#FD862E"},no_parking:{primaryColor:"#FD3E48"},quiet:{primaryColor:"#48E248"},moderate:{primaryColor:"#FD862E"},busy:{primaryColor:"#FD3E48"}}},Ce=a(234),De=function(e){return e.status>=200&&e.status<=299},Ae=function(e){return e?{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json",charset:"utf-8"}}:{headers:{"Content-Type":"application/json",charset:"utf-8"}}},Re=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r,i;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",[]);case 2:if(a.municipality){e.next=4;break}return e.abrupt("return",[]);case 4:return n="municipality=".concat(a.municipality,"&geography_types=no_parking&geography_types=stop&geography_types=monitoring"),r="https://mds.dashboarddeelmobiliteit.nl/admin/zones?".concat(n),e.next=8,fetch(r,Ae(t));case 8:if(i=e.sent,De(i)){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,i.json();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n,r;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t&&t.municipality?"municipality=".concat(t.municipality,"&"):"",n="https://mds.dashboarddeelmobiliteit.nl/public/zones?".concat(a+="geography_types=no_parking&geography_types=stop"),e.next=5,fetch(n,Ae());case 5:if(r=e.sent,De(r)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mds.dashboarddeelmobiliteit.nl/admin/zone",e.next=3,fetch("https://mds.dashboarddeelmobiliteit.nl/admin/zone",Object.assign({},Ae(t),{method:"POST",body:JSON.stringify(a)}));case 3:if(n=e.sent,De(n)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Me=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mds.dashboarddeelmobiliteit.nl/admin/zone",e.next=3,fetch("https://mds.dashboarddeelmobiliteit.nl/admin/zone",Object.assign({},Ae(t),{method:"PUT",body:JSON.stringify(a)}));case 3:if(n=e.sent,De(n)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://mds.dashboarddeelmobiliteit.nl/admin/zone/".concat(a),e.next=3,fetch(n,Object.assign({},Ae(t),{method:"DELETE"}));case 3:if(r=e.sent,De(r)){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ge=function(e){if(e){var t={geography_id:e};window.history.pushState(t,"Zone details","/map/zones/".concat(e))}},Pe=function(e){if(e){var t={geography_id:e};window.history.pushState(t,"Zone edit","/admin/zones/".concat(e))}},Ue=function(e){if(e){var t=e.realtime_data;if(t&&t.num_places_available){if(e.capacity&&e.capacity.combined)return e.capacity.combined;var a=0;return Object.keys(e.capacity).forEach((function(t){a+=parseInt(e.capacity[t])})),a}}},We=function(e){if(e&&e.num_vehicles_available){var t=0;return Object.keys(e.num_vehicles_available).forEach((function(a){t+=parseInt(e.num_vehicles_available[a])})),t}},He=function(e,t){var a=parseInt(e/t*100);return isNaN(a)?"transparent":at(e,t)},Be=function(e){if(!e||!e.layer)return"<div />";if(!e.properties)return"<div />";if(!e.properties.stop)return"<div />";var t=JSON.parse(e.properties.stop);if(!t)return'\n    <div class="font-inter" style="min-width:180px">\n      <div class="text-lg font-bold">\n        '.concat(e.properties.name,"\n      </div>\n    </div>\n  ");if(!t.realtime_data)return"<div>:)</div>";var a=!0===t.status.control_automatic,n=!a&&!0===t.status.is_returning,r=(!a&&t.status.is_returning,Ue(t)),i=We(t.realtime_data),o=i/r*100;return'\n    <div class="font-inter">\n      <div class="text-lg font-bold">\n        '.concat(e.properties.name,'\n      </div>\n      <div class="mt-2 text-sm font-bold" ').concat(a?"hidden":"",' style="color:#15aeef;">\n        Instelling actief: <b>altijd ').concat(n?"open":"gesloten",'</b>\n      </div>\n      <div class="mt-2 text-sm font-bold" ').concat(!r||isNaN(o)?"hidden":"",">\n        Bezetting: ").concat(i).concat(a?"/".concat(r):"",'\n      </div>\n      <div class="mt-2 text-sm bg-green" ').concat(!r||isNaN(o)?"hidden":"",">\n        ").concat(function(e,t){if(!e)return"<div />";if(!t)return"<div />";var a=parseInt(e/t*100);return'<div class="rounded-xl flex" style="background: #F6F5F4">\n      <div class="rounded-l-xl font-bold py-1 px-2" style="background-color: '.concat(He(e,t),";min-width: ").concat(a>100?100:a,'%">\n        ').concat(a>100?100:a,'%\n      </div>\n      <div class="flex-1" />\n    </div>')}(i,r),'\n      </div>\n      <div class="mt-4 text-sm">\n        ').concat(function(e){if(e){var t="";return Object.keys(e.realtime_data.num_places_available).forEach((function(a){var n=function(e,t){if(e&&0!==e.length)return e[t]?e[t]:void 0}(e.realtime_data.num_vehicles_available,a),r=function(e,t){if(e&&0!==e.length)return e[t]?e[t]:e.combined}(e.capacity,a),i=function(e,t){if(e&&t)return e[t]?e[t]:void 0}(e.realtime_data.num_places_available,a);if(n||r){var o;return t+='<div class="flex my-1" style="min-width:180px">\n        <div class="mr-2 flex justify-center flex-col">\n          <div\n            class="rounded-full w-3 h-3" style="background: '.concat(i>0?Te.zone.quiet.primaryColor:Te.zone.busy.primaryColor,'"\n            title="').concat(i>0?"Open voor":"Gesloten voor"," ").concat(function(e){return"moped"===e?"scooters":"bicycle"===e?"fietsen":"cargo_bicycle"===e?"bakfietsen":"car"===e?"auto's":"other"===e?"overige voertuigen":void 0}(a),'"\n          ></div>\n        </div>\n        <div class="mr-4 w-5">\n          <img class="inline-block w-5" src="').concat((o=a,"bicycle"===o?"/components/MapComponent/vehicle-type-bicycle.svg":"cargo_bicycle"===o?"/components/MapComponent/vehicle-type-cargo_bicycle.svg":"moped"===o?"/components/MapComponent/vehicle-type-moped.svg":"car"===o?"/components/MapComponent/vehicle-type-car.svg":"other"===o?"/components/MapComponent/vehicle-type-other.svg":void 0),'" alt="').concat(a,'" style="max-width:none;" />\n        </div>\n        <div class="mr-2 flex justify-center flex-col">\n          ').concat(n||"0").concat(e.capacity&&e.capacity.combined?"":r?"/".concat(r):"","\n        </div>\n      </div>")}})),t}}(t),'\n      </div>\n      <div class="mt-2 text-base" hidden>\n        Scooter aanbieders:\n      </div>\n      <div hidden>\n        ').concat("<div>\n      check: 14<br />\n      felyx: 13<br />\n      gosharing: 8<br />\n    </div>",'\n      </div>\n      <div class="mt-2 text-base" hidden>\n        Andere aanbieders:\n      </div>\n      <div class="text-xs" hidden>\n        (tellen niet mee voor capaciteit)\n      </div>\n      <div hidden>\n        donkey: 25<br />\n        htm: 4\n      </div>\n    </div>\n  ')},Ze=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a,n){var r,i;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(!a){e.next=8;break}return e.next=5,et(a,n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,tt();case 10:e.t0=e.sent;case 11:if(r=e.t0){e.next=14;break}return e.abrupt("return");case 14:if(i={type:"FeatureCollection",features:[]},r.forEach((function(e){i.features.push(nt(e))})),t.getSource("zones-metrics-public")){e.next=18;break}return e.abrupt("return");case 18:t.U.setData("zones-metrics-public",i),t.U.show("zones-metrics-public"),t.on("click","zones-metrics-public",(function(e){if(!(e&&e.features&&e.features[0]&&e.features[0].properties&&e.features[0].properties.geography_type&&"no_parking"===e.features[0].properties.geography_type)){(new ie.a.Popup).setLngLat(e.lngLat).setHTML(Be(e.features[0])).addTo(t);var a=e.features[0].properties.geography_id;Ge(a)}})),t.on("mouseenter","zones-metrics-public",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","zones-metrics-public",(function(){t.getCanvas().style.cursor=""}));case 23:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Ve=function(e){var t=Se.a.modes;(t=Ce.enable(t)).static=ze.a;var a=[{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":["match",["get","user_geography_type"],"stop",Te.zone.stop.primaryColor,"no_parking",Te.zone.no_parking.primaryColor,"monitoring",Te.zone.monitoring.primaryColor,Te.zone.monitoring.primaryColor],"fill-outline-color":"#3bb2d0","fill-opacity":["match",["get","user_geography_type"],"no_parking",.2,"monitoring",.3,"stop",.8,.5]}}],n=[{id:"gl-draw-polygon-stroke-active",type:"line",layout:{"line-cap":"round","line-join":"round"},filter:["all",["==","$type","Polygon"],["!=","active","false"]],paint:{"line-color":["match",["get","user_geography_type"],"stop",Te.zone.stop.primaryColor,"no_parking",Te.zone.no_parking.primaryColor,"monitoring",Te.zone.monitoring.primaryColor,"#D20C0C"],"line-dasharray":[.2,2],"line-width":3}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["!=","meta","midpoint"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":4,"circle-color":["match",["get","user_geography_type"],"stop",Te.zone.stop.primaryColor,"no_parking",Te.zone.no_parking.primaryColor,"monitoring",Te.zone.monitoring.primaryColor,"#D20C0C"]}},{id:"gl-draw-polygon-and-line-midpoint-active",type:"circle",filter:["all",["==","meta","midpoint"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":["match",["get","user_geography_type"],"stop",Te.zone.stop.primaryColor,"no_parking",Te.zone.no_parking.primaryColor,"monitoring",Te.zone.monitoring.primaryColor,"#D20C0C"]},"circle-opacity":.5}],r=new Se.a({displayControlsDefault:!1,modes:t,userProperties:!0,styles:[].concat(a,n)});e.addControl(r,"top-left"),window.CROW_DD?window.CROW_DD.theDraw=r:window.CROW_DD={theDraw:r},Ke(e)},Ye=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.CROW_DD){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Re(t,a);case 4:if(n=e.sent,!(Object.keys(n).length<=0)){e.next=7;break}return e.abrupt("return");case 7:Qe(n).forEach((function(e){var t=[];e.forEach((function(e){var a=e;t.push({type:"Feature",properties:{geography_type:a.geography_type},id:a.zone_id,geometry:a.area.geometry})})),window.CROW_DD.theDraw.add({type:"FeatureCollection",features:t})}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Je=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.CROW_DD){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ie(t,a);case 4:if(n=e.sent,!(Object.keys(n).length<=0)){e.next=7;break}return e.abrupt("return");case 7:Qe(n).forEach((function(e){var t=[];e.forEach((function(e){var a=e;t.push({type:"Feature",properties:{geography_type:a.geography_type},id:a.zone_id,geometry:a.area.geometry})})),window.CROW_DD.theDraw.add({type:"FeatureCollection",features:t})}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ke=function(e){if(e){e.on("draw.selectionchange",(function(e){if(e&&(e.features&&1===e.features.length)){var t=e.features[0].id,a=new CustomEvent("setSelectedZone",{detail:t});window.dispatchEvent(a)}}))}},Xe=function(e,t){if(e&&t){var a=e.filter((function(e){return e.zone_id===t}));return a&&a[0]?a[0]:{}}},qe=function(e){var t=Qe(e),a=[];return t[0].forEach((function(e){a.push(e)})),t[1].forEach((function(e){a.push(e)})),t[2].forEach((function(e){a.push(e)})),a},Qe=function(e){return[e.filter((function(e){return"monitoring"===e.geography_type})),e.filter((function(e){return"no_parking"===e.geography_type})),e.filter((function(e){return"stop"===e.geography_type}))]},$e=function(e){var t=[];return e.map((function(e){e.id&&"string"===typeof e.id&&e.geometry&&e.geometry.coordinates&&e.geometry.coordinates[0]&&e.geometry.coordinates[0].length>2&&t.push(e)})),t},et=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r,i;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=4;break}return e.abrupt("return");case 4:return n={municipality:a},e.next=7,Re(t,n);case 7:if((r=e.sent)&&!r.message){e.next=10;break}return e.abrupt("return");case 10:return i=r.sort((function(e,t){return e.name.localeCompare(t.name)})),i=qe(i),e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),tt=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n,r;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?{municipality:t}:{},e.next=3,Ie(a);case 3:if((n=e.sent)&&!n.message){e.next=6;break}return e.abrupt("return");case 6:return r=n.sort((function(e,t){return e.name.localeCompare(t.name)})),r=qe(r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(e,t){return function(e){var t,a;return(e=100-e)<50?(t=255,a=Math.round(5.1*e)):(a=255,t=Math.round(510-5.1*e)),"#"+("000000"+(65536*t+256*a+0).toString(16)).slice(-6)}(Math.min(100,e/t*100))},nt=function(e){if(e&&e.area&&e.area.geometry&&e.area.geometry.coordinates){return{id:e.zone_id,type:"Feature",properties:{zone_id:e.zone_id,geography_id:e.geography_id,geography_type:e.geography_type,name:e.name,stop:JSON.stringify(e.stop),color:function(e){if(!e)return"transparent";var t=Ue(e),a=We(e.realtime_data);return at(a,t)}(e.stop),borderColor:function(e){if(Te&&Te.zone&&Te.zone[e])return Te.zone[e].primaryColor}(e.geography_type),opacity:"stop"===e.geography_type?.6:.1},geometry:e.area.geometry}}},rt=function(e,t){if(e)if(t){var n=t.filter((function(t){return t.geography_id===e})),r=!(!n||!n[0])&&n[0];if(r){var i=a(108);if(r.area&&r.area.geometry&&r.area.geometry.coordinates&&r.area.geometry.coordinates[0]){if(!window.ddMap)return;var o=i.extent(r.area);setTimeout((function(e){window.ddMap.fitBounds(o,{padding:{top:25,bottom:25,left:window.innerWidth>800?350:25,right:25},duration:1400}),setTimeout((function(){!function(e,t){var a=Object(se.a)(t.area);e.fire("click",{lngLat:new ie.a.LngLat(a.geometry.coordinates[0],a.geometry.coordinates[1])})}(window.ddMap,r)}),1500)}),100)}return!0}console.log("navigateToGeography :: Zone not found :: Was searching for x.geography_id === geographyId",t,e)}else console.log("navigateToGeography :: No allZones given");else console.log("navigateToGeography :: No geographyId given")};a(285);function it(e){return ot.apply(this,arguments)}function ot(){return(ot=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n,r,i,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0,r=["#1FA024","#48E248","#FFD837","#FD3E48"];case 3:if(!(n<r.length)){e.next=12;break}return i=r[n],e.next=7,lt(t,i);case 7:o=e.sent,a.push(o);case 9:n++,e.next=3;break;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return st.apply(this,arguments)}function st(){return(st=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n,r,i,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0,r=["#48E248","#44BD48","#3B7747","#343E47"];case 3:if(!(n<r.length)){e.next=12;break}return i=r[n],e.next=7,lt(t,i);case 7:o=e.sent,a.push(o);case 9:n++,e.next=3;break;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r,i,o,c,s,l,d,u,p,m,b,h,f,j;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://www.w3.org/2000/svg",n=document.createElementNS("http://www.w3.org/2000/svg","svg"),(r=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","12"),r.setAttribute("cy","12"),r.setAttribute("r","12"),r.setAttribute("fill","12"),r.setAttribute("opacity","0.304"),r.setAttribute("fill",a),n.appendChild(r),(i=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform","translate(2 2)"),i.setAttribute("fill",a),i.setAttribute("stroke","#fff"),i.setAttribute("stroke-width","1"),(o=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","10"),o.setAttribute("cy","10"),o.setAttribute("r","10"),o.setAttribute("stroke","none"),(c=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","10"),c.setAttribute("cy","10"),c.setAttribute("r","9.5"),c.setAttribute("fill","none"),i.appendChild(o),i.appendChild(c),n.appendChild(i),(s=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","4.5"),s.setAttribute("cy","4.5"),s.setAttribute("r","4.5"),s.setAttribute("transform","translate(14 1)"),s.setAttribute("fill",t),n.appendChild(s),l={},d={},n.setAttribute("viewBox","0 0 24 24"),l.value=50,d.value=50,u=document.createElement("canvas"),n.setAttribute("width",l.value),n.setAttribute("height",d.value),u.width=l.value,u.height=d.value,p=(new XMLSerializer).serializeToString(n),m=window.URL||window.webkitURL||window,b=new Image,h=new Blob([p],{type:"image/svg+xml"}),f=m.createObjectURL(h),b.src=f,e.next=53,b.decode();case 53:return(j=u.getContext("2d")).drawImage(b,0,0),m.revokeObjectURL(f),e.abrupt("return",new Uint8Array(j.getImageData(0,0,b.width,b.height).data.buffer));case 57:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ut=function(e){return e.status>=200&&e.status<=299},pt=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://ors.dashboarddeelmobiliteit.nl/v2/isochrones/foot-walking",a={range:[60,120,180,300],range_type:"time",locations:t,intersections:!1},e.prev=2,e.next=5,fetch("https://ors.dashboarddeelmobiliteit.nl/v2/isochrones/foot-walking",Object.assign({},{headers:{"Content-Type":"application/json; charset=utf-8"}},{method:"POST",body:JSON.stringify(a)}));case 5:if(n=e.sent,ut(n)){e.next=9;break}return console.log("Failed to get what I want, got status: "+n.status),e.abrupt("return");case 9:return e.next=11,n.json();case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(2),console.log("A network error!",e.t0),e.abrupt("return","network error");case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),mt=(a(286),function(e,t){e&&t&&e.getSource("zones-isochrones")&&(e.U.setData("zones-isochrones",t),e.U.show("zones-isochrones"))}),bt=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(a);case 2:return n=e.sent,mt(t,n),e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ht=function(){var e=Object(n.useState)([]),t=Object(Y.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(0),o=Object(Y.a)(i,2),c=o[0],s=o[1],l=(Object(m.c)(),Object(m.d)((function(e){return{filter:e.filter,layers:e.layers,ui:e.ui}}))),d=l&&l.ui&&l.ui.FILTERBAR,u=function(e){if(e){var t=e.getCenter(),n=t.lng,i=t.lat,o=new ie.a.Marker({draggable:!0}).setLngLat([n,i]).addTo(e);!function(){var t=[];a.forEach((function(e){var a=e.getLngLat();t.push([a.lng,a.lat])})),t.push([n,i]),bt(e,t)}();var l=function(){var t=Object(ne.a)(Object(ae.a)().mark((function t(){var n;return Object(ae.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],a.forEach((function(e){var t=e.getLngLat();n.push([t.lng,t.lat])})),t.next=4,bt(e,n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();o.on("dragend",l),a.push(o),r(a),s(c+1)}};Object(m.d)((function(e){return!!e.authentication.user_data}));return Object(X.jsx)(X.Fragment,{children:Object(X.jsxs)("div",{className:"IsochroneTools ".concat(d?"filter-open":""," fixed bg-white"),children:[(!a||a.length<=0)&&Object(X.jsx)("div",{className:"IsochroneTools-ctrl-group",children:Object(X.jsx)("div",{className:"IsochroneTools-ctrl IsochroneTools-ctrl-start cursor-pointer flex justify-center flex-col text-center",onClick:function(){u(window.ddMap)},title:"Voeg punt voor isochronenweergave toe"})}),a&&a.length>0&&Object(X.jsxs)("div",{className:"IsochroneTools-ctrl-group",children:[Object(X.jsx)("div",{className:"IsochroneTools-ctrl IsochroneTools-ctrl-add cursor-pointer flex justify-center flex-col text-center",onClick:function(){u(window.ddMap)},title:"Voeg nieuw punt toe"}),Object(X.jsx)("div",{className:"IsochroneTools-ctrl IsochroneTools-ctrl-close cursor-pointer flex justify-center flex-col text-center",onClick:function(){var e;e=window.ddMap,a&&(a.forEach((function(e){e.remove()})),r([]),e.U.hide("zones-isochrones"))},title:"Stop isochronenweergave"})]}),a&&a.length>0&&Object(X.jsx)("div",{className:"IsochroneTools-legend-container",children:Object(X.jsxs)("div",{className:"IsochroneTools-legend flex",children:[Object(X.jsx)("div",{className:"walker-icon"}),Object(X.jsxs)("div",{className:"IsochroneTools-legend-parts flex-1 flex justify-center",children:[Object(X.jsx)("div",{children:"1m"}),Object(X.jsx)("div",{children:"2m"}),Object(X.jsx)("div",{children:"3m"}),Object(X.jsx)("div",{children:"5m"})]})]})})]})})};function ft(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("Map component");var t=Object(n.useState)(document.location.pathname),a=Object(Y.a)(t,2),r=a[0],i=(a[1],Object(n.useState)(document.location.search)),o=Object(Y.a)(i,2),c=(o[0],o[1]),s=Object(m.d)((function(e){return e.filter?e.filter.gebied:null})),l=Object(m.c)(),d=Object(m.d)((function(e){return e.vehicles||null})),u=Object(m.d)((function(e){return e.filter||null})),p=Object(m.d)((function(e){return e.rentals||null})),b=Object(m.d)((function(e){return e.layers||null})),h=Object(m.d)((function(e){return!!e.authentication.user_data})),j=Object(m.d)((function(e){return e.metadata&&e.metadata.aanbieders?e.metadata.aanbieders:[]})),y=Object(m.d)((function(e){return e.layers?e.layers.extent:null})),O=Object(n.useState)(0),v=Object(Y.a)(O,2),x=v[0],_=v[1],w=Object(m.d)((function(e){return e&&e.zones_geodata?e.zones_geodata:null})),k=e.mapContainer,E=Object(n.useState)(null),S=Object(Y.a)(E,2),N=S[0],z=S[1],T=Object(n.useState)(!1),C=Object(Y.a)(T,2),D=C[0],A=C[1],R=Object(n.useState)(!1),I=Object(Y.a)(R,2),L=(I[0],I[1]),M=Object(n.useState)(b.mapextent&&b.mapextent[0]?(b.mapextent[0]+b.mapextent[2])/2:4.4671854),F=Object(Y.a)(M,1)[0],G=Object(n.useState)(b.mapextent&&b.mapextent[1]?(b.mapextent[1]+b.mapextent[3])/2:51.9250836),P=Object(Y.a)(G,1)[0],U=Object(n.useState)(b.zoom||15),W=Object(Y.a)(U,1)[0],H=Object(n.useState)(!1),B=Object(Y.a)(H,2),Z=B[0],V=B[1],K=Object(n.useState)(!1),q=Object(Y.a)(K,2),Q=q[0],$=q[1],ee=Object(n.useState)(!1),te=Object(Y.a)(ee,2),re=te[0],oe=te[1],ce=Object(n.useRef)(null),se=Object(m.d)((function(e){return e.authentication.user_data})),de=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:null})),ue=Object(J.g)();Object(n.useEffect)((function(){c(ue?ue.search:null)}),[ue]),Object(n.useEffect)((function(e){(de?pe:me)()}),[]);var pe=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){var t;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(de,s);case 2:t=e.sent,z(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){var t;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(s);case 2:t=e.sent,z(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=Object(n.useCallback)((function(e){var t=e.getBounds(),a=[t._sw.lng,t._sw.lat,t._ne.lng,t._ne.lat];l({type:"LAYER_SET_MAP_EXTENT",payload:a}),l({type:"LAYER_SET_MAP_ZOOM",payload:e.getZoom()})}),[]);return Object(n.useEffect)((function(){!function(){if(!ce.current){var e,t=Oe();ce.current=new ie.a.Map({container:k.current,style:t.base,accessToken:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",center:[F,P],zoom:W,maxZoom:19,attributionControl:!1}),(e=ce.current).addControl(new ie.a.NavigationControl({showCompass:!1}),"bottom-right"),e.addControl(new ie.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),"bottom-right"),e.dragRotate.disable(),e.touchZoomRotate.disableRotation(),le.a.init(ce.current,ie.a),ce.current.on("error",(function(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("An error event occurred.",e),l({type:"SHOW_LOADING",payload:!1})})),ce.current.on("idle",(function(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("An idle event occurred.",e),l({type:"SHOW_LOADING",payload:!1})})),ce.current.on("moveend",(function(){be(ce.current)})),ce.current.on("zoomend",(function(){be(ce.current)})),ce.current.on("load",(function(){window.ddMap=ce.current,A(!0),function(e){Object.keys(ye).forEach((function(t,a){e.U.addGeoJSON(t,null,ye[t])}))}(ce.current),function(e){Object.keys(ge).forEach((function(t,a){e.U.addLayer(ge[t])}))}(ce.current),V(!0)})),ce.current.dragRotate.disable(),ce.current.touchZoomRotate.disableRotation()}}()}),[F,P,W,k,be]),Object(n.useEffect)((function(){if(D&&(Q||re)&&!(window.location.pathname.indexOf("/map/zones/")<=-1&&window.location.pathname.indexOf("/admin/zones/")<=-1)){var e=r.split("/zones/")[1];rt(e,N),window.location.pathname.indexOf("/admin/zones/")>-1&&setTimeout((function(t){!function(e,t){if(window.CROW_DD&&window.CROW_DD.theDraw&&e&&t){var a=t.filter((function(t){return t.geography_id===e})),n=!(!a||!a[0])&&a[0];n&&window.CROW_DD.theDraw.get(n.zone_id)&&window.CROW_DD.theDraw.changeMode("direct_select",{featureId:n.zone_id})}}(e,N)}),2500)}}),[D,Q,re]),Object(n.useEffect)((function(){if(D){var e=new URLSearchParams(window.location.search).get("gm_code");e&&l({type:"SET_FILTER_GEBIED",payload:e})}}),[D,Q,re]),Object(n.useEffect)((function(){var e;D&&(ce.current&&b&&"displaymode-zones-admin"===b.displaymode&&((e=ce.current)&&(window.CROW_DD&&window.CROW_DD.theDraw||Ve(e)),setTimeout((function(){var e=Oe();xe(window.ddMap,e.satelite)}),5),oe(!0)))}),[D,b.displaymode]),Object(n.useEffect)((function(){D&&("displaymode-zones-public"===b.displaymode&&(Ze(ce.current,de,s),setTimeout((function(){var e=Oe();xe(window.ddMap,e.base)}),5)),$(!0))}),[D,Q,s,b.displaymode]),Object(n.useEffect)((function(){b.displaymode.indexOf("displaymode-zones")<=-1||(de?pe:me)()}),[b.displaymode]),Object(n.useEffect)((function(e){if(D&&b.displaymode&&window.ddMap.isStyleLoaded()){var t,a=Oe();return b.displaymode.indexOf("displaymode-zones")<=-1&&(t=setTimeout((function(){xe(window.ddMap,a.base)}),100)),function(){clearTimeout(t)}}}),[D,Z,b.displaymode]),Object(n.useEffect)((function(e){if(D)return b&&"displaymode-zones-admin"===b.displaymode?void Object(ne.a)(Object(ae.a)().mark((function e(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.CROW_DD.theDraw.deleteAll(),Ye(de,{municipality:s}),L(!0),_(x+1);case 5:case"end":return e.stop()}}),e)})))():(window.CROW_DD&&window.CROW_DD.theDraw&&(window.CROW_DD.theDraw.deleteAll(),setTimeout((function(){window.CROW_DD.theDraw.deleteAll()}),500)),void window.ddMap.U.hide("zones-isochrones"))}),[D,b.displaymode,s]),Object(n.useEffect)((function(e){D&&window.CROW_DD&&window.CROW_DD.theDraw&&(b&&"displaymode-zones-public"===b.displaymode?Object(ne.a)(Object(ae.a)().mark((function e(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.CROW_DD.theDraw.deleteAll(),Je(de,{municipality:s}),L(!0);case 4:case"end":return e.stop()}}),e)})))():window.CROW_DD&&window.CROW_DD.theDraw&&window.CROW_DD.theDraw.deleteAll())}),[D,b.displaymode,s]),Object(n.useEffect)((function(t){if(Z){e.activeSources.forEach((function(e){ce.current.U.showSource(e)})),Object.keys(ye).forEach((function(t,a){if(e.activeSources.indexOf(t)<=-1){if(!ce.current.isSourceLoaded(t))return;ce.current.U.hideSource(t)}}))}}),[Z,JSON.stringify(e.activeSources)]),Object(n.useEffect)((function(t){Z&&function(e,t,a){a&&(a.forEach((function(t){e.U.show(t)})),Object.keys(t).forEach((function(t,n){a.indexOf(t)<=-1&&e.U.hide(t)})))}(ce.current,ge,e.layers)}),[Z,JSON.stringify(e.layers)]),Object(n.useEffect)((function(e){Z&&(!d.data||d.data.length<=0||(ce.current.getSource("vehicles")&&ce.current.U.setData("vehicles",d.data),ce.current.getSource("vehicles-clusters")&&ce.current.U.setData("vehicles-clusters",d.data)))}),[Z,d.data]),Object(n.useEffect)((function(e){Z&&(!w||w.data.length<=0||ce.current.U.setData("zones-geodata",w.data))}),[Z,w,w.data]),Object(n.useEffect)((function(e){Z&&(!p||!p.origins||Object.keys(p.origins).length<=0||(ce.current.U.setData("rentals-origins",p.origins),ce.current.U.setData("rentals-origins-clusters",p.origins)))}),[Z,p,p.origins]),Object(n.useEffect)((function(e){Z&&(!p||!p.destinations||Object.keys(p.destinations).length<=0||(ce.current.U.setData("rentals-destinations",p.destinations),ce.current.U.setData("rentals-destinations-clusters",p.destinations)))}),[Z,p,p.destinations]),Object(n.useEffect)((function(){if(ce.current&&y&&0!==y.length){(window.location.pathname.indexOf("/map/zones/")<=-1&&window.location.pathname.indexOf("/admin/zones/")<=-1||!r.split("/zones/")[1])&&(ce.current.fitBounds(y),l({type:"LAYER_SET_ZONES_EXTENT",payload:[]}))}}),[y]),Object(n.useEffect)((function(){if(Z&&j){!function(e,t,a,n){var r;["vehicles-point","vehicles-clusters-point","rentals-origins-point","rentals-origins-clusters-point","rentals-destinations-point","rentals-destinations-clusters-point"].forEach((function(i){function o(i){r&&r.remove(),ke();for(var o=i.features[0].properties,c=g(t,o.system_id),s=i.features[0].geometry.coordinates.slice();Math.abs(i.lngLat.lng-s[0])>180;)s[0]+=i.lngLat.lng>s[0]?360:-360;var l,d=function(e){var t={baqme:"https://www.baqme.com/",bird:"https://www.bird.co/",bondi:"https://www.bondi.city/",cykl:"https://www.cykl.nl/",check:"https://ridecheck.app/",cargoroo:"https://cargoroo.nl/",deelfietsnederland:"https://deelfietsnederland.nl/",donkey:"https://www.donkey.bike/",moveyou:"https://www.moveyou.com/",felyx:"https://felyx.com/",flickbike:"https://www.flickbike.nl/",gosharing:"https://go-sharing.com/",hely:"https://hely.com/",htm:"https://www.htm.nl/ons-vervoer/htm-fiets",keobike:"https://keobike.nl/",lime:"https://www.li.me/",tier:"https://www.tier.app/",dott:"https://ridedott.com/",uwdeelfiets:"https://www.uwdeelfiets.nl/"};return t[e]?t[e]:null}(o.system_id),u="bicycle"===(l=o.form_factor)?"fiets":"cargo_bicycle"===l?"bakfiets":"moped"===l?"scooter":"car"===l?"auto":"other"===l?"":null;r=(new ie.a.Popup).setLngLat(s).setHTML('\n          <h1 class="mb-2">\n            <span\n              class="rounded-full inline-block w-4 h-4"\n              style="background-color: '.concat(c,';position: relative;top: 2px"\n              onClick="window.showConfetti()"\n              >\n            </span>\n            <span class="Map-popup-title ml-1" style="color: ').concat(c,';">\n              ').concat(function(e){var t={baqme:"BAQME",bird:"Bird",bondi:"bondi",cykl:"Cykl",check:"Check",cargoroo:"Cargoroo",deelfietsnederland:"Deelfiets Nederland",donkey:"Donkey Republic",felyx:"Felyx",flickbike:"FlickBike",gosharing:"GO Sharing",hely:"Hely",htm:"HTM Fiets",moveyou:"MoveYou",keobike:"KeoBike",lime:"Lime",tier:"TIER",dott:"Dott",uwdeelfiets:"Uw Deelfiets"};return t[e]?t[e]:e}(o.system_id)," ").concat(u||"",'\n            </span>\n          </h1>\n          <div class="Map-popup-body">\n            ').concat(o.in_public_space_since?"<div>\n              Staat hier sinds ".concat(f()(o.in_public_space_since).locale("nl").from(n),"<br />\n              Geparkeerd sinds: ").concat(f()(o.in_public_space_since).format("DD-MM-YYYY HH:mm"),"\n            </div>"):"","\n\n            ").concat(o.distance_in_meters?"<div>\n              Dit voertuig is ".concat(o.distance_in_meters," meter verplaatst<br />\n            </div>"):"","\n\n            ").concat(a&&o.vehicle_id?'<div class="mt-4 mb-4 text-xs block text-gray-400">\n              '.concat(o.vehicle_id,"\n            </div>"):"","\n\n            ").concat(d?'<div class="mt-2">\n              <a href="'.concat(d,'" rel="external" target="_blank" class="inline-block py-1 px-2 text-white rounded-md hover:opacity-80" style="background-color: ').concat(c,';">\n                website\n              </a>\n            </div>'):"","\n\n          </div>\n        ")).addTo(e)}e.off("touchend",i,o),e.on("touchend",i,o),e.off("click",i,o),e.on("click",i,o),e.on("mouseenter",i,(function(){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave",i,(function(){e.getCanvas().style.cursor=""})),e.on("zoomstart",i,(function(){ke()})),e.on("movestart",i,(function(){ke()}))}))}(ce.current,j,(function(){if(!se||!se.user)return!1;var e,t=["mail@bartroorda.nl","sven.boor@gmail.com"];return e=se.user.email,t.indexOf(e)>-1}),u.datum)}}),[Z,j,u.datum]),Object(n.useEffect)((function(){var e;Z&&(e=ce.current,["vehicles-clusters","rentals-origins-clusters","rentals-destinations-clusters"].forEach((function(t){e.on("click",t,(function(a){var n=e.queryRenderedFeatures(a.point,{layers:[t]}),r=n[0].properties.cluster_id;e.getSource(t).getClusterExpansionZoom(r,(function(t,a){t||e.easeTo({center:n[0].geometry.coordinates,zoom:a})}))})),e.on("mouseenter",t,(function(){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave",t,(function(){e.getCanvas().style.cursor=""}))})))}),[Z]),Object(n.useEffect)((function(){var e=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.system_id+("displaymode-rentals"===b.displaymode?"-r":"-p"),!ce.current.hasImage(a+":0")){e.next=3;break}return e.abrupt("return");case 3:if("displaymode-rentals"!==b.displaymode){e.next=9;break}return e.next=6,ct(t.color);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,it(t.color);case 11:n=e.sent;case 12:n.forEach((function(e,t){ce.current.addImage(a+":"+t,{width:50,height:50,data:e})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();j.forEach((function(t){e(t)}))}),[j,b.displaymode]),h?Object(X.jsx)(ht,{}):null}f.a.updateLocale("nl",ce.a);a(287);var jt=function(e){var t=Object(m.c)(),a=Object(n.useRef)(null),r=e.name.toUpperCase(),i=Object(m.d)((function(e){return!!e.ui&&e.ui[r]})),o=function(e,a){t({type:"SET_VISIBILITY",payload:{name:e,visibility:a}})},c=(e.options||{}).backgroundColor;return Object(X.jsxs)("div",{className:"\n      SlideBox\n      direction-".concat(e.direction,"\n      relative\n      ").concat(i?"":"is-hidden","\n      z-10\n    "),ref:a,style:e.style||{},children:[Object(X.jsx)("div",{className:" SlideBox-inner h-full ",style:{backgroundColor:c},children:e.children}),Object(X.jsx)("div",{className:"SlideBox-toggle-wrapper z-10 overflow-hidden",children:Object(X.jsx)("div",{className:"SlideBox-toggle",onClick:function(){return i&&o("FILTERBAR_EXTENDED",!1),void o(r,!i)},style:{backgroundColor:c},children:Object(X.jsx)("span",{children:e.options.title||"Lagen"})})})]})};a(288);function gt(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return!!e.filter&&""!==e.filter.gebied})),n=Object(m.d)((function(e){return!!e.layers&&e.layers.zones_visible})),r=Object(m.d)((function(e){return e.layers?e.layers:null})),i=Object(m.d)((function(e){return e.layers?e.layers.displaymode:T})),o=Object(m.d)((function(e){return e.layers?e.layers.view_park:M})),c=Object(m.d)((function(e){return e.layers?e.layers.view_rentals:P})),s=Object(m.d)((function(e){return!!e.authentication.user_data}));if(i===R)return null;var l=Oe();return Object(X.jsx)(jt,{name:"SelectLayer",direction:"right",options:{title:"Lagen",backgroundColor:"#fff"},style:{position:"absolute",top:"8px",right:0},children:Object(X.jsxs)("div",{className:"SelectLayer pr-1",children:[i===T?Object(X.jsx)("div",{"data-type":"heat-map",className:"layer".concat(o!==I?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:I})},children:Object(X.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,i===T?Object(X.jsx)("div",{"data-type":"pointers",className:"layer".concat(o!==L?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:L})},children:Object(X.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,i===T?Object(X.jsx)("div",{"data-type":"vehicles",className:"layer".concat(o!==M?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:M})},children:Object(X.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,i===C?Object(X.jsx)("div",{"data-type":"heat-map",className:"layer".concat(c!==F?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:F})},children:Object(X.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,i===C?Object(X.jsx)("div",{"data-type":"pointers",className:"layer".concat(c!==G?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:G})},children:Object(X.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,i===C?Object(X.jsx)("div",{"data-type":"vehicles",className:"layer".concat(c!==P?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:P})},children:Object(X.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,i===D&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{"data-type":"map-style-default",className:"layer".concat("default"!==r.map_style?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_MAP_STYLE",payload:"default"}),xe(window.ddMap,l.base)},children:Object(X.jsx)("span",{className:"layer-title",children:"Terrein"})}),Object(X.jsx)("div",{"data-type":"map-style-satelite",className:"layer".concat("satelite"!==r.map_style?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_MAP_STYLE",payload:"satelite"}),xe(window.ddMap,l.satelite)},children:Object(X.jsx)("span",{className:"layer-title",children:"Sateliet"})})]}),s&&a?Object(X.jsx)("div",{"data-type":"zones",className:"layer".concat(n?"":" layer-inactive"),onClick:function(){t({type:"LAYER_TOGGLE_ZONES_VISIBLE",payload:null})},children:Object(X.jsx)("span",{className:"layer-title",children:"Zones"})}):null]})})}new AbortController;var yt=function(e,t,a,n){var r=e===T,i=e===C,o=e===R;n=n||{includeOperators:!1};var c=[];if(""!==t.zones)c.push("zone_ids="+t.zones);else if(""!==t.gebied){var s=[],l=a.gebieden.find((function(e){return e.gm_code===t.gebied}));void 0!==l&&(s=a.zones.filter((function(e){return e.municipality===l.gm_code&&e.name===l.name&&"custom"!==e.zone_type}))),1===s.length&&c.push("zone_ids="+s[0].zone_id)}else c.push("zone_ids=51233");if(!0===n.includeOperators)if(""!==t.aanbiedersexclude&&void 0!==t.aanbiedersexclude){var d=t.aanbiedersexclude.split(","),u=a.aanbieders.filter((function(e){return!1===d.includes(e.system_id)})).map((function(e){return e.system_id})).join(",");c.push("operators="+u)}else 1===a.aanbieders.length&&c.push("operators="+a.aanbieders[0].system_id);if(1===a.aanbieders.length&&c.push("operators="+a.aanbieders[0].system_id),""!==t.voertuigtypesexclude&&void 0!==t.voertuigtypesexclude){var p=t.voertuigtypesexclude.split(","),m=a.vehicle_types.filter((function(e){return!1===p.includes(e.id)})).map((function(e){return e.id})).join(",");c.push("form_factors="+m)}if(r){var b=(new Date).toISOString().replace(/.\d+Z$/g,"Z");""!==t.datum&&(b=new Date(t.datum).toISOString().replace(/.\d+Z$/g,"Z")),c.push("timestamp="+b)}if(i){var h=(new Date).toISOString().replace(/.\d+Z$/g,"Z"),j=h;t&&""!==t.intervalend&&void 0!==t.intervalend&&(h=f()(t.intervalend).subtract(t.intervalduur/1e3,"seconds").toISOString().replace(/.\d+Z$/g,"Z"),j=f()(t.intervalend).toISOString().replace(/.\d+Z$/g,"Z")),c.push("start_time="+h+"&end_time="+j)}if(o){var g=void 0,y=void 0;t.ontwikkelingvan&&t.ontwikkelingtot&&(g=new Date(t.ontwikkelingvan),y=new Date(f()(t.ontwikkelingtot).add(1,"day"))),g&&y||(g=new Date,y=new Date((new Date).toDateString()),g.setDate(y.getDate()-7));var O=f()(g).format("YYYY-MM-DDTHH:mm:ss")+"Z",v=f()(y).format("YYYY-MM-DDTHH:mm:ss")+"Z";c.push("start_time="+O+"&end_time="+v)}return c};function Ot(e,t){var a=new AbortController,n=a.signal;return{abort:function(){return a.abort()},ready:fetch(e,Object(c.a)(Object(c.a)({},t),{},{signal:n}))}}var vt,xt,_t=function(e,t){if(!t)return!0;var a=!1;return["datum","gebied","herkomstbestemming","intervalend","intervalduur","ontwikkelingaggregatie","ontwikkelingtot","ontwikkelingvan","voertuigtypesexclude","zones"].forEach((function(n){e[n]!==t[n]&&(a=!0)})),a},wt=function(e,t){if(!t)return!0;var a=!1;return["datum","gebied","herkomstbestemming","voertuigtypesexclude","zones"].forEach((function(n){e[n]!==t[n]&&(a=!0)})),a},kt=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r,i,o,c,s;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="https://api.deelfietsdashboard.nl/dashboard-api/v2/park_events/stats?x=1",r=wt(a.filter,xt),xt=a.filter,r){e.next=5;break}return e.abrupt("return",vt);case 5:return(i=yt(T,a.filter,a.metadata)).length>0&&(n+="&"+i.join("&")),o={headers:{authorization:"Bearer ".concat(t)}},e.next=10,fetch(n,o);case 10:return c=e.sent,e.next=13,c.json();case 13:return s=e.sent,vt=s,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Et(e){var t=e.data;if(!t.stats)return Object(X.jsx)(X.Fragment,{});var a=0;return t.stats.forEach((function(e){a+=e})),Object(X.jsxs)("tr",{children:[Object(X.jsx)("td",{className:"py-1 px-2",children:t.name},t.zone_id+"name"),Object(X.jsx)("td",{className:"py-1 px-2",children:a},t.zone_id+"total"),t.stats.map((function(e,t){return Object(X.jsx)("td",{className:"py-1 px-2 text-center",children:e},"p"+t)}))]},t.zone_id)}function St(e){var t=Object(m.d)((function(e){return e.layers?e.layers.displaymode:T})),a=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:null})),r=Object(m.d)((function(e){return e.filter})),i=Object(m.d)((function(e){return e.metadata})),o=Object(n.useState)([]),c=Object(Y.a)(o,2),s=c[0],l=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(Object(ae.a)().mark((function e(){var t;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(a,{filter:r,metadata:i});case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!i||!i.zones||i.zones.length<=0||function(){e.apply(this,arguments)}()}),[a,i,i.zones,r,r.zones]);return t===R||t===C?null:!s||!s.park_event_stats||s.park_event_stats.length<=0?Object(X.jsx)(X.Fragment,{}):Object(X.jsx)(jt,{name:"MetaStats",direction:"right",options:{title:"Info",backgroundColor:"#fff"},style:{position:"absolute",top:"125px",right:0},children:Object(X.jsx)("div",{className:"MetaStats px-2 py-2",style:{minWidth:"356px",minHeight:"105px"},children:Object(X.jsxs)("table",{className:"text-sm text-left w-full",children:[Object(X.jsx)("thead",{className:"border-b-2 border-gray-200",children:Object(X.jsxs)("tr",{children:[Object(X.jsx)("th",{className:"py-1 px-2 text-left font-normal",children:"Zone"}),Object(X.jsx)("th",{className:"py-1 px-2 pr-4 text-left font-normal",children:"Totaal"}),[{id:0,color:"#1FA024",fillcolor:"#1FA024",name:"< 1 uur"},{id:1,color:"#48E248",fillcolor:"#48E248",name:"< 24 uur"},{id:2,color:"#FFD837",fillcolor:"#FFD837",name:"< 4 d"},{id:3,color:"#FD3E48",fillcolor:"#FD3E48",name:"> 4 d"}].map((function(e,t){return Object(X.jsx)("th",{className:"py-1 px-2 text-center",children:Object(X.jsx)("div",{className:"w-6 h-6 ",children:Object(X.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(X.jsx)("circle",{cx:"50%",cy:"50%",r:"40%",fill:e.color}),Object(X.jsx)("circle",{cx:"50%",cy:"50%",r:"34%",fill:e.fillcolor})]})})},"m"+t)}))]})}),Object(X.jsx)("tbody",{children:s.park_event_stats.map((function(e,t){return Object(X.jsx)(Et,{data:e},"stat"+t)}))})]})})})}a(289);var Nt=function(e){e.mode;var t=e.mapContainer,a=Object(m.d)((function(e){return!!e.layers&&e.layers.zones_visible})),n=Object(m.d)((function(e){return e.filter})),r=Object(m.d)((function(e){return e.layers?e.layers.displaymode:T})),i=Object(m.d)((function(e){return e.layers?e.layers.view_park:M})),o=Object(m.d)((function(e){return e.layers?e.layers.view_rentals:P})),c=[],s=[];if(a&&c.push("zones-geodata","zones-geodata-border"),c.push("zones-isochrones"),r===T&&i)switch(i){case I:c.push("vehicles-heatmap"),s.push("vehicles");break;case L:c.push("vehicles-clusters"),c.push("vehicles-clusters-count"),c.push("vehicles-clusters-point"),s.push("vehicles"),s.push("vehicles-clusters");break;case M:c.push("vehicles-point"),s.push("vehicles")}else if(r===C&&o){var l="bestemming"===n.herkomstbestemming?"destinations":"origins";switch(o){case F:c.push("rentals-".concat(l,"-heatmap")),s.push("rentals-".concat(l));break;case G:c.push("rentals-".concat(l,"-clusters")),c.push("rentals-".concat(l,"-clusters-count")),c.push("rentals-".concat(l,"-clusters-point")),s.push("rentals-".concat(l,"-clusters"));break;case P:c.push("rentals-".concat(l,"-point")),s.push("rentals-".concat(l))}}else r===A&&(c.push("zones-metrics-public"),c.push("zones-metrics-public-border"),s.push("zones-metrics-public"));return Object(X.jsxs)("div",{className:"flex flex-col",children:[Object(X.jsxs)("div",{className:"hidden sm:block",children:[Object(X.jsx)(gt,{}),(r===T||r===C)&&Object(X.jsx)(St,{}),Object(X.jsx)(jt,{name:"HubStatsWidget",direction:"right",options:{title:"Hub",backgroundColor:"#fff"},style:{position:"absolute",top:"125px",right:0},children:Object(X.jsx)("div",{className:"px-2 py-2",style:{minWidth:"356px",minHeight:"105px"},children:"dsds"})})]}),Object(X.jsx)("div",{className:"flex-1 bg-red-400",children:Object(X.jsx)(ft,{mapContainer:t,layers:c,activeSources:s})})]})};a(290);function zt(e){var t=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR}));return Object(X.jsx)("div",{className:"ContentPage relative bg-white h-full pb-20 ".concat(t&&!e.forceFullWidth?"":"full-page"),style:{overflowY:"auto",zIndex:1},children:Object(X.jsx)("div",{className:"ContentPage-inner py-3 sm:py-8 pl-3 pr-3 sm:pl-12 sm:pr-12 pb-20",children:e.children})})}a(291);var Tt=function(e,t){var a={};return t.forEach((function(e){a[e.system_id]=0})),e.forEach((function(e){Object.keys(e).forEach((function(e){"start_interval"!==e&&(e in a===!1&&(a[e]=0),a[e]++)}))})),a},Ct=a(526),Dt=a(530),At=a(137),Rt=a(138),It=a(118),Lt=a(116),Mt=a(247),Ft=a(531),Gt=a(256),Pt=a(532),Ut=a(181),Wt=a.n(Ut),Ht=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a,n){var r,i,o,c,s;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.deelfietsdashboard.nl/dashboard-api/aggregated_stats/".concat(a,"?aggregation_level=").concat(n.aggregationLevel),(i=yt(R,n.filter,n.metadata)).length>0&&(r+="&"+i.join("&")),o={headers:{authorization:"Bearer ".concat(t)}},e.next=6,fetch(r,o);case 6:return c=e.sent,e.next=9,c.json();case 9:return s=e.sent,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r,i,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.deelfietsdashboard.nl/dashboard-api/stats/generate_report?start_time=".concat(a.startDate,"&end_time=").concat(a.endDate,"&gm_code=").concat(a.gm_code),r={headers:{authorization:"Bearer ".concat(t)}},e.next=4,fetch(n,r);case 4:return i=e.sent,e.next=7,i.blob();case 7:o=e.sent,Wt()(o,"rapportage_".concat(a.startDate,"-").concat(a.endDate,"_").concat(a.gm_code,".xlsx"));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r,i,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.deelfietsdashboard.nl/dashboard-api/raw_data?start_time=".concat(a.startDate,"&end_time=").concat(a.endDate),r={headers:{authorization:"Bearer ".concat(t)}},e.next=4,fetch(n,r);case 4:return i=e.sent,e.next=7,i.blob();case 7:o=e.sent,Wt()(o,"export_dashboarddeelmobiliteit_".concat(a.startDate,"-").concat(a.endDate,"_").concat(a.gm_code,".zip"));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Vt=a(235),Yt=["start_interval"],Jt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!t||!t["".concat(e,"_aggregated_stats")]||!t["".concat(e,"_aggregated_stats")].values)return[];var r=function(e){return"day"===e?"DD MMM YYYY":"week"===e?"[w]W, YYYY":"month"===e?"MMM YYYY":void 0},i=O;return t["".concat(e,"_aggregated_stats")].values.map((function(e){var t=e.start_interval,o=Object(Vt.a)(e,Yt),s=Object(c.a)(Object(c.a)({},o),{name:f()(t).format(r(a))});if(""!==n){var l=n.split(",");Object.keys(s).forEach((function(e){l.includes(e)&&delete s[e]}))}if(i&&i.length>0){var d=i;Object.keys(s).forEach((function(e){d.includes(e)&&delete s[e]}))}return s}))},Kt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return Object(X.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:Object(X.jsx)("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:"#666",transform:"rotate(0)",fontSize:"0.8em",children:n.value})})}}]),a}(n.PureComponent),Xt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return Object(X.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:Object(X.jsx)("text",{x:-4,y:0,dy:3,textAnchor:"end",fill:"#666",transform:"rotate(0)",fontSize:"0.8em",children:n.value})})}}]),a}(n.PureComponent),qt=(a(292),function(e){var t,a=e.active,n=e.payload,r=e.label;if(a&&n&&n.length){return Object(X.jsxs)("div",{className:"CustomizedTooltip",children:[Object(X.jsx)("div",{className:"my-0",children:Object(X.jsx)("b",{children:"".concat(r)})}),Object(X.jsx)("ul",{className:"my-0 py-0",children:(t=n,Object.keys(t).sort().reverse().map((function(e){return Object(c.a)(Object(c.a)({},t[e]),{},{key:e})}))).map((function(e,t){return Object(X.jsxs)("li",{style:{color:e.fill},children:[e.name,": ",e.value]},"c-"+t)}))}),Object(X.jsxs)("div",{className:"my-0",children:["Totaal: ",function(){var e=0;return n.forEach((function(t){e+=t.value})),e}(),Object(X.jsx)("br",{})]})]})}return null});var Qt=function(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return e.authentication.user_data&&e.authentication.user_data.token||null})),r=Object(m.d)((function(e){return e.filter})),i=Object(m.d)((function(e){return e.metadata})),o=Object(n.useState)([]),c=Object(Y.a)(o,2),s=c[0],l=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(Object(ae.a)().mark((function e(){var n,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht(a,"rentals",{filter:r,metadata:i,aggregationLevel:r.ontwikkelingaggregatie});case 2:n=e.sent,o=Tt(n.rentals_aggregated_stats.values,i.aanbieders),t({type:"SET_OPERATORSTATS_VERHURINGENCHART",payload:o}),l(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!i||!i.zones||i.zones.length<=0||function(){e.apply(this,arguments)}()}),[r,r.ontwikkelingaggregatie,i,a,t]);var d=Jt("rentals",s,r.ontwikkelingaggregatie,r.aanbiedersexclude),u=s?Object.keys(s).length:0;return Object(X.jsx)("div",{style:{width:"100%",height:"400px",overflowX:"hidden",overflowY:"hidden"},children:Object(X.jsx)(Pt.a,{children:u>12?Object(X.jsxs)(Ct.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(X.jsx)(Dt.a,{strokeDasharray:"3 0",vertical:!1}),Object(X.jsx)(At.a,{dataKey:"name",tick:Object(X.jsx)(Kt,{})}),Object(X.jsx)(Rt.a,{tick:Object(X.jsx)(Xt,{})}),Object(X.jsx)(It.a,{content:Object(X.jsx)(qt,{})}),Object(X.jsx)(Lt.a,{}),"} />",y(d[0]).map((function(e){var t=g(i.aanbieders,e);return Object(X.jsx)(Mt.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]}):Object(X.jsxs)(Ft.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(X.jsx)(Dt.a,{strokeDasharray:"3 0",vertical:!1}),Object(X.jsx)(At.a,{dataKey:"name",tick:Object(X.jsx)(Kt,{})}),Object(X.jsx)(Rt.a,{tick:Object(X.jsx)(Xt,{})}),Object(X.jsx)(It.a,{content:Object(X.jsx)(qt,{})}),Object(X.jsx)(Lt.a,{}),"} />",y(d[0]).map((function(e){var t=g(i.aanbieders,e);return Object(X.jsx)(Gt.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]})})})};var $t=function(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return e.authentication.user_data&&e.authentication.user_data.token||null})),r=Object(m.d)((function(e){return e.filter})),i=Object(m.d)((function(e){return e.metadata})),o=Object(n.useState)([]),c=Object(Y.a)(o,2),s=c[0],l=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(ne.a)(Object(ae.a)().mark((function e(){var n,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ht(a,"available_vehicles",{filter:r,metadata:i,aggregationLevel:r.ontwikkelingaggregatie});case 2:n=e.sent,o=Tt(n.available_vehicles_aggregated_stats.values,i.aanbieders),t({type:"SET_OPERATORSTATS_BESCHIKBAREVOERTUIGENCHART",payload:o}),l(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!i||!i.zones||i.zones.length<=0||function(){e.apply(this,arguments)}()}),[r,r.ontwikkelingaggregatie,i,a,t]);var d=Jt("available_vehicles",s,r.ontwikkelingaggregatie,r.aanbiedersexclude),u=d?Object.keys(d).length:0;return Object(X.jsx)("div",{style:{width:"100%",height:"400px",overflowX:"hidden",overflowY:"hidden"},children:Object(X.jsx)(Pt.a,{children:u>12?Object(X.jsxs)(Ct.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(X.jsx)(Dt.a,{strokeDasharray:"3 0",vertical:!1}),Object(X.jsx)(At.a,{dataKey:"name",tick:Object(X.jsx)(Kt,{})}),Object(X.jsx)(Rt.a,{tick:Object(X.jsx)(Xt,{})}),Object(X.jsx)(It.a,{content:Object(X.jsx)(qt,{})}),Object(X.jsx)(Lt.a,{}),y(d[0]).map((function(e){var t=g(i.aanbieders,e);return Object(X.jsx)(Mt.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]}):Object(X.jsxs)(Ft.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(X.jsx)(Dt.a,{strokeDasharray:"3 0",vertical:!1}),Object(X.jsx)(At.a,{dataKey:"name",tick:Object(X.jsx)(Kt,{})}),Object(X.jsx)(Rt.a,{tick:Object(X.jsx)(Xt,{})}),Object(X.jsx)(It.a,{content:Object(X.jsx)(qt,{})}),Object(X.jsx)(Lt.a,{}),y(d[0]).map((function(e){var t=g(i.aanbieders,e);return Object(X.jsx)(Gt.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]})})})};var ea=function(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return e.filter})),n=function(e){t({type:"SET_FILTER_ONTWIKKELING_AGGREGATIE",payload:e})};return Object(X.jsxs)("div",{className:"StatsPage pt-4 pb-24",children:[Object(X.jsxs)("div",{className:"agg-button-container",children:[Object(X.jsx)("div",{className:"agg-button "+("day"===a.ontwikkelingaggregatie?" agg-button-active":""),onClick:function(){n("day")},children:"dag"}),Object(X.jsx)("div",{className:"agg-button "+("week"===a.ontwikkelingaggregatie?" agg-button-active":""),onClick:function(){n("week")},children:"week"}),Object(X.jsx)("div",{className:"agg-button "+("month"===a.ontwikkelingaggregatie?" agg-button-active":""),onClick:function(){n("month")},children:"maand"})]}),Object(X.jsxs)("div",{className:"xl:flex",children:[Object(X.jsxs)("div",{className:"xl:flex-1",children:[Object(X.jsx)("h2",{className:"text-4xl my-2",children:"Verhuringen"}),Object(X.jsx)(Qt,{})]}),Object(X.jsxs)("div",{className:"xl:flex-1",children:[Object(X.jsx)("h2",{className:"text-4xl my-2",children:"Beschikbare voertuigen"}),Object(X.jsx)($t,{})]})]})]})};var ta=function(e){var t=e.title;return Object(X.jsxs)("div",{className:"flex",children:[Object(X.jsx)("img",{alt:"Logo CROW",src:"/images/logo-fietsberaad-crow.svg",width:"82"}),t&&Object(X.jsx)("div",{style:{font:"normal normal 600 18px/21px Inter",color:"#343E47"},className:"ml-4 flex flex-col justify-end",children:t})]})};function aa(e){return Object(X.jsx)("div",{className:"text-2xl font-bold cursor-pointer",onClick:e.onClick,style:e.style,children:"\xd7"})}var na=function(){var e=Object(n.useState)(""),t=Object(Y.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(""),o=Object(Y.a)(i,2),c=o[0],s=o[1],l=Object(n.useState)(!1),d=Object(Y.a)(l,2),u=d[0],b=d[1],h=Object(n.useState)(null),f=Object(Y.a)(h,2),j=f[0],g=f[1],y=Object(n.useState)(null),O=Object(Y.a)(y,2),v=O[0],x=O[1],_=Object(n.useState)(!1),w=Object(Y.a)(_,2),k=w[0],E=w[1],S=Object(n.useState)(!1),N=Object(Y.a)(S,2),z=N[0],T=N[1],C=Object(n.useState)(!1),D=Object(Y.a)(C,2),A=D[0],R=D[1],I=Object(m.c)(),L=function(e){if(e.preventDefault(),g(null),a)if(c){var t={loginId:a,password:c,applicationId:"bf901170-a2db-4f91-8ca7-24921e961193"};fetch("https://auth.deelfietsdashboard.nl/api/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){I({type:"LOGIN",payload:null}),I({type:"RESET_FILTER",payload:null}),I({type:"SET_USER",payload:e}),E(!0),document.location="/map/park"})).catch((function(e){console.error("Login failed! (%s)",e.message),g("Login mislukt. Heb je het juiste e-mailadres en wachtwoord ingevuld?"),E(!1)}))}else g("Voer alsjeblieft een wachtwoord in");else g("Voer alsjeblieft een e-mailadres in")},M=function(e){e.preventDefault(),g(null);var t={loginId:a};return fetch("https://auth.deelfietsdashboard.nl/api/user/forgot-password",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),x("Als je e-mailadres bij ons bekend is, heb je nu e-mail ontvangen. Hiermee kun je je wachtwoord opnieuw instellen."),!0})).catch((function(e){return console.log(e),x("Als je e-mailadres bij ons bekend is, heb je nu e-mail ontvangen. Hiermee kun je je wachtwoord opnieuw instellen."),!1}))};return k||z?Object(X.jsx)(J.a,{to:"/"}):Object(X.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(X.jsxs)("div",{className:"mx-auto py-8",style:{width:"100%",maxWidth:"416px"},children:[Object(X.jsx)(aa,{onClick:function(){return T(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(X.jsx)(ta,{}),Object(X.jsx)("h2",{className:"mt-4 mb-4 text-4xl font-bold",children:"Dashboard Deelmobiliteit"}),u?Object(X.jsxs)("div",{children:[Object(X.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Ben je je wachtwoord vergeten? Vul dan hieronder je mailadres in om een nieuw wachtwoord in te stellen."}),Object(X.jsxs)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:["Liever inloggen? Ga dan door naar het ",Object(X.jsx)(p.b,{to:"/login",children:"loginformulier"}),"."]}),Object(X.jsx)("br",{}),Object(X.jsxs)("form",{children:[Object(X.jsx)("label",{className:"block",htmlFor:"emailaddress",children:"E-mailadres"}),Object(X.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",autoCapitalize:"off",placeholder:"E-mailadres",name:"emailaddress",required:!0,onChange:function(e){return r(e.target.value.trim())}}),v&&Object(X.jsx)("div",{className:"mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:Object(X.jsx)("span",{className:"block sm:inline",children:v})}),j&&Object(X.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:Object(X.jsx)("span",{className:"block sm:inline",children:j})}),Object(X.jsxs)("div",{children:[Object(X.jsx)("button",{className:"px-6 py-2 mr-4 mt-4 text-white bg-theme-blue rounded-lg",onClick:M,children:"Herstel"}),Object(X.jsx)("button",{className:"px-6 py-2 mt-4 text-white bg-gray-300 rounded-lg hover:bg-gray-400",onClick:function(){g(null),b(!1)},children:"Annuleer"})]})]})]}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Het Dashboard Deelmobiliteit is een webtool van en voor overheden die de ontwikkelingen rond deelmobiliteit op de voeten willen volgen."}),Object(X.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Hoe lang en waar staan deelvoertuigen ongebruikt in de openbare ruimte? Hoe vaak worden de deelvoertuigen verhuurd? In welke wijken en op welke tijdstippen zijn deelvoertuigen populair?"}),Object(X.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Met de informatie uit het Dashboard Deelmobiliteit kunnen overheden hun beleid ontwikkelen, evalueren en bijsturen."}),Object(X.jsxs)("form",{className:"mt-8 mb-4",children:[Object(X.jsx)("label",{className:"block",htmlFor:"emailaddress",children:"Email"}),Object(X.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",autoCapitalize:"off",placeholder:"email",name:"emailaddress",required:!0,onChange:function(e){return r(e.target.value.trim())}}),Object(X.jsx)("label",{className:"mt-4 block",htmlFor:"password",children:"Wachtwoord"}),Object(X.jsxs)("div",{className:"relative",children:[Object(X.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",type:A?"text":"password",placeholder:"Wachtwoord",name:"password",required:!0,onChange:function(e){return s(e.target.value)}}),Object(X.jsx)("div",{className:"absolute h-full right-1 top-0 mt-1 flex justify-center flex-col",children:Object(X.jsx)("img",{className:"w-10 cursor-pointer",src:"/images/components/Login/".concat(A?"eye_hidden_view_see_icon":"eye_view_see_look_icon",".svg"),alt:"Toggle visibility of password",onClick:function(){R(!A)}})})]}),j&&Object(X.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:Object(X.jsx)("span",{className:"block sm:inline",children:j})}),Object(X.jsx)("p",{className:"my-4",children:Object(X.jsx)("a",{href:"#recover",onClick:function(){g(null),b(!0)},className:" text-gray-400 underline text-sm ",children:"Wachtwoord vergeten?"})}),Object(X.jsxs)("div",{className:"flex items-baseline mt-4",children:[Object(X.jsx)("button",{className:"px-6 py-2 mr-4 mt-4 text-white bg-theme-blue rounded-lg",onClick:L,children:"Login"}),Object(X.jsx)("button",{className:"px-6 py-2 mt-4 text-white bg-gray-300 rounded-lg hover:bg-gray-400",onClick:function(){T(!0)},children:"Annuleer"})]})]})]})]})})},ra=function(){var e=Object(J.h)().changePasswordCode,t=Object(n.useState)(""),a=Object(Y.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(null),c=Object(Y.a)(o,2),s=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(Y.a)(d,2),m=u[0],b=u[1];return m?Object(X.jsx)(J.a,{to:"/"}):Object(X.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(X.jsxs)("div",{className:"mx-auto py-8",style:{width:"100%",maxWidth:"416px"},children:[Object(X.jsx)(aa,{onClick:function(){return b(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(X.jsx)(ta,{}),Object(X.jsx)("h2",{className:"mt-4 mb-4 text-4xl font-bold",children:"Dashboard Deelmobiliteit"}),Object(X.jsxs)("p",{className:"mb-4",children:["Op deze pagina kun je je wachtwoord wijzigen. Wil je je wachtwoord niet wijzigen, maar inloggen? Ga dan naar het ",Object(X.jsx)(p.b,{to:"/login",children:"inlogformulier"}),"."]}),Object(X.jsx)("p",{className:"mb-4",children:"Vul hieronder je nieuwe wachtwoord in:"}),Object(X.jsxs)("form",{className:"mt-8 mb-4",children:[Object(X.jsx)("label",{className:"mt-4 block",htmlFor:"password",children:"Wachtwoord"}),Object(X.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",type:"password",placeholder:"Wachtwoord",name:"password",required:!0,onChange:function(e){return i(e.target.value)}}),s&&Object(X.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:Object(X.jsx)("span",{className:"block sm:inline",children:s})}),Object(X.jsxs)("div",{className:"flex items-baseline mt-4",children:[Object(X.jsx)("button",{className:"px-6 py-2 mr-4 mt-4 text-white bg-theme-blue rounded-lg",onClick:function(t){t.preventDefault(),l(null);var a="https://auth.deelfietsdashboard.nl/api"+"/user/change-password/".concat(e),n={password:r};return fetch(a,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return!0===e.ok?(window.notify("Je nieuwe wachtwoord is ingesteld. Log nu in met je nieuwe wachtwoord"),document.location="/login",!0):(l("Er ging iets fout bij het instellen van je nieuwe wachtwoord. Mogelijk was de link verlopen. In dat geval: klik hieronder op Annuleer en vraag een nieuwe wachtwoordlink aan."),!1)}))},children:"Wachtwoord opslaan"}),Object(X.jsx)("button",{className:"px-6 py-2 mt-4 text-white bg-gray-300 rounded-lg hover:bg-gray-400",onClick:function(){b(!0)},children:"Annuleer"})]})]})]})})},ia=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a,n){var r,i,o,c,s;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.user_data&&n){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=4;break}return e.abrupt("return");case 4:return r=f()(n).format("YYYY-MM-DDTHH:mm:ss[Z]"),i="https://api.deelfietsdashboard.nl/dashboard-api/park_events?timestamp="+r+"&operators="+a,o={headers:{authorization:"Bearer "+t.user_data.token}},e.next=9,fetch(i,o);case 9:if((c=e.sent).ok){e.next=13;break}return console.error("unable to fetch: %o",c),e.abrupt("return",!1);case 13:return e.next=15,c.json();case 15:return s=e.sent,e.abrupt("return",s.park_events||!1);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),oa="tier",ca=[],sa=function(e){var t=[];return e.map((function(e){return t.indexOf(e.bike_id)<=-1&&t.push(e.bike_id),e})),t};var la=function(e){var t=Object(n.useState)({}),a=Object(Y.a)(t,2),r=a[0],i=a[1],o=Object(m.d)((function(e){return!!e.authentication&&e.authentication}));return Object(n.useEffect)((function(e){var t=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){var t,a,n;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=f()().toISOString(),[],a=[],n=0;case 3:if(!(n<=40)){e.next=15;break}return t=f()(t).subtract(6,"hours").toISOString(),e.next=7,ia(o,oa,t);case 7:e.sent.map((function(e){return a.push(e),e})),ca[n]=sa(a),i(ca),console.table(ca[n].length,t);case 12:n++,e.next=3;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[o]),console.log(r),Object(X.jsxs)("div",{className:"mt-12",children:[Object(X.jsx)("h1",{className:"text-2xl my-2",children:"Monitoring"}),Object(X.jsxs)("p",{className:"py-2",children:["Voor ",oa," willen we controleren hoeveel unieke voertuig-IDs er zijn door te de tijd heen."]}),Object(X.jsx)("p",{className:"py-2",children:"Op deze manier kunnen we afleiden of er aan de standaard wordt voldaan. Er moeten statische voertuig-IDs zijn. Als dit niet het geval is, zul je zien dat er na verloop van tijd veel meer voertuig-IDs zijn geregistreerd dan het aantal voertuigen dat de aanbieder heeft. Op die manier weet je dat denog niet voldaan wordt aan de gevraagde datastandaard."}),Object(X.jsx)("p",{className:"py-2",children:"De snapshots zijn steeds gemaakt met 6 uur ertussen."}),Object(X.jsx)("pre",{children:ca?ca.map((function(e,t){return Object(X.jsxs)("div",{children:["Number of UUIDs after ",Object(X.jsxs)("b",{children:[t," snapshots"]}),": ",Object(X.jsx)("b",{children:e.length})]},t)})):""}),Object(X.jsxs)("table",{className:"table-auto bg-white hidden",children:[Object(X.jsx)("thead",{children:Object(X.jsxs)("tr",{children:[Object(X.jsx)("th",{children:"Datum/tijd"}),Object(X.jsx)("th",{children:"Cumulatief aantal voertuig-IDs"})]})}),Object(X.jsx)("tbody",{children:Object(X.jsxs)("tr",{children:[Object(X.jsx)("td",{children:"datumtijd"}),Object(X.jsx)("td",{children:"aantal"})]})})]})]})};a(222),a(423);var da=function(e){var t=e.closeFunction,a=e.title,n=e.children;return Object(X.jsx)("div",{className:"FilterbarExtended",onClick:function(){return t(!1)},children:Object(X.jsxs)("div",{className:"",onClick:function(e){return e.stopPropagation()},children:[Object(X.jsxs)("div",{className:"flex justify-between",children:[Object(X.jsx)("h1",{className:"title flex flex-col justify-center",children:a||""}),Object(X.jsx)("div",{className:"FilterbarExtended-close-button-wrapper",children:Object(X.jsx)(aa,{onClick:function(){return t(!1)}})})]}),Object(X.jsx)("div",{className:"grid-cols-4",children:n})]})})},ua=(a(424),function(e,t){var a=new URLSearchParams(window.location.search);if(t?a.set(e,t):a.delete(e),window.history.replaceState){var n=window.location.protocol+"//"+window.location.host+window.location.pathname+(a.toString()?"?":"")+a.toString();window.history.replaceState({path:n},"",n)}});var pa=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.metadata&&e.metadata.gebieden?e.metadata.gebieden:[]})),a=Object(m.d)((function(e){return e.filter?e.filter.gebied:""})),r=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR_EXTENDED})),i=Object(n.useState)(""),o=Object(Y.a)(i,2),c=o[0],s=o[1],l=function(t){ua("gm_code",t),e({type:"SET_FILTER_GEBIED",payload:t})},d=function(e){s(e.target.value)},u=function(e){ua("gm_code",null),s("")},p=function(t){e({type:"SET_VISIBILITY",payload:{name:"FILTERBAR_EXTENDED",visibility:t}})},b=t.find((function(e){return e.gm_code===a}))||"";return 1===t.length?Object(X.jsxs)("div",{className:"filter-plaats-container filter-plaats-not-active",children:[Object(X.jsx)("div",{className:"filter-plaats-title",onClick:function(e){p("places")},children:"Plaats"}),Object(X.jsx)("div",{className:"filter-plaats-box-row flex flex-col justify-center",children:Object(X.jsx)("div",{className:"filter-plaats-value ",children:""===b?"Alle plaatsen":b.name})})]}):Object(X.jsxs)("div",{className:"filter-plaats-container",children:[Object(X.jsx)("div",{className:"filter-plaats-title",onClick:function(e){p("places")},children:"Plaats"}),Object(X.jsxs)("div",{className:"filter-plaats-box-row flex flex-col justify-center",children:[Object(X.jsx)("div",{className:"filter-plaats-value ".concat(""===b?"text-black":""),onClick:function(e){p("places")},children:""===b?"Alle plaatsen":b.name}),"places"===r?function(e){var t=e.filter((function(e){return""===c||e.name.toLowerCase().includes(c.toLowerCase())}));return Object(X.jsx)(da,{title:"Selecteer een plaats",closeFunction:function(){return p(!1)},children:Object(X.jsxs)("div",{className:"filter-form-selectie",children:[Object(X.jsxs)("div",{className:"filter-form-search-container mb-3",children:[Object(X.jsxs)("div",{className:"filter-form-search-container-2",children:[Object(X.jsx)("input",{type:"text",className:"filter-form-search",onChange:d,value:c,autoFocus:!0,placeholder:"zoek"}),Object(X.jsx)("div",{className:"ml-3 flex flex-col justify-center h-full",children:""!==c?Object(X.jsx)("div",{className:"filter-plaats-img-cancel",onClick:u}):Object(X.jsx)("div",{className:"filter-plaats-img-search"})})]}),Object(X.jsx)("div",{children:"\xa0"})]}),Object(X.jsxs)("div",{className:"filter-form-values",children:[""===a?Object(X.jsx)("div",{className:"form-item-selected form-item",onClick:function(e){p(!1)},children:"Alle plaatsen"},"item-alle"):Object(X.jsx)("div",{className:"form-item",onClick:function(e){p(!1),l("")},children:"Alle plaatsen"},"item-alle"),t.map((function(e){return a===e.gm_code?Object(X.jsx)("div",{className:"form-item-selected form-item",onClick:function(e){p(!1),l("")},children:e.name},"item-"+e.gm_code):Object(X.jsx)("div",{className:"form-item",onClick:function(t){p(!1),l(e.gm_code)},children:e.name},"item-"+e.gm_code)}))]})]})})}(t):null,""!==a?Object(X.jsx)("div",{className:"filter-plaats-img-cancel",onClick:function(t){t.preventDefault(),ua("gm_code",null),e({type:"SET_FILTER_GEBIED",payload:""})}}):null,Object(X.jsx)("div",{className:"flex flex-col justify-center h-full",children:Object(X.jsx)("div",{className:"filter-plaats-img-search",onClick:function(e){p("places")}})})]})]})},ma=(a(425),a(426),a(427),a(428),a(250)),ba=a.n(ma),ha=a.p+"static/media/calendar.0fe3dc2a.svg";var fa=function(e){var t=e.disabled,a=Object(m.c)(),r=Object(n.useRef)(null),i=Object(m.d)((function(e){return"displaymode-rentals"===e.layers.displaymode?e.filter&&e.filter.intervalend?e.filter.intervalend:(new Date).toISOString():e.filter&&e.filter.datum?e.filter.datum:(new Date).toISOString()})),o=Object(m.d)((function(e){return e.layers?e.layers.displaymode:null})),c=Object(n.useCallback)((function(e){r&&r.current&&clearTimeout(r.current),r.current=setTimeout((function(t){a("displaymode-rentals"!==o?{type:"SET_FILTER_DATUM",payload:e.toISOString()}:{type:"SET_FILTER_INTERVAL_END",payload:e.toISOString()})}),0)}),[0,o]);Object(n.useEffect)((function(e){c(new Date(i))}),[i]);var s=f()(i).unix()>f()().unix();return Object(X.jsxs)("div",{className:"filter-datum-container",children:[Object(X.jsx)("div",{className:"filter-datum-title",children:"displaymode-rentals"===o?"Eindtijd":"Datum/tijd"}),Object(X.jsxs)("div",{className:"filter-datum-box-row",children:[Object(X.jsxs)("div",{className:"filter-datum-box-1",children:[Object(X.jsx)("div",{className:"flex flex-col justify-center ".concat(t?"invisible":""),children:Object(X.jsx)("div",{className:"filter-datum-caret",onClick:function(){c(f()(i).subtract(1,"hours"))},children:"\u2039"})}),Object(X.jsx)("div",{className:"filter-datum-dtpicker",children:Object(X.jsx)(ba.a,{onChange:c,value:new Date(i),clearIcon:null,disabled:t,calendarIcon:Object(X.jsx)("img",{src:ha,alt:"Logo"}),format:"y-MM-dd H:mm",disableClock:!0})}),Object(X.jsx)("div",{className:"flex flex-col justify-center ".concat(t?"invisible":""),children:Object(X.jsx)("div",{className:"filter-datum-caret",onClick:function(){c(f()(i).add(1,"hours"))},children:"\u203a"})})]}),Object(X.jsx)("div",{className:"filter-datum-box-2",onClick:function(){c(new Date),window.notify("Datum/tijd geupdate")},title:"Toon huidige datum en tijd",children:Object(X.jsx)("div",{className:"filter-datum-img-now"})})]}),Object(X.jsx)("div",{children:s&&Object(X.jsx)("div",{className:"my-2 text-red-500 text-sm",children:"Let op: de ingestelde datum/tijd is in de toekomst"})})]})},ja=(a(447),a(227),a(139)),ga=a.n(ja),ya=a(109),Oa=a(110),va=a(518);var xa=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.filter&&e.filter.ontwikkelingvan?new Date(e.filter.ontwikkelingvan):f()().subtract(30,"days").toDate()})),a=Object(m.d)((function(e){return e.filter&&e.filter.ontwikkelingtot?new Date(e.filter.ontwikkelingtot):new Date})),r=Object(m.d)((function(e){return e.filter&&e.filter.ontwikkelingaggregatie?e.filter.ontwikkelingaggregatie:"day"})),i=Object(n.useState)(t),o=Object(Y.a)(i,2),c=o[0],s=o[1],l=Object(n.useState)(a),d=Object(Y.a)(l,2),u=d[0],p=d[1],b=Object(n.useState)(!1),h=Object(Y.a)(b,2),j=h[0],g=h[1],y=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Date(t.toDateString()),i=new Date(a.toDateString());e({type:"SET_FILTER_ONTWIKKELING_VANTOT",payload:{van:r.toISOString(),tot:i.toISOString()}}),!1!==n&&e({type:"SET_FILTER_ONTWIKKELING_AGGREGATIE",payload:n})},O=function(e){var t=Object(Y.a)(e,2),a=t[0],n=t[1];s(a),p(n),null!==n&&(y(a,n),g(!j))},v=function(e){var t=c,a=u;if(e)switch(r){case"week":t=Object(ya.default)(c,-7);break;case"month":t=Object(Oa.default)(c,-1);break;default:t=Object(ya.default)(c,-1)}else switch(r){case"week":a=Object(ya.default)(u,7);break;case"month":a=Object(Oa.default)(u,1);break;default:a=Object(ya.default)(u,1)}s(t),p(a),y(t,a)},x=function(e){var t,a,n,r=new Date((new Date).toDateString());switch(e){case"laatste7dagen":t=Object(ya.default)(r,-6),a=r,n="day";break;case"laatste30dagen":t=Object(ya.default)(r,-30),a=r,n="day";break;case"laatste90dagen":t=Object(ya.default)(r,-90),a=r,n="day";break;case"laatste12maanden":t=Object(ya.default)(r,-365),a=r,n="week";break;case"ditjaar":var i=r.getFullYear();t=new Date(i.toString()+"/1/1"),a=r,n="month";break;case"vorigjaar":var o=r.getFullYear()-1;t=new Date(o.toString()+"/1/1"),a=new Date(o.toString()+"/12/31"),n="month";break;default:return}s(t),p(a),y(t,a,n)};return Object(X.jsxs)("div",{className:"filter-datum-van-tot-container",children:[Object(X.jsx)("div",{className:"filter-datum-van-tot-title",children:"Periode"}),Object(X.jsxs)("div",{className:"filter-datum-van-tot-box-row",children:[Object(X.jsx)("div",{className:"flex flex-col justify-center",children:Object(X.jsx)("div",{className:"filter-datum-caret",onClick:function(){v(!0)},children:"\u2039"})}),Object(X.jsxs)("div",{className:"filter-datum-van-tot-input",onClick:function(e){e.preventDefault(),j&&null===u&&(s(t),p(a)),g(!j)},children:[null!==c?Object(va.default)(c,"yyyy-MM-dd"):"","\xa0t/m\xa0",null!==u?Object(va.default)(u,"yyyy-MM-dd"):""," "]}),Object(X.jsx)("div",{className:"flex flex-col justify-center",children:Object(X.jsx)("div",{className:"filter-datum-caret",onClick:function(){v(!1)},children:"\u203a"})})]}),j&&Object(X.jsxs)("div",{className:"filter-datum-van-tot-pickercontainer",children:[Object(X.jsx)(ga.a,{className:"filter-datum-van-tot-picker",selected:c,onChange:O,startDate:c,endDate:u,dateFormat:"yyyy-MM-dd",selectsRange:!0,inline:!0},"dp-van-tot"),Object(X.jsxs)("div",{className:"filter-datum-van-tot-picker-options",children:[Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){x("laatste7dagen")},children:"Laatste 7 dagen"},"fdvt-po1"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){x("laatste30dagen")},children:"Laatste 30 dagen"},"fdvt-po2"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){x("laatste90dagen")},children:"Laatste 90 dagen"},"fdvt-po3"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){x("laatste12maanden")},children:"Laatste 12 maanden"},"fdvt-po4"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){x("ditjaar")},children:"Dit jaar"},"fdvt-po5"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){x("vorigjaar")},children:"Vorig jaar "},"fdvt-po6")]})]})]})},_a=(a(489),36e5);var wa=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.filter?e.filter.intervalduur:_a})),a=[{label:"1h",anchor:"start",pos:"0%",value:_a},{label:"4h",anchor:"middle",pos:"15%",value:144e5},{label:"8h",anchor:"middle",pos:"26.5%",value:288e5},{label:"12h",anchor:"middle",pos:"39%",value:432e5},{label:"16h",anchor:"middle",pos:"50%",value:576e5},{label:"20h",anchor:"middle",pos:"62%",value:72e6},{label:"24h",anchor:"middle",pos:"73.5%",value:864e5},{label:"2d",anchor:"middle",pos:"85.5%",value:1728e5},{label:"3d",anchor:"middle",pos:"96%",value:2592e5}],n=a.map((function(e,t){return Object(X.jsx)("text",{className:"filter-duur-annotation",x:e.pos,y:"14",textAnchor:e.anchor,children:e.label},"fide-"+t)})),r=a.map((function(e,t){return Object(X.jsx)("rect",{className:"filter-duur-tickmark",x:e.pos,y:"0",width:"1",height:"20"},"fidt-"+t)})),i=a.findIndex((function(e){return e.value===t}));return-1===i&&(i=4),Object(X.jsxs)("div",{className:"filter-duur-container",children:[Object(X.jsx)("div",{className:"filter-datum-title",children:"Periode"}),Object(X.jsxs)("div",{className:"filter-duur-box-row",children:[Object(X.jsx)("input",{className:"filter-duur-range",width:"100%",type:"range",min:"0",max:a.length-1,step:"1",onChange:function(t){e({type:"SET_FILTER_INTERVAL_DUUR",payload:a[t.target.value].value})},value:i}),Object(X.jsx)("svg",{className:"filter-duur-tickmarks",role:"presentation",width:"100%",height:"10",xmlns:"http://www.w3.org/2000/svg",children:r}),Object(X.jsx)("svg",{className:"filter-duur-elements",role:"presentation",width:"100%",height:"14",xmlns:"http://www.w3.org/2000/svg",children:n})]})]})};a(490);var ka=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.metadata&&e.metadata.aanbieders?e.metadata.aanbieders:[]})),a=Object(m.d)((function(e){var t=void 0;if(e.layers)switch(e.layers.displaymode){case T:t=!(!e.vehicles||!e.vehicles.operatorstats)&&e.vehicles.operatorstats;break;case C:if(e.filter&&e.rentals){var a="bestemming"===e.filter.herkomstbestemming?"destinations":"origins";t=e.rentals["".concat(a,"_operatorstats")]?e.rentals["".concat(a,"_operatorstats")]:void 0}break;case R:if(e.metadata&&e.filter&&e.statsreducer){var n={};return e.metadata.aanbieders.forEach((function(e){n[e.system_id]=0})),Object.keys(n).forEach((function(t){t in e.statsreducer.operatorstats_verhuringenchart===!0&&(n[t]+=e.statsreducer.operatorstats_verhuringenchart[t]),t in e.statsreducer.operatorstats_beschikbarevoertuigenchart===!0&&(n[t]+=e.statsreducer.operatorstats_verhuringenchart[t])})),n}}return t})),n=Object(m.d)((function(e){return e.filter?e.filter.aanbiedersexclude:[]})),r=function(a){(n||"").split(",").length!==t.length-1&&e({type:"ADD_TO_FILTER_AANBIEDERS_EXCLUDE",payload:a.system_id})};return Object(X.jsxs)("div",{className:"filter-aanbieders-container",children:[Object(X.jsxs)("div",{className:"filter-aanbieders-title-row",children:[Object(X.jsx)("div",{className:"filter-aanbieders-title",children:"Aanbieders"}),""!==n?Object(X.jsx)("div",{className:"filter-aanbieders-reset cursor-pointer",onClick:function(t){e({type:"CLEAR_FILTER_AANBIEDERS_EXCLUDE",payload:""})},children:"reset"}):null]}),Object(X.jsx)("div",{className:"filter-aanbieders-box-row",children:t.map((function(i,o){if(void 0!==a&&(0===a.length||0===a[i.system_id]))return Object(X.jsxs)("div",{className:"filter-aanbieders-item filter-aanbieders-item-not-active",children:[Object(X.jsx)("div",{className:"filter-aanbieders-marker",children:Object(X.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(X.jsx)("line",{x1:"20%",y1:"20%",x2:"80%",y2:"80%",stroke:"#000000"}),Object(X.jsx)("line",{x1:"20%",y1:"80%",x2:"80%",y2:"20%",stroke:"#000000"})]})}),Object(X.jsx)("div",{className:"filter-aanbieders-itemlabel",children:i.name})]},i.name);var c=!!n&&n.includes(i.system_id),s=c?function(t){t.stopPropagation(),function(t){e({type:"REMOVE_FROM_FILTER_AANBIEDERS_EXCLUDE",payload:t.system_id})}(i)}:function(e){var a;e.stopPropagation(),a=i,""===n?t.map((function(e){return e.system_id!==a.system_id&&r(e),e})):r(a)};return Object(X.jsxs)("div",{className:"filter-aanbieders-item ".concat(c?"filter-aanbieders-item-not-active":""),onClick:s,children:[Object(X.jsx)("div",{className:"filter-aanbieders-marker",children:Object(X.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(X.jsx)("circle",{cx:"50%",cy:"50%",r:"40%",fill:"#000000"}),Object(X.jsx)("circle",{cx:"50%",cy:"50%",r:"35%",fill:"#FFFFFF"}),Object(X.jsx)("circle",{cx:"70%",cy:"25%",r:"25%",fill:i.color.toString()})]})}),Object(X.jsx)("div",{className:"filter-aanbieders-itemlabel",children:i.name})]},i.name)}))})]})};a(491);var Ea=function(e){var t=e.zonesToShow,a=Object(m.c)(),r=Object(m.d)((function(e){return e.metadata&&e.metadata.zones?e.metadata.zones:[]})),i=Object(m.d)((function(e){return e.filter?e.filter.zones:0})),o=Object(m.d)((function(e){return e.filter?e.filter.gebied:0})),c=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR_EXTENDED})),s=Object(n.useState)(""),l=Object(Y.a)(s,2),d=l[0],u=l[1],p=function(e){a({type:"REMOVE_FROM_FILTER_ZONES",payload:e})},b=function(e){a({type:"SET_VISIBILITY",payload:{name:"FILTERBAR_EXTENDED",visibility:e}})},h=function(e){u(e.target.value)},f=function(e){u("")},j=[{name:"Stadsdelen",zone_type:"residential_area"},{name:"Maatwerkzones",zone_type:"custom"},{name:"Wijken",zone_type:"neighborhood"}],g=[];(t||["residential_area","custom","neighborhood"]).forEach((function(e){var t=j.filter((function(t){return t.zone_type===e}));t&&g.push(t[0])}));var y=function(e,t){var n=t.filter((function(t){return t.zone_type===e.zone_type}));if(0===n.length)return null;var r=n.sort((function(e,t){return e.name.localeCompare(t.name)}));return Object(X.jsxs)("div",{className:"zone-group-container",children:[Object(X.jsx)("span",{className:"zone-group-title",children:e.name},"zgn-"+e.zone_type),Object(X.jsx)("div",{className:"filter-zones-zonelist",children:r.map((function(e){return i.includes(e.zone_id)?Object(X.jsx)("div",{className:" form-item-selected form-item cursor-pointer ",onClick:function(t){t.stopPropagation(),p(e.zone_id)},children:e.name},"item-"+e.zone_id):Object(X.jsx)("div",{className:" form-item cursor-pointer ",onClick:function(t){var n;t.stopPropagation(),n=e.zone_id,a({type:"ADD_TO_FILTER_ZONES",payload:n})},children:e.name},"item-"+e.zone_id)}))},"zgi-"+e.zone_type)]},"zg-"+e.zone_type)},O=[],v="";try{var x=(O=i.split(",")).length;if(x>1)v=x+" zones";else{var _=r.find((function(e){return e.zone_id.toString()===O[0]}));v=_&&_.name||""}}catch(E){v=""}""===v&&(v="Alle Zones");var w=""!==o,k=r.filter((function(e){return O.includes(e.zone_id.toString())}));return w?Object(X.jsxs)("div",{className:"filter-zones-container ".concat(!0===w?"":"filter-zones-item-not-active"),children:[Object(X.jsx)("div",{className:"filter-zones-title",onClick:function(e){w&&b("zones")},children:"Zones"}),Object(X.jsxs)("div",{className:"filter-zones-box-row",children:[Object(X.jsx)("div",{className:"\n            filter-zones-value flex flex-col justify-center cursor-pointer h-full\n            ".concat("Alle Zones"===v?"text-black":"","\n          "),onClick:function(e){w&&b("zones")},children:v}),""!==i?Object(X.jsx)("div",{className:"filter-zones-img-cancel",onClick:function(){a({type:"CLEAR_FILTER_ZONES",payload:null})}}):null,"zones"===c?function(e){var t=e.filter((function(e){return""===d||e.name.toLowerCase().includes(d.toLowerCase())}));return Object(X.jsx)(da,{title:"Selecteer een zone",closeFunction:function(e){return b(!1)},children:Object(X.jsxs)("div",{className:"filter-form-selectie",children:[Object(X.jsxs)("div",{className:"filter-form-search-container mb-3",children:[Object(X.jsxs)("div",{className:"filter-form-search-container-2",children:[Object(X.jsx)("input",{type:"text",className:"filter-form-search",onChange:h,value:d,autoFocus:!0,placeholder:"zoek"}),Object(X.jsx)("div",{className:"ml-3 flex flex-col justify-center h-full",children:""!==d?Object(X.jsx)("div",{className:"filter-zones-img-cancel cursor-pointer",onClick:f}):Object(X.jsx)("div",{className:"filter-zones-img-search cursor-pointer"})})]}),Object(X.jsx)("div",{children:"\xa0"})]}),Object(X.jsx)("div",{className:"filter-form-values",children:g.map((function(e){return y(e,t)}))})]})})}(r):null,Object(X.jsx)("div",{className:"ml-3 flex flex-col justify-center h-full",children:Object(X.jsx)("div",{className:"filter-zones-img-search cursor-pointer",onClick:function(e){b("zones")}})})]}),Object(X.jsx)("div",{className:"filter-zones-zonelist",children:k.map((function(e){return Object(X.jsxs)("div",{className:"filter-zones-zoneitem",children:[e.name,Object(X.jsx)("div",{className:"filter-zones-img-zoneitem-cancel",onClick:function(t){t.stopPropagation(),p(e.zone_id)},children:"\xd7"})]},e.zone_id)}))})]}):Object(X.jsx)(X.Fragment,{})};a(492);function Sa(){return za({label:"Parkeerduur",filtername:"parkeerduurexclude",markers:Object(m.d)((function(e){return[{id:0,color:"#1FA024",fillcolor:"#1FA024",name:"< 1 uur"},{id:1,color:"#48E248",fillcolor:"#48E248",name:"< 24 uur"},{id:2,color:"#FFD837",fillcolor:"#FFD837",name:"< 4 d"},{id:3,color:"#FD3E48",fillcolor:"#FD3E48",name:"> 4 d"}]})),addmarker:"ADD_TO_FILTER_MARKERS_EXCLUDE",removemarker:"REMOVE_FROM_FILTER_MARKERS_EXCLUDE",clearmarkers:"CLEAR_FILTER_MARKERS_EXCLUDE"})}function Na(){return za({label:"Afstand",filtername:"afstandexclude",markers:Object(m.d)((function(e){return[{id:0,color:"#48E248",fillcolor:"#48E248",name:"1km"},{id:1,color:"#44BD48",fillcolor:"#44BD48",name:"2km"},{id:2,color:"#3B7747",fillcolor:"#3B7747",name:"5km"},{id:3,color:"#343E47",fillcolor:"#343E47",name:"> 5km"}]})),addmarker:"ADD_TO_FILTER_AFSTAND_EXCLUDE",removemarker:"REMOVE_FROM_FILTER_AFSTAND_EXCLUDE",clearmarkers:"CLEAR_FILTER_AFSTAND_EXCLUDE"})}function za(e){var t=e.label,a=e.filtername,n=e.markers,r=e.addmarker,i=e.removemarker,o=e.clearmarkers,c=Object(m.c)(),s=Object(m.d)((function(e){return e.filter?e.filter[a]:""}))||"",l=function(e){console.log("addtofilter %s -> %s",a,e),c({type:r,payload:e})};return Object(X.jsxs)("div",{className:"filter-markers-container",children:[Object(X.jsxs)("div",{className:"filter-markers-title-row",children:[Object(X.jsx)("div",{className:"filter-markers-title",children:t}),""!==s?Object(X.jsx)("div",{className:"filter-markers-reset cursor-pointer",onClick:function(){console.log("clearfilter %s",a),c({type:o,payload:null})},children:"reset"}):null]}),Object(X.jsx)("div",{className:"filter-markers-box-row",children:n.map((function(e){var t=s.split(",").includes(e.id.toString()),r=t?"filter-markers-item-excluded":"filter-markers-item",o=t?function(t){t.stopPropagation(),function(e){console.log("removefromfilter %s -> %s",a,e),c({type:i,payload:e})}(e.id)}:function(t){var a;t.stopPropagation(),a=e.id,console.log("clickfilter [%s]<",s),""===s?n.map((function(e){return e.id!==a&&l(e.id),e})):l(a)};return Object(X.jsxs)("div",{className:r,children:[Object(X.jsx)("div",{className:"filter-markers-marker",onClick:o,children:Object(X.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(X.jsx)("circle",{cx:"50%",cy:"50%",r:"40%",fill:e.color}),Object(X.jsx)("circle",{cx:"50%",cy:"50%",r:"34%",fill:e.fillcolor})]})}),Object(X.jsx)("div",{className:"filter-markers-itemlabel",children:e.name})]},e.id)}))})]})}a(493);function Ta(){var e=Object(m.c)(),t=function(t){return function(a){e({type:"SET_FILTER_HERKOMSTBESTEMMING",payload:t})}},a="filter-herkomst-bestemming-button",n="filter-herkomst-bestemming-button";return"bestemming"===Object(m.d)((function(e){var t="herkomst";return e.filter&&(t="bestemming"===e.filter.herkomstbestemming?"bestemming":"herkomst"),t}))?n+=" filter-herkomst-bestemming-button-active":a+=" filter-herkomst-bestemming-button-active",Object(X.jsx)("div",{className:"filter-herkomst-bestemming-container",children:Object(X.jsxs)("div",{className:"filter-herkomst-bestemming-box-row",children:[Object(X.jsx)("div",{className:a,onClick:t("herkomst"),children:"Herkomst"}),Object(X.jsx)("div",{className:n,onClick:t("bestemming"),children:"Bestemming"})]})})}a(494);var Ca=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.metadata.vehicle_types&&e.metadata.vehicle_types||[]})),a=Object(m.d)((function(e){return Array.isArray(e.filter.voertuigtypesexclude)?"":e.filter?e.filter.voertuigtypesexclude:""}))||"",n=function(n){(a||"").split(",").length!==t.length-1&&e({type:"ADD_TO_FILTER_VOERTUIGTYPES_EXCLUDE",payload:n})};return Object(X.jsxs)("div",{className:"filter-voertuigtypes-container",children:[Object(X.jsxs)("div",{className:"filter-voertuigtypes-title-row",children:[Object(X.jsx)("div",{className:"filter-voertuigtypes-title",children:"Vervoerstype"}),""!==a?Object(X.jsx)("div",{className:"filter-voertuigtypes-reset cursor-pointer",onClick:function(){e({type:"CLEAR_FILTER_VOERTUIGTYPES_EXCLUDE",payload:null})},children:"reset"}):null]}),Object(X.jsx)("div",{className:"filter-voertuigtypes-box-row",children:t.map((function(r,i){var o=(a||"").split(",").includes(r.id),c=o?function(t){t.stopPropagation(),function(t){e({type:"REMOVE_FROM_FILTER_VOERTUIGTYPES_EXCLUDE",payload:t})}(r.id)}:function(e){var i;e.stopPropagation(),i=r.id,""===a?t.map((function(e){return e.id!==i&&n(e.id),e})):n(i)},s="".concat(o?"filter-voertuigtypes-item-excluded":"filter-voertuigtypes-item"),l="";switch(r.id){case"bicycle":l="filter-voertuigtypes-icon-bicycle";break;case"cargo_bicycle":l="filter-voertuigtypes-icon-cargo-bicycle";break;case"moped":l="filter-voertuigtypes-icon-scooter";break;case"car":l="filter-voertuigtypes-icon-car";break;case"unknown":l="filter-voertuigtypes-icon-other"}return Object(X.jsxs)("div",{className:"".concat(s).concat(i===t.length-1?" filter-voertuigtypes-item-last":""),onClick:c,children:[Object(X.jsx)("div",{className:"filter-voertuigtypes-icon ".concat(l),onClick:c}),Object(X.jsx)("div",{className:"filter-voertuigtypes-itemlabel",children:r.name})]},r.id)}))})]})},Da=(a(495),a(108)),Aa=a.n(Da),Ra=a(533);function Ia(e){var t=e.title,a=e.backgroundColor,n=e.beforeHtml,r=e.onClick,i=e.isActive;return Object(X.jsxs)(K.motion.div,{className:"\n        inline-block\n        rounded\n        text-white\n        px-2\n        py-2\n        pb-1\n        mr-2\n        mb-2\n        text-sm\n        relative\n        ".concat(r?"cursor-pointer":"","\n      "),style:{backgroundColor:i?"#fff":a,color:!!i&&"#000",borderBottom:i?"solid #000 3px":"solid transparent 3px",boxShadow:i?"0px -3px 0px #003":"none",opacity:i?"0.8":"1",borderRadius:!!i&&0,top:!!i&&"2px"},onClick:r,whileHover:{scale:1.05},whileTap:{scale:1.01},children:[Object(X.jsx)("div",{className:"inline-block",dangerouslySetInnerHTML:{__html:n}}),t]})}var La=function(e){var t=e.theme,a=e.children,n=e.onClick;return Object(X.jsx)("div",{className:" rounded-lg inline-block border-solid border-2 px-2 py-2 mr-2 mb-2 text-sm cursor-pointer ",onClick:n,style:Te[t],children:a})};var Ma=function(e,t){var a=e.type,n=e.name,r=e.defaultValue,i=e.value,o=e.placeholder,c=e.min,s=e.disabled,l=e.id,d=e.autoComplete,u=e.classes,p=e.onChange;return Object(X.jsx)("div",{className:"FormInput",children:Object(X.jsx)("input",{type:a,name:n,autoComplete:d,id:l,value:i,defaultValue:r,onChange:p,placeholder:o,disabled:s,min:c,className:"\n        rounded-lg\n        inline-block\n        border-solid border-2\n        px-2\n        py-2\n        mr-2\n        mb-2\n        text-sm\n        ".concat(u,"\n      "),style:Te.white})})},Fa=function(e){var t=e.isVisible,a=e.title,n=e.children,r=e.button1Title,i=e.button1Handler,o=e.button2Title,c=e.button2Handler,s=e.hideModalHandler;return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:"modal-backdrop fade ".concat(t?"show":""),style:{display:t?"block":"none"}}),Object(X.jsx)("div",{className:"modal fade ".concat(t?"show":""," fixed top-0 left-0 w-full h-full outline-none overflow-x-hidden overflow-y-auto"),style:{display:t?"block":"none"},id:"exampleModalCenteredScrollable",tabIndex:"-1","aria-labelledby":"exampleModalCenteredScrollable","aria-modal":"true",role:"dialog",children:Object(X.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable relative w-auto pointer-events-none",children:Object(X.jsxs)("div",{className:"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current",children:[Object(X.jsxs)("div",{className:"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md",children:[Object(X.jsx)("h5",{className:"text-xl leading-normal text-gray-800 font-semibold",id:"exampleModalCenteredScrollableLabel",children:a}),Object(X.jsx)("button",{type:"button",className:"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline","data-bs-dismiss":"modal","aria-label":"Close",onClick:s})]}),n&&Object(X.jsx)("div",{className:"modal-body relative p-4",children:n}),Object(X.jsxs)("div",{className:"modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md",children:[r&&Object(X.jsx)("button",{type:"button",className:"inline-block px-6 py-2.5 bg-gray-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-gray-700 hover:shadow-lg focus:bg-gray-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-gray-800 active:shadow-lg transition duration-150 ease-in-out cursor-pointer","data-bs-dismiss":"modal",onClick:i,children:r}),Object(X.jsx)("button",{type:"button",className:"inline-block px-6 py-2.5 bg-blue-600 text-white font-medium text-xs leading-tight uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out ml-1 cursor-pointer",onClick:c,children:o})]})]})})})]})};function Ga(e){var t=e.children,a=e.imageUrl,n=e.onChange,r=e.name,i=e.value;return Object(X.jsxs)("div",{className:" bg-no-repeat pl-12 h-8 flex w-full ",style:{backgroundImage:"url('".concat(a,"')"),backgroundSize:"30px",backgroundPosition:"center left"},children:[Object(X.jsx)("input",{name:r,className:"flex-1",width:"100%",type:"range",min:"0",max:"250",step:"1",onChange:n,value:i,style:{width:"calc(100% - 48px)"}}),Object(X.jsx)("div",{className:"text-xs ml-2 h-8 flex justify-center flex-col",children:i||""}),t]})}var Pa=function(e){var t=e.hideLogo,a=e.view,r={geography_type:"monitoring",zone_availability:"auto",published:!0},i=Object(n.useState)(a||"adminView"),o=Object(Y.a)(i,2),c=o[0],s=o[1],l=Object(n.useState)(!1),d=Object(Y.a)(l,2),u=d[0],b=d[1],h=Object(n.useState)(0),f=Object(Y.a)(h,2),j=f[0],g=f[1],y=Object(n.useState)(null),O=Object(Y.a)(y,2),v=O[0],x=O[1],_=Object(n.useState)(null),w=Object(Y.a)(_,2),k=w[0],E=w[1],S=Object(n.useState)(r),N=Object(Y.a)(S,2),z=N[0],T=N[1],C=Object(n.useState)(),D=Object(Y.a)(C,2),A=D[0],R=D[1],I=Object(n.useState)(!1),L=Object(Y.a)(I,2),M=L[0],F=L[1],G=Object(n.useState)("modality"),P=Object(Y.a)(G,2),U=P[0],W=P[1],H=Object(n.useState)(document.location.pathname),B=Object(Y.a)(H,2),Z=(B[0],B[1]),V=Object(n.useState)(!1),K=Object(Y.a)(V,2),q=K[0],Q=K[1],$="mb-2 text-sm",ee=Object(m.d)((function(e){return e.filter?e.filter.gebied:null})),te=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:null})),re=Object(J.g)();Object(n.useEffect)((function(){Z(re?re.pathname:null)}),[re]),Object(n.useEffect)((function(){v&&F(!0)}),[v]),Object(n.useEffect)((function(){s(a)}),[a]),Object(n.useEffect)((function(){window.ddMap&&(u||(window.ddMap.on("draw.create",(function(e){e.features&&e.features[0]&&(x(e.features[0]),F(!0))})),window.ddMap.on("draw.update",(function(e){e.features&&e.features[0]&&(x(e.features[0]),F(!0))})),b(!0)))}),[window.ddMap]),Object(n.useEffect)((function(){return window.addEventListener("setSelectedZone",oe),function(){window.removeEventListener("setSelectedZone",oe)}}),[c,k,M,z]);var ie=function(e){window.ddMap&&e&&(window.CROW_DD.theDraw.get(e)&&window.CROW_DD.theDraw.changeMode("direct_select",{featureId:e}))},oe=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t,a){var n,r;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("adminView"===c||"adminEdit"===c){e.next=2;break}return e.abrupt("return");case 2:if((n=t.detail)!==z.zone_id&&"string"!==typeof n){e.next=5;break}return e.abrupt("return");case 5:if(R(n),r=a&&a.skipConfirmation,!M||r){e.next=10;break}return Q(!0),e.abrupt("return");case 10:if(F(!1),n!==z.zone_id||"direct_select"!==window.CROW_DD.theDraw.getMode()){e.next=14;break}return console.log("Stopped executing as zone was selected already"),e.abrupt("return");case 14:return ue(n),de(n)&&s("adminEdit"),e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){var t;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(te,ee);case 2:return t=e.sent,E(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){var t;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(ee);case 2:t=e.sent,E(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=te?ce:le,t=setTimeout(Object(ne.a)(Object(ae.a)().mark((function t(){return Object(ae.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))),5),a=setInterval(Object(ne.a)(Object(ae.a)().mark((function t(){return Object(ae.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))),6e4);return function(){clearTimeout(t),clearInterval(a)}}),[ee]);var de=function(e){var t=Xe(k,e);if(t){Pe(t.geography_id);var a=r;a.zone_id=t.zone_id,a.area=t.area,a.name=t.name,a.municipality=t.municipality,a.geography_type=t.geography_type||r.geography_type,a.geography_id=t.geography_id,a.description=t.description,a.published=!0,t.stop&&(a.stop=t.stop,a["vehicles-limit.bicycle"]=t.stop.capacity.bicycle||0,a["vehicles-limit.moped"]=t.stop.capacity.moped||0,a["vehicles-limit.scooter"]=t.stop.capacity.scooter||0,a["vehicles-limit.cargo_bicycle"]=t.stop.capacity.cargo_bicycle||0,a["vehicles-limit.car"]=t.stop.capacity.car||0,a["vehicles-limit.other"]=t.stop.capacity.other||0,a["vehicles-limit.combined"]=t.stop.capacity.combined||0,!0===t.stop.status.control_automatic?a.zone_availability="auto":t.stop.status.control_automatic||!0!==t.stop.status.is_returning?t.stop.status.control_automatic||!1!==t.stop.status.is_returning||(a.zone_availability="closed"):a.zone_availability="open",a["vehicles-limit.combined"]&&a["vehicles-limit.combined"]>0?W("combined"):W("modality")),T(a)}return t},ue=function(e){window.ddMap&&e&&(window.CROW_DD.theDraw.get(e)&&window.CROW_DD.theDraw.changeMode("direct_select",{featureId:e}))},pe=function(){window.CROW_DD.theDraw&&(window.CROW_DD.theDraw.changeMode("simple_select",[]),s("adminView"))},me=function(e){if(e.target&&e.target.name){F(!0);var t=z;t[e.target.name]=e.target.value,T(t),g(j+1)}},be=function(){return z.geography_id?{geography_id:z.geography_id,geography_type:z.geography_type,municipality:z.municipality,name:z.name,description:z.description,published:z.published,zone_availability:z.zone_availability,zone_id:z.zone_id,area:v||z.area}:Object.assign({geography_id:z.geography_id,geography_type:z.geography_type,name:z.name,published:z.published,zone_availability:z.zone_availability},{municipality:ee,area:v,description:"Zone"})},he=function(){var e=be();return e.geography_type="stop",e.stop=je(),e},fe=function(){var e=be();return e.no_parking=z.no_parking||{},e},je=function(){var e=function(){if("combined"===U)return!z["vehicles-limit.combined"]||z["vehicles-limit.combined"]<=0?{}:{combined:parseInt(z["vehicles-limit.combined"])};var e={};return parseInt(z["vehicles-limit.cargo_bicycle"])>0&&(e.cargo_bicycle=parseInt(z["vehicles-limit.cargo_bicycle"])),parseInt(z["vehicles-limit.scooter"])>0&&(e.scooter=parseInt(z["vehicles-limit.scooter"])),parseInt(z["vehicles-limit.bicycle"])>0&&(e.bicycle=parseInt(z["vehicles-limit.bicycle"])),parseInt(z["vehicles-limit.car"])>0&&(e.car=parseInt(z["vehicles-limit.car"])),parseInt(z["vehicles-limit.other"])>0&&(e.other=parseInt(z["vehicles-limit.other"])),parseInt(z["vehicles-limit.moped"])>0&&(e.moped=parseInt(z["vehicles-limit.moped"])),e},t=function(){return{control_automatic:z&&"auto"===z.zone_availability,is_returning:z&&("auto"===z.zone_availability||"open"===z.zone_availability),is_installed:!!(z&&z.stop&&z.stop.status)&&z.stop.status.is_installed,is_renting:!!(z&&z.stop&&z.stop.status)&&z.stop.status.is_renting}};return z&&z.stop&&z.stop_id?{stop_id:z.stop.stop_id,location:z.stop.location,status:t(),capacity:e()}:{location:z.area?Object(se.a)(z.area):Object(se.a)(v),status:t(),capacity:e()}},ge=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){var t,a,n,i,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z.area||v){e.next=3;break}return notify("Teken eerst een zone voordat je deze opslaat"),e.abrupt("return");case 3:if(t=be(),"stop"===z.geography_type?t=he():"no_parking"===z.geography_type&&(t=fe()),!z.geography_id){e.next=20;break}return e.next=8,Me(te,t);case 8:if((a=e.sent)&&a.zone_id){e.next=13;break}return console.error(a),alert("Er ging iets fout bij het opslaan van de zone."),e.abrupt("return");case 13:T(a),window.CROW_DD.theDraw.delete(z.zone_id),n={id:a.zone_id,type:"Feature",properties:{geography_type:a.geography_type},geometry:{type:"Polygon",coordinates:a.area.geometry.coordinates}},window.CROW_DD.theDraw.add(n),ce(),e.next=28;break;case 20:return e.next=22,Le(te,t);case 22:if(i=e.sent,ce(),i&&i.area){e.next=26;break}return e.abrupt("return");case 26:o={id:i.zone_id,type:"Feature",properties:{geography_type:i.geography_type},geometry:{type:"Polygon",coordinates:i.area.geometry.coordinates}},window.CROW_DD.theDraw.add(o);case 28:return pe(),T(r),Oe(),F(!1),e.abrupt("return",!0);case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Weet je zeker dat je deze zone wilt verwijderen?")){e.next=2;break}return e.abrupt("return");case 2:if(z&&z.geography_id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Fe(te,z.geography_id);case 6:ce(),window.CROW_DD.theDraw.delete(z.zone_id),pe();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=window.CROW_DD.theDraw.getAll();$e(e.features).map((function(e){window.CROW_DD.theDraw.delete(e.id)}))},ve=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n,i,o;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.skipConfirmation,n=!z.geography_id,!v||!n||a){e.next=5;break}if(window.confirm("Weet je zeker dat je het tekenen van de zone wilt annuleren?")){e.next=5;break}return e.abrupt("return");case 5:return window.CROW_DD.theDraw.trash(),x(null),Oe(),pe(),T(r),e.next=12,ce();case 12:if(n){e.next=19;break}if(i=Xe(k,z.zone_id)){e.next=17;break}return console.error("originalZone was not found while executing cancelButtonHandler"),e.abrupt("return");case 17:o={id:z.zone_id,type:"Feature",properties:{geography_type:i.geography_type},geometry:{type:"Polygon",coordinates:i.area.geometry.coordinates}},window.CROW_DD.theDraw.add(o);case 19:F(!1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=!z.geography_id;return Object(X.jsxs)("div",{className:"filter-bar-inner py-2",children:[!t&&Object(X.jsx)(p.b,{to:"/",children:Object(X.jsx)(ta,{})}),Object(X.jsx)(fa,{disabled:!0}),Object(X.jsx)("div",{className:"mt-0",children:Object(X.jsx)(pa,{})}),!ee&&!1,"readonly"===c&&te&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("div",{className:$,children:"\xa0"}),Object(X.jsxs)("div",{className:"flex justify-end -mr-2",children:[Object(X.jsx)(p.b,{to:"/map/zones",children:Object(X.jsx)(La,{theme:"white",children:"\ud83d\udcca"})}),Object(X.jsx)(p.b,{to:"/admin/zones",children:Object(X.jsx)(La,{theme:"white",children:"\u270f\ufe0f"})})]})]}),"adminView"===c&&Object(X.jsxs)("div",{children:[Object(X.jsx)("div",{className:$,children:"Nieuwe zone"}),Object(X.jsxs)("div",{children:["adminView"===c&&Object(X.jsxs)("div",{className:"flex justify-between",children:[Object(X.jsx)(La,{theme:"white",onClick:function(){window.CROW_DD.theDraw&&(window.CROW_DD.theDraw.changeMode("draw_polygon"),T(r),s("adminEdit"))},children:"Nieuwe zone aanmaken"}),Object(X.jsxs)("div",{className:"flex -mr-2",children:[Object(X.jsx)(p.b,{to:"/map/zones",children:Object(X.jsx)(La,{theme:"white",children:"\ud83d\udcca"})}),Object(X.jsx)(p.b,{to:"/admin/zones",children:Object(X.jsx)(La,{theme:"white",children:"\u270f\ufe0f"})})]})]}),"adminEdit"===c&&Object(X.jsx)(La,{theme:"white",onClick:ve,children:"Annuleer"})]})]}),"adminEdit"===c&&Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{className:$,children:["Zone ",xe?"toevoegen":"wijzigen"]}),Object(X.jsxs)("div",{className:"flex justify-between",children:[Object(X.jsx)(La,{theme:M?"greenHighlighted":"green",onClick:ge,children:"Opslaan"}),Object(X.jsxs)("div",{className:"-mr-2",children:[!xe&&Object(X.jsx)(La,{onClick:ye,children:"\ud83d\uddd1\ufe0f"}),Object(X.jsx)(La,{theme:"white",onClick:ve,children:"Annuleer"})]})]}),Object(X.jsx)("div",{children:Object(X.jsx)(Ma,{type:"text",placeholder:"Naam van de zone",name:"name",autoComplete:"off",id:"js-FilterbarZones-name-input",value:z.name||"",onChange:me,classes:"w-full"})}),Object(X.jsx)("div",{className:" mt-0 ",children:Object(X.jsx)("div",{className:" flex rounded-lg bg-white border-solid border border-gray-400 text-sm ",children:Ra.a((function(e){return Object(X.jsx)("div",{className:"\n                ".concat(z.geography_type===e.name?"Button-orange":"","\n                cursor-pointer\n                flex-1\n                \n                rounded-lg\n                text-gray-500\n                text-center\n                h-10\n                flex\n                flex-col\n                justify-center\n              "),style:{backgroundColor:"".concat(z.geography_type===e.name?e.color:"")},onClick:function(t){t.preventDefault(),me({target:{name:"geography_type",value:e.name}});var a,n=z.zone_id;if(n||(n=function(){var e=window.CROW_DD.theDraw.getAll(),t=$e(e.features);return!(!t||1!==t.length||!t[0].id)&&t[0].id}()),n){a=n,window.CROW_DD.theDraw.changeMode("simple_select",[]),window.CROW_DD.theDraw.changeMode("direct_select",{featureId:a})}},children:e.title},e.name)}),[{name:"monitoring",title:"Analyse",color:"#15aeef"},{name:"stop",title:"Parking",color:"#fd862e"},{name:"no_parking",title:"No parking",color:"#fd3e48"}])})}),Object(X.jsx)("div",{className:"\n          py-2\n          ".concat("stop"===z.geography_type?"visible":"invisible","\n        "),children:Object(X.jsx)("div",{className:" flex rounded-lg bg-white border-solid border border-gray-400 text-sm ",children:Ra.a((function(e){return Object(X.jsx)("div",{className:"\n                ".concat(z.zone_availability===e.name?"Button-blue":"","\n                cursor-pointer\n                flex-1\n                rounded-lg\n                text-gray-500\n                text-center\n                border-gray-500\n                h-10\n                flex\n                flex-col\n                justify-center\n              "),onClick:function(t){t.preventDefault(),me({target:{name:"zone_availability",value:e.name}})},children:e.title},e.name)}),[{name:"auto",title:"Automatisch"},{name:"open",title:"Open"},{name:"closed",title:"Gesloten"}])})}),Object(X.jsxs)("div",{className:"stop"===z.geography_type?"visible":"invisible",children:[Object(X.jsxs)("p",{className:"mb-2 text-sm",children:["Limiet ",Object(X.jsx)("a",{onClick:function(){return W("modality")},className:"\n              ".concat("modality"===U?"underline":"","\n              cursor-pointer\n            "),children:"per modaliteit"})," | ",Object(X.jsx)("a",{onClick:function(){return W("combined")},className:"\n              ".concat("combined"===U?"underline":"","\n              cursor-pointer\n            "),children:"totaal"})]}),Object(X.jsxs)("div",{className:" rounded-lg bg-white border-solid border border-gray-400 p-4 ",children:["combined"===U&&Object(X.jsx)(Ga,{imageUrl:"",name:"vehicles-limit.combined",value:z["vehicles-limit.combined"],onChange:me}),"modality"===U&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(Ga,{imageUrl:"https://i.imgur.com/IF05O8u.png",name:"vehicles-limit.bicycle",value:z["vehicles-limit.bicycle"],onChange:me}),Object(X.jsx)(Ga,{imageUrl:"https://i.imgur.com/FdVBJaZ.png",name:"vehicles-limit.cargo_bicycle",value:z["vehicles-limit.cargo_bicycle"],onChange:me}),Object(X.jsx)(Ga,{imageUrl:"https://i.imgur.com/h264sb2.png",name:"vehicles-limit.moped",value:z["vehicles-limit.moped"],onChange:me}),Object(X.jsx)(Ga,{imageUrl:"https://i.imgur.com/7Y2PYpv.png",name:"vehicles-limit.car",value:z["vehicles-limit.car"],onChange:me})]})]})]})]}),!1,Object(X.jsxs)("div",{className:"mt-6",children:[Object(X.jsx)("div",{className:$,children:"Zones"}),Object(X.jsx)("div",{children:k?Ra.a((function(e){var t=e.zone_id;return"adminView"===c&&(e.onClick=function(){var a=new CustomEvent("setSelectedZone",{detail:t});if(window.dispatchEvent(a),e.area&&e.area.geometry&&e.area.geometry.coordinates&&e.area.geometry.coordinates[0]){if(!window.ddMap)return;var n=Aa.a.extent(e.area);window.ddMap.fitBounds(n,{padding:{top:25,bottom:25,left:350,right:25},duration:1400})}Pe(e.geography_id)}),"readonly"===c&&(e.onClick=function(){if(e.area&&e.area.geometry&&e.area.geometry.coordinates&&e.area.geometry.coordinates[0]){if(!window.ddMap)return;var t=Aa.a.extent(e.area);window.ddMap.fitBounds(t,{padding:{top:25,bottom:25,left:350,right:25},duration:1400})}Ge(e.geography_id)}),function(e,t,a){var n=e.zone_id,r=e.name,i=e.geography_type,o=e.stop,c=e.onClick,s={monitoring:Te.zone.monitoring.primaryColor,stop:Te.zone.stop.primaryColor,no_parking:Te.zone.no_parking.primaryColor};return Object(X.jsx)(Ia,{title:r,backgroundColor:s[i]||"#000",beforeHtml:function(e){if(!e)return"";if(!1===e.status.control_automatic&&!1===e.status.is_returning)return'<div class="mr-1">\ud83d\udd12</div>';if("readonly"===a){if(e&&e.capacity){var t=Ue(e),n=We(e.realtime_data);return'<div class="\n        rounded-full w-3 h-3 mr-2\n        border border-2 border-white\n      " style="background-color: '.concat(He(n,t),'" />')}return""}}(o),onClick:c,isActive:t,children:r},n)}(e,e.zone_id===z.zone_id,c)}),k):Object(X.jsx)("div",{})})]}),Object(X.jsxs)(Fa,{isVisible:q,title:"Wil je doorgaan zonder opslaan?",button1Title:!1,button1Handler:function(e){Q(!1),ie(z.zone_id)},button2Title:"Doorgaan",button2Handler:function(e){e.preventDefault(),Q(!1),ve({skipConfirmation:!0}),oe({detail:A},{skipConfirmation:!0})},saveHandlerUNEXISTING:function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Q(!1),e.next=4,ge();case 4:ie(A);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hideModalHandler:function(){Q(!1),ie(z.zone_id)},children:[Object(X.jsx)("p",{className:"mb-4",children:"Je hebt nog onopgeslagen wijzigingen."}),Object(X.jsx)("p",{className:"my-4",children:"Sluit dit venster om je wijzigingen te behouden. Je kunt dan zelf de wijzigingen opslaan."}),Object(X.jsxs)("p",{className:"mt-4",children:["Je kunt ook ",Object(X.jsx)("b",{children:"Doorgaan"})," zonder op te slaan."]})]})]})};var Ua=function(e){var t,a=e.displayMode,n=(e.visible,e.hideLogo),r=Object(m.d)((function(e){return!!e.authentication.user_data})),i=Object(m.d)((function(e){return e.filter&&e.filter.datum?e.filter.datum:(new Date).toISOString()})),o=a===T,c=a===C,s=a===A,l=a===R,d=c||o||!r,u=c,b=o,h=c,j=c,g=l,y=c||o||!r;return t=l?["residential_area"]:["residential_area","custom","neighborhood"],s||a===D?Object(X.jsx)(Pa,{view:s?"readonly":"adminView",hideLogo:n}):Object(X.jsxs)("div",{className:"filter-bar-inner py-2",children:[Object(X.jsxs)("div",{className:"justify-between hidden sm:flex",children:[Object(X.jsx)("div",{style:{minWidth:"82px"},children:!n&&(o?Object(X.jsx)(ta,{}):Object(X.jsx)(p.b,{to:"/",children:Object(X.jsx)(ta,{})}))}),Object(X.jsx)("div",{className:"ml-4 text-sm flex justify-center flex-col",style:{color:"#FD862E"}})]}),r&&d&&Object(X.jsx)(fa,{}),!r&&d&&Object(X.jsx)("div",{children:Object(X.jsxs)("div",{className:"filter-datum-container",children:[Object(X.jsx)("div",{className:"filter-datum-title",children:"Tijd"}),Object(X.jsx)("div",{className:"filter-datum-box-row",children:f()(i).format("HH:mm")})]})}),r&&u&&Object(X.jsx)(wa,{}),r&&g&&Object(X.jsx)(xa,{}),Object(X.jsx)(pa,{}),Object(X.jsx)(Ea,{zonesToShow:t}),r&&b&&Object(X.jsx)(Sa,{}),r&&h&&Object(X.jsx)(Na,{}),r&&j&&Object(X.jsx)(Ta,{}),y&&Object(X.jsx)(Ca,{}),Object(X.jsx)(ka,{})]})};var Wa=function(e){e.isVisible;var t=e.displayMode,a=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR_EXTENDED}));return Object(X.jsx)(jt,{name:"FilterBar",direction:"left",options:{title:"Filters",backgroundColor:"#F6F5F4"},style:{width:a?"648px":"324px",height:"100%",top:0,position:"fixed"},children:Object(X.jsx)("div",{className:"py-2 mx-3 h-full",children:Object(X.jsx)(Ua,{displayMode:t})})})};a(505);var Ha=function(e){return Object(X.jsxs)("div",{className:"\n      MobileSlideBox w-full sm:hidden fixed left-0\n      ".concat(e.isVisible?"is-visible":"","\n      ").concat(e.classes,"\n    "),style:e.style,children:[Object(X.jsxs)("header",{className:"flex justify-between",children:[Object(X.jsx)("h1",{className:"",children:e.title}),Object(X.jsx)(aa,{onClick:e.closeHandler})]}),Object(X.jsx)("div",{className:"w-full",children:e.children})]})};var Ba=function(e){var t=e.isVisible,a=e.displayMode,n=Object(m.c)();return Object(X.jsx)(Ha,{title:"Filters",isVisible:t,closeHandler:function(){n({type:"SET_VISIBILITY",payload:{name:"FILTERBAR",visibility:!1}})},classes:" top-0 overflow-auto ",style:{height:"calc(100% - 60px)"},children:Object(X.jsx)(Ua,{hideLogo:!0,displayMode:a})})},Za=a(143),Va=function(){var e=Object(n.useState)(!1),t=Object(Y.a)(e,2),a=t[0],r=t[1];return a?Object(X.jsx)(J.a,{to:"/"}):Object(X.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(X.jsxs)("div",{className:"mx-auto py-8",children:[Object(X.jsx)(aa,{onClick:function(){return r(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(X.jsx)(ta,{}),Object(X.jsx)("div",{style:{maxWidth:"100%",width:"616px"},dangerouslySetInnerHTML:{__html:Za.marked.parse('\n# Over het Dashboard Deelmobiliteit\n\n## Algemeen\n\nHet Dashboard Deelmobiliteit is een webtool van en voor overheden die de ontwikkelingen rond deelmobiliteit op de voeten willen volgen.\n\nHoe lang en waar staan deelvoertuigen ongebruikt in de openbare ruimte? Hoe vaak worden de deelvoertuigen verhuurd? In welke wijken en op welke tijdstippen zijn deelvoertuigen populair? \n\nMet de informatie uit het Dashboard Deelmobiliteit kunnen overheden hun beleid ontwikkelen, evalueren en bijsturen.\n\n## Hoe werkt het?\n\nHet Dashboard Deelmobiliteit verzamelt elke halve minuut positie van  meer dan 15.000 geparkeerde deelvoertuigen in Nederland (januari 2022).\n\nOp basis van deze informatie genereert het dashboard zogenaamde parkeergebeurtenissen en verhuringen, die opgeslagen worden in een centrale database.\n\nHet dashboard biedt een aantal functionaliteiten (kaarten, grafieken en tabellen) om de database te raadplegen. \n\nVoor analyses waar het dashboard niet in voorziet, kunnen overheden downloads maken van de ruwe data uit het dashboard om maatwerkanalyses te (laten) maken.\n\n## Functionaliteiten\n\nIn overleg met deelnemende overheden zijn de volgende functionaliteiten ontwikkeld:\n\n- Een kaart met het aanbod van deelvoertuigen op een tijdstip naar keuze. Een kleurcode geeft tevens aan hoe lang het voertuig te huur staat.\n- Een kaart met verhuringen van deelvoertuigen gedurende een periode naar keuze. Het betreft zowel de locaties waar verhuringen gestart zijn als be\xebindigd.\n- Grafieken met ontwikkelingen in een periode naar keuze. Het gaat zowel om de ontwikkeling in het aantal deelvoertuigen dat aangeboden wordt als om de ontwikkeling het aantal verhuringen.\n- Standaardrapportages als excel-sheets gedownload kunnen worden.\n\nOverheden hebben alleen toegang tot de informatie over deelvoertuigen in hun eigen bestuursgebied.\n\n## Voordelen voor gemeenten\n\n- sneller toegang tot data\n- minder uitvragen naar aanbieders nodig (1 bron met alle data)\n- geen conversie meer nodig: data van elke aanbieder heeft precies hetzelfde dataformaat\n- ontwikkeling in overleg met de aangesloten gemeentes\n- indien gewenst uit te breiden door gemeentes zelf (open source software)\n\n## Voordelen aanbieders\n\n- minder aanvragen vanuit gemeentes\n- geen nieuwe dataformaten nodig i.v.m. gebruik internationale datastandaarden\n- gemeentes hebben beter inzicht in de stand van zaken\n- aanbieders hebben beter inzicht\n\n## Veel gestelde vragen\n\n### Hoe krijg ik toegang tot het Dashboard?\n\nVia het CROW of via info@deelfietsdashboard.nl kun je een login aanvragen. Afhankelijk van je taak en de afspraken over de data kun je vervolgens toegang krijgen tot de dashboard informatie voor gebieden en/of van aanbieders. Zo kunnen gemeente medewerkers over het algemeen toegang krijgen voor het dashboard in hun gemeente. Aanbieders van deelfietsen kunnen uiteraard toegang krijgen tot alle informatie van hun deelfietsen. Neem voor vragen over de rechten ook contact op met het CROW of info@deelfietsdashboard.nl.\n\n### Welke datastandaarden worden ondersteund?\n\nHoewel het Dashboard Deelmobiliteit verschillende datastandaarden ondersteunt, geven we er de voorkeur aan dat aanbieders hun data aanleveren conform MDS. Dit geeft ook de aanbieders de meeste zekerheid dat de koppeling in de toekomst goed functioneert. Zie de details in deze [specificatie](https://docs.crow.nl/deelfietsdashboard/hr-dataspec/).\n\n### Wat zijn de afspraken over data en financiering?\n\n[Op deze pagina](https://www.fietsberaad.nl/Kennisbank/Afspraken-over-data-en-financiering-van-dashboard) vind je de afspraken over openbaarheid data en de financiering.\n\n### Is de software open source?\n\nJa, de software is open source. Via [GitHub](https://github.com/Stichting-CROW/dashboarddeelmobiliteit-app) en [Gitlab](https://gitlab.com/bikedashboard) kun de laatste versie van de broncode bekijken.\n\nVelen handen maken licht werk. We zijn daarom blij als je wilt helpen. Gemeenten of andere overheden kunnen helpen bij het specificeren van handige overzichten. Deelmobiliteitbedrijven kunnen meebouwen aan open source tools. Ontwikkelaars kunnen bijdragen aan de code. Ontwerpers kunnen de look & feel verbeteren. Mail ons als je wilt weten hoe je mee kunt helpen!\n\nWe nodigen iedereen uit om mee te kijken en mee te ontwikkelen. Bugs en suggesties kunnen direct in de [issue-lijst](https://github.com/Stichting-CROW/dashboarddeelmobiliteit-app/issues) geplaatst worden. Ons mailen op info@deelfietsdashboard.nl kan natuurlijk ook.\n\n## Tot slot\n\nWil je contact opnemen met het team achter het Dashboard Deelmobiliteit, neem dan contact op met <a href="mailto:info@deelfietsdashboard.nl?Subject=Hallo">info@deelfietsdashboard.nl</a>\n          ')}})]})})},Ya=a(56),Ja=a(253),Ka=(a(506),Object(Ya.a)(Array(13).keys()).slice(1).map((function(e){return"/components/Tour/Openbare_presentatie_dashboard_deelmobiliteit_januari_2022-".concat(e<10?"0":"").concat(e,".png")}))),Xa={duration:6e4,transitionDuration:300,pauseOnHover:!0,infinite:!0,arrows:!0,indicators:!0,scale:1.4,onChange:function(e,t){}},qa=function(){var e=Object(n.useState)(!1),t=Object(Y.a)(e,2),a=t[0],r=t[1],i=Object(n.useRef)(null);Object(n.useEffect)((function(e){var t=function(e){"ArrowLeft"===e.code?i.current.goBack():"ArrowRight"===e.code&&i.current.goNext()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[]);return a?Object(X.jsx)(J.a,{to:"/"}):Object(X.jsxs)("div",{className:" min-h-screen flex justify-center px-0 w-full ",children:[Object(X.jsx)(aa,{onClick:function(){return r(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(X.jsxs)("div",{className:"mx-auto py-8 w-full justify-between flex-col flex",children:[Object(X.jsx)(ta,{}),Object(X.jsx)("div",{className:"slide-container flex-1",children:Object(X.jsx)(Ja.Fade,Object(c.a)(Object(c.a)({ref:i},Xa),{},{children:Ka.map((function(e,t){return Object(X.jsx)("div",{className:"each-slide",children:Object(X.jsxs)("div",{style:{backgroundImage:"url(".concat(Ka[t],")")},children:[10===t&&Object(X.jsx)("span",{className:"each-slide-text",children:Object(X.jsx)("a",{href:"https://docs.crow.nl/deelfietsdashboard/hr-dataspec/",target:"_blank",rel:"noreferrer",children:"Klik hier voor de specs"})}),11===t&&Object(X.jsxs)("span",{className:"each-slide-text",children:[Object(X.jsx)("div",{children:Object(X.jsx)("a",{href:"https://www.fietsberaad.nl/Kennisbank/Afspraken-over-data-en-financiering-van-dashboard",target:"_blank",rel:"noreferrer",children:"Openbaarheid en financiering"})}),Object(X.jsx)("div",{children:Object(X.jsx)("a",{href:"https://github.com/Stichting-CROW/",target:"_blank",rel:"noreferrer",children:"GitHub"})}),Object(X.jsx)("div",{children:Object(X.jsx)("a",{href:"https://gitlab.com/bikedashboard",target:"_blank",rel:"noreferrer",children:"GitLab"})}),Object(X.jsx)("div",{children:Object(X.jsx)("a",{href:"https://github.com/Stichting-CROW/dashboarddeelmobiliteit-app/issues",target:"_blank",rel:"noreferrer",children:"Bugs & Suggesties"})}),Object(X.jsx)("div",{children:Object(X.jsx)("a",{href:"mailto:info@deelfietsdashboard.nl",target:"_blank",rel:"noreferrer",children:"info@deelfietsdashboard.nl"})})]})]})},e)}))}))})]})]})};a(507);function Qa(e){return Object(X.jsx)("div",{className:"Overlay relative z-20 w-full h-full lg:w-2/3 bg-white pb-16",children:Object(X.jsx)("div",{className:"Overlay-inner overflow-y-auto h-full",children:e.children})})}a(508);var $a=function(e){return e.items,Object(X.jsx)("div",{className:"PillMenu px-5",children:Object(X.jsxs)("ul",{className:"flex",children:[Object(X.jsx)("li",{children:Object(X.jsx)(p.b,{to:"/profile",children:"Profiel"})}),Object(X.jsx)("li",{children:Object(X.jsx)(p.b,{to:"/faq",children:"FAQ"})}),Object(X.jsx)("li",{children:Object(X.jsx)(p.b,{to:"/export",children:"Exporteer"})})]})})};function en(e){var t=e.children,a=Object(n.useState)(!1),r=Object(Y.a)(a,2),i=r[0],o=r[1];return i?Object(X.jsx)(J.a,{to:"/"}):Object(X.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(X.jsxs)("div",{className:"mx-auto py-8",style:{width:"500px",maxWidth:"100%"},children:[Object(X.jsx)(aa,{onClick:function(){return o(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(X.jsx)(ta,{title:"Extra"}),Object(X.jsx)("div",{className:"mt-8",children:Object(X.jsx)($a,{})}),Object(X.jsx)("div",{className:" mt-8 ",children:t})]})})}var tn=function(e){var t=e.title,a=e.children;return Object(X.jsxs)("section",{className:"my-6 py-2 border-t-2 border-solid border-gray-200",style:{maxWidth:"100%"},children:[Object(X.jsx)("h3",{className:"mt-4 mb-4 text-xl font-bold",children:t}),a]})};var an=function(){return Object(X.jsxs)("div",{className:"Faq",children:[Object(X.jsx)("h1",{className:" text-4xl font-bold ",children:"FAQ"}),Object(X.jsx)("div",{className:"my-5",children:Object(X.jsx)(tn,{title:"Hoe beheer ik zones?",children:Object(X.jsx)("div",{dangerouslySetInnerHTML:{__html:Za.marked.parse("\nOp de pagina **Zones** is het mogelijk om zones te beheren en bekijken.\n\nWil je zones toevoegen, aanpassen of verwijderen? Doe dit als volgt:\n\n1. Ga naar [Zones](/map/zones)\n2. Klik links in het menu op het potlood-icoon<br /><br />![img](https://i.imgur.com/b1ehHu5.png)<br /><br />\n\n\n### Toevoegen\n\n3. Klik op **Nieuwe zone aanmaken**\n4. Klik meerdere keren op de kaart om een gebied af te kaderen<br /><br />![img](https://i.imgur.com/gV2mMvl.png)<br />\n5. Geef de zone een **naam**\n6. Bepaal welk type zone dit is:\n  - Analysezone: Definieer een zone voor toekomstige analyses\n  - Parking zone: Stel een limiet aan voertuigen in\n  - No parking: Maak een verbodsgebied\n7. Klik op **Opslaan**\n\n![img](https://i.imgur.com/LFY7xHt.png)\n\n          ")}})})})]})};function nn(e){var t=e.classes,a=e.href,n=e.onClick,r=e.color,i=e.children;return Object(X.jsx)("button",{className:"\n    px-6 py-2 my-4 rounded-lg\n    transition-all\n    duration-100\n    ".concat("blue"===r?"bg-theme-blue hover:bg-black text-white":"","\n    ").concat("gray"===r?"bg-gray-300 hover:bg-gray-400 text-white":"","\n    ").concat(t,"\n  "),href:a,onClick:n,children:i})}var rn=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return!!(e.authentication&&e.authentication.user_data&&e.authentication.user_data.user)&&e.authentication.user_data.user}));return Object(X.jsxs)("div",{children:[Object(X.jsxs)("h2",{className:"mb-4 text-4xl font-bold",children:["Hallo",Object(X.jsx)("span",{className:"ml-4 inline-block text-gray-300 text-lg",children:t?t.email:""})]}),Object(X.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Je bent lid van het Dashboard Deelmobiliteit, een webtool van en voor overheden die de ontwikkelingen rond deelmobiliteit willen volgen."}),"\xbb ",Object(X.jsx)(p.b,{to:"/over",className:" text-gray-400 underline block mb-2 inline-block ",children:"Meer info"}),Object(X.jsx)("br",{}),"\xbb ",Object(X.jsx)(p.b,{to:"/rondleiding",className:" text-gray-400 underline block mb-2 inline-block ",children:"Rondleiding"}),Object(X.jsxs)("div",{className:"flex",children:[Object(X.jsx)(nn,{classes:"mr-2",color:"blue",href:"mailto:info@deelfietsdashboard.nl?subject=Feedback Dashboard Deelmobiliteit&body=Ik heb feedback: ",children:"Zend feedback"}),Object(X.jsx)(nn,{color:"gray",onClick:function(){window.confirm("Wil je uitloggen?")&&(t&&(e({type:"CLEAR_USER",payload:null}),e({type:"LOGOUT",payload:null})),setDoRenderRedirect(!0))},children:"Uitloggen"})]})]})};var on=function(e){var t=Object(n.useState)(e.startDate||f()().toDate()),a=Object(Y.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)(e.endDate||f()().toDate()),c=Object(Y.a)(o,2),s=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(Y.a)(d,2),p=u[0],m=u[1],b=function(t){var a=Object(Y.a)(t,2),n=a[0],r=a[1];i(n),l(r),e.onChange(t),null!==r&&m(!p)},h=function(e){var t=r,a=s;t=Object(ya.default)(r,e?-7:7),a=Object(ya.default)(s,e?-7:7),i(t),l(a)},j=function(e){var t,a,n=new Date((new Date).toDateString());switch(e){case"laatste7dagen":t=Object(ya.default)(n,-6),a=n;break;case"laatste30dagen":t=Object(ya.default)(n,-30),a=n;break;case"laatste90dagen":t=Object(ya.default)(n,-90),a=n;break;case"laatste12maanden":t=Object(ya.default)(n,-365),a=n;break;case"ditjaar":var r=n.getFullYear();t=new Date(r.toString()+"/1/1"),a=n;break;case"vorigjaar":var i=n.getFullYear()-1;t=new Date(i.toString()+"/1/1"),a=new Date(i.toString()+"/12/31");break;default:return}b([t,a])};return Object(X.jsxs)("div",{className:"filter-datum-van-tot-container",style:{paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:[Object(X.jsx)("div",{className:"filter-datum-van-tot-title",children:e.label}),Object(X.jsxs)("div",{className:"filter-datum-van-tot-box-row",children:[Object(X.jsx)("div",{className:"flex flex-col justify-center",children:Object(X.jsx)("div",{className:"filter-datum-caret",onClick:function(){h(!0)},children:"\u2039"})}),Object(X.jsxs)("div",{className:"filter-datum-van-tot-input",onClick:function(e){e.preventDefault(),m(!p)},children:[null!==r?Object(va.default)(r,"yyyy-MM-dd"):"","\xa0t/m\xa0",null!==s?Object(va.default)(s,"yyyy-MM-dd"):""," "]}),Object(X.jsx)("div",{className:"flex flex-col justify-center",children:Object(X.jsx)("div",{className:"filter-datum-caret",onClick:function(){h(!1)},children:"\u203a"})})]}),p&&Object(X.jsxs)("div",{className:"filter-datum-van-tot-pickercontainer",children:[Object(X.jsx)(ga.a,{className:"filter-datum-van-tot-picker",selected:r,onChange:b,startDate:r,endDate:s,dateFormat:"yyyy-MM-dd",selectsRange:!0,inline:!0},"dp-van-tot"),Object(X.jsxs)("div",{className:"filter-datum-van-tot-picker-options",children:[Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste7dagen")},children:"Laatste 7 dagen"},"fdvt-po1"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste30dagen")},children:"Laatste 30 dagen"},"fdvt-po2"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste90dagen")},children:"Laatste 90 dagen"},"fdvt-po3"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste12maanden")},children:"Laatste 12 maanden"},"fdvt-po4"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("ditjaar")},children:"Dit jaar"},"fdvt-po5"),Object(X.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("vorigjaar")},children:"Vorig jaar "},"fdvt-po6")]})]})]})};a(509);var cn=function(e){var t=e.label,a=e.options,n=e.onChange;return Object(X.jsxs)("div",{className:"FormSelect my-2",children:[Object(X.jsx)("div",{className:"filter-datum-van-tot-title",children:t}),Object(X.jsxs)("select",{onChange:n,children:[Object(X.jsx)("option",{},"0"),a.map((function(e){return Object(X.jsx)("option",{value:e.value,children:e.title},e.value)}))]})]})};var sn=function(){Object(m.c)();var e=Object(n.useState)(!1),t=Object(Y.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(f()(f()().subtract(1,"month")).format("YYYY-MM-DD")),o=Object(Y.a)(i,2),c=o[0],s=o[1],l=Object(n.useState)(f()().format("YYYY-MM-DD")),d=Object(Y.a)(l,2),u=d[0],p=d[1],b=Object(n.useState)(""),h=Object(Y.a)(b,2),j=h[0],g=h[1],y=Object(m.d)((function(e){return e.metadata&&e.metadata.gebieden?e.metadata.gebieden:[]})),O=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:void 0}));Object(m.d)((function(e){return!!(e.authentication&&e.authentication.user_data&&e.authentication.user_data.user)&&e.authentication.user_data.user})),Object(n.useEffect)((function(e){if(O){fetch("https://api.deelfietsdashboard.nl/dashboard-api/menu/acl",{headers:{authorization:"Bearer "+O}}).then((function(e){if(!e.ok)return console.error("unable to fetch: %o",e),!1;e.json().then((function(e){var t=!0===e.is_admin,a=!0===e.is_contact_person_municipality;(t||a)&&r(!0)}))}))}}),[O]);var v=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=3;break}return window.notify("Selecteer een startdatum"),e.abrupt("return");case 3:if(u){e.next=6;break}return window.notify("Selecteer een einddatum"),e.abrupt("return");case 6:if(j){e.next=9;break}return window.notify("Selecteer de gemeente"),e.abrupt("return");case 9:return e.next=11,Bt(O,{startDate:f()(c).format("YYYY-MM-DD"),endDate:f()(u).format("YYYY-MM-DD"),gm_code:j});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zt(O,{startDate:f()(c).format("YYYY-MM-DD"),endDate:f()(u).format("YYYY-MM-DD")});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=f()(u).diff(c,"days")>30;return Object(X.jsxs)("div",{className:"Export",children:[Object(X.jsx)("h1",{className:" text-4xl font-bold ",children:"Exporteer data"}),Object(X.jsxs)("div",{className:"my-5",children:[Object(X.jsxs)(tn,{title:"Download standaardrapportage",children:[Object(X.jsx)(on,{label:"Periode",startDate:f()(c).toDate(),endDate:f()(u).toDate(),onChange:function(e){var t=Object(Y.a)(e,2),a=t[0],n=t[1];s(a),p(n)}}),Object(X.jsx)(cn,{label:"Plaats",onChange:function(e){return t=e.target.value,void g(t);var t},options:y.map((function(e){return{value:e.gm_code,title:e.name}}))}),Object(X.jsx)(nn,{classes:"",color:"blue",onClick:function(){return v()},children:"Download rapportage"})]}),a&&Object(X.jsxs)(tn,{title:"Download ruwe data",children:[Object(X.jsx)(on,{label:"Periode",startDate:f()(c).toDate(),endDate:f()(u).toDate(),onChange:function(e){var t=Object(Y.a)(e,2),a=t[0],n=t[1];s(a),p(n)}}),_&&Object(X.jsx)("div",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1",children:Object(X.jsxs)("div",{children:["Het is momenteel niet mogelijk om een langere periode dan 1 week te downloaden. Neem alsjeblieft contact op met ons via ",Object(X.jsx)("a",{href:"mailto:info@deelfietsdashboard.nl",className:"inline",children:"info@deelfietsdashboard.nl"})," als je een export wilt ontvangen voor een langere periode."]})}),Object(X.jsx)(nn,{classes:"",color:"blue",onClick:function(){return x()},children:"Download ruwe data (.csv)"})]})]})]})};a(510);function ln(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return!!e.ui&&e.ui["MenuSecondary.layers"]})),n=Object(m.d)((function(e){return!!e.filter&&""!==e.filter.gebied})),r=Object(m.d)((function(e){return!!e.layers&&e.layers.zones_visible})),i=Object(m.d)((function(e){return e.layers?e.layers.displaymode:T})),o=Object(m.d)((function(e){return e.layers?e.layers.view_park:M})),c=Object(m.d)((function(e){return e.layers?e.layers.view_rentals:P})),s=Object(m.d)((function(e){return!!e.authentication.user_data}));return Object(X.jsx)(Ha,{title:"Lagen",isVisible:a,closeHandler:function(){t({type:"SET_VISIBILITY",payload:{name:"MenuSecondary.layers",visibility:!1}})},classes:" top-auto z-10 ",children:Object(X.jsxs)("div",{className:"\n        SelectLayerMobile\n        flex justify-between\n      ",children:[i===T?Object(X.jsx)("div",{"data-type":"heat-map",className:"layer".concat(o!==I?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:I})},children:Object(X.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,i===T?Object(X.jsx)("div",{"data-type":"pointers",className:"layer".concat(o!==L?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:L})},children:Object(X.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,i===T?Object(X.jsx)("div",{"data-type":"vehicles",className:"layer".concat(o!==M?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:M})},children:Object(X.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,i===C?Object(X.jsx)("div",{"data-type":"heat-map",className:"layer".concat(c!==F?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:F})},children:Object(X.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,i===C?Object(X.jsx)("div",{"data-type":"pointers",className:"layer".concat(c!==G?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:G})},children:Object(X.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,i===C?Object(X.jsx)("div",{"data-type":"vehicles",className:"layer".concat(c!==P?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:P})},children:Object(X.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,s&&n?Object(X.jsx)("div",{"data-type":"zones",className:"layer".concat(r?"":" layer-inactive"),onClick:function(){t({type:"LAYER_TOGGLE_ZONES_VISIBLE",payload:null})},children:Object(X.jsx)("span",{className:"layer-title",children:"Zones"})}):null]})})}a(511);var dn,un,pn,mn,bn,hn,fn=function(){return Object(m.d)((function(e){return e.ui.showloading}))?Object(X.jsx)("img",{className:"loadingindicator",alt:"spinning progress indicator",src:"/images/components/LoadingIndicator/bike_wheel-512.png"}):null},jn=[{value:"cykl",system_id:"cykl",name:"Cykl"},{value:"donkey",system_id:"donkey",name:"Donkey"},{value:"htm",system_id:"htm",name:"HTM"},{value:"gosharing",system_id:"gosharing",name:"GO Sharing"},{value:"check",system_id:"check",name:"CHECK"},{value:"felyx",system_id:"felyx",name:"Felyx"},{value:"deelfietsnederland",system_id:"deelfietsnederland",name:"Deelfiets"},{value:"keobike",system_id:"keobike",name:"Keobike"},{value:"lime",system_id:"lime",name:"Lime"},{value:"baqme",system_id:"baqme",name:"BAQME"},{value:"cargoroo",system_id:"cargoroo",name:"Cargoroo"},{value:"uwdeelfiets",system_id:"uwdeelfiets",name:"uwdeelfiets"},{value:"hely",system_id:"hely",name:"Hely"},{value:"tier",system_id:"tier",name:"TIER"},{value:"bird",system_id:"bird",name:"Bird"},{value:"bolt",system_id:"bolt",name:"Bolt"},{value:"bondi",system_id:"bondi",name:"Bondi"},{value:"dott",system_id:"dott",name:"Dott"},{value:"moveyou",system_id:"moveyou",name:"MoveYou"}],gn=[{gm_code:"",name:"Alle plaatsen"},{gm_code:"GM0518",name:"'s-Gravenhage"},{gm_code:"GM0796",name:"'s-Hertogenbosch"},{gm_code:"GM0613",name:"Albrandswaard"},{gm_code:"GM0141",name:"Almelo"},{gm_code:"GM0034",name:"Almere"},{gm_code:"GM0484",name:"Alphen aan den Rijn"},{gm_code:"GM0307",name:"Amersfoort"},{gm_code:"GM0362",name:"Amstelveen"},{gm_code:"GM0363",name:"Amsterdam"},{gm_code:"GM0200",name:"Apeldoorn"},{gm_code:"GM0202",name:"Arnhem"},{gm_code:"GM0106",name:"Assen"},{gm_code:"GM0489",name:"Barendrecht"},{gm_code:"GM0203",name:"Barneveld"},{gm_code:"GM0373",name:"Bergen (NH"},{gm_code:"GM0753",name:"Best"},{gm_code:"GM0375",name:"Beverwijk"},{gm_code:"GM0377",name:"Bloemendaal"},{gm_code:"GM0758",name:"Breda"},{gm_code:"GM0312",name:"Bunnik"},{gm_code:"GM0313",name:"Bunschoten"},{gm_code:"GM0502",name:"Capelle aan den IJssel"},{gm_code:"GM0310",name:"De Bilt"},{gm_code:"GM0736",name:"De Ronde Venen"},{gm_code:"GM0503",name:"Delft"},{gm_code:"GM0150",name:"Deventer"},{gm_code:"GM0384",name:"Diemen"},{gm_code:"GM0505",name:"Dordrecht"},{gm_code:"GM0228",name:"Ede"},{gm_code:"GM0772",name:"Eindhoven"},{gm_code:"GM0153",name:"Enschede"},{gm_code:"GM0232",name:"Epe"},{gm_code:"GM1771",name:"Geldrop-Mierlo"},{gm_code:"GM1942",name:"Gooise Meren"},{gm_code:"GM0014",name:"Groningen"},{gm_code:"GM0392",name:"Haarlem"},{gm_code:"GM0394",name:"Haarlemmermeer"},{gm_code:"GM0243",name:"Harderwijk"},{gm_code:"GM0246",name:"Heerde"},{gm_code:"GM0794",name:"Helmond"},{gm_code:"GM0164",name:"Hengelo"},{gm_code:"GM0798",name:"Hilvarenbeek"},{gm_code:"GM0402",name:"Hilversum"},{gm_code:"GM0353",name:"IJsselstein"},{gm_code:"GM0166",name:"Kampen"},{gm_code:"GM0542",name:"Krimpen aan den IJssel"},{gm_code:"GM1621",name:"Lansingerland"},{gm_code:"GM0080",name:"Leeuwarden"},{gm_code:"GM1916",name:"Leidschendam-Voorburg"},{gm_code:"GM0327",name:"Leusden"},{gm_code:"GM0809",name:"Loon op Zand"},{gm_code:"GM0556",name:"Maassluis"},{gm_code:"GM1842",name:"Midden-Delfland"},{gm_code:"GM1952",name:"Midden-Groningen"},{gm_code:"GM0356",name:"Nieuwegein"},{gm_code:"GM0267",name:"Nijkerk"},{gm_code:"GM0268",name:"Nijmegen"},{gm_code:"GM1930",name:"Nissewaard"},{gm_code:"GM0820",name:"Nuenen, Gerwen en Nederwetten"},{gm_code:"GM0302",name:"Nunspeet"},{gm_code:"GM0826",name:"Oosterhout"},{gm_code:"GM0431",name:"Oostzaan"},{gm_code:"GM1926",name:"Pijnacker-Nootdorp"},{gm_code:"GM0273",name:"Putten"},{gm_code:"GM0597",name:"Ridderkerk"},{gm_code:"GM0603",name:"Rijswijk"},{gm_code:"GM1674",name:"Roosendaal"},{gm_code:"GM0599",name:"Rotterdam"},{gm_code:"GM0606",name:"Schiedam"},{gm_code:"GM0848",name:"Son en Breugel"},{gm_code:"GM0855",name:"Tilburg"},{gm_code:"GM1730",name:"Tynaarlo"},{gm_code:"GM0344",name:"Utrecht"},{gm_code:"GM1581",name:"Utrechtse Heuvelrug"},{gm_code:"GM0861",name:"Veldhoven"},{gm_code:"GM0622",name:"Vlaardingen"},{gm_code:"GM0865",name:"Vught"},{gm_code:"GM0866",name:"Waalre"},{gm_code:"GM0867",name:"Waalwijk"},{gm_code:"GM0289",name:"Wageningen"},{gm_code:"GM0629",name:"Wassenaar"},{gm_code:"GM1960",name:"West Betuwe"},{gm_code:"GM1783",name:"Westland"},{gm_code:"GM0637",name:"Zoetermeer"},{gm_code:"GM0642",name:"Zwijndrecht"},{gm_code:"GM0193",name:"Zwolle"}],yn=[{id:"bicycle",name:"Fiets"},{id:"cargo_bicycle",name:"Bakfiets"},{id:"moped",name:"Scooter"},{id:"car",name:"Auto"},{id:"unknown",name:"Onbekend"}],On=function(e){return!!e.authentication.user_data},vn=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(t){var a,n,r,i,o,c,s;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==t){e.next=4;break}return console.log("no redux state available yet - skipping zones update"),e.abrupt("return",!1);case 4:if(!1!==(a=t.getState()).metadata.metadata_loaded){e.next=8;break}return console.log("no metadata available yet - skipping zones update"),e.abrupt("return",!1);case 8:if(n="",a){e.next=16;break}return t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0}),e.abrupt("return");case 16:if(On(a)){e.next=33;break}return t.dispatch({type:"SET_ZONES_LOADED",payload:!1}),r=a.filter.gebied,i="https://api.deelfietsdashboard.nl/dashboard-api/public/filters?gm_code=".concat(r),e.next=22,fetch(i);case 22:return o=e.sent,e.next=25,o.json();case 25:if(c=e.sent,""!==a.filter.gebied){e.next=31;break}return t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0}),e.abrupt("return");case 31:return c&&c.filter_values&&c.filter_values.zones?(t.dispatch({type:"SET_ZONES",payload:c.filter_values.zones}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0})):(t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0})),e.abrupt("return");case 33:if(""!==a.filter.gebied){e.next=40;break}return t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0}),e.abrupt("return");case 40:n="https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code="+a.filter.gebied,t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_LOADED",payload:!1});case 43:s={headers:{authorization:"Bearer "+a.authentication.user_data.token}},t.dispatch({type:"SHOW_LOADING",payload:!0}),fetch(n,s).then((function(e){if(!e.ok)return console.error("unable to fetch: %o",e),!1;e.json().then((function(e){t.dispatch({type:"SET_ZONES",payload:e.zones}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0})}))})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){t.dispatch({type:"SHOW_LOADING",payload:!1})})),e.next=52;break;case 48:e.prev=48,e.t0=e.catch(0),console.error("Unable to update zones",e.t0),t.dispatch({type:"SHOW_LOADING",payload:!1});case 52:case"end":return e.stop()}}),e,null,[[0,48]])})));return function(t){return e.apply(this,arguments)}}(),xn=null,_n=function(e,t){un=t;var n={type:"FeatureCollection",features:[]},r={},i={};e.metadata.aanbieders.forEach((function(e){r[e.system_id||e.value]=e.color,i[e.system_id||e.value]=0}));var o=a(65),c=f()(e.filter.datum);t.forEach((function(t){var a,r=On(e)?t.start_time:t.in_public_space_since,s=c.diff(f()(r),"minutes"),l=(a=s)<=60?0:a<=1440?1:a<=5760?2:3,d={type:"Feature",properties:{id:o(t.location.latitude+t.location.longitude),vehicle_id:t.bike_id,system_id:t.system_id||t.value,form_factor:t.form_factor||null,in_public_space_since:r,duration_bin:l},geometry:{type:"Point",coordinates:[t.location.longitude,t.location.latitude,0]}};i[t.system_id||t.value]+=1;var u=e.filter.aanbiedersexclude.split(",")||[],p=e.filter.parkeerduurexclude.split(",")||[],m=!On(e)||!p.includes(l.toString());(m=m&&!1===u.includes(t.system_id||t.value))&&n.features.push(d)})),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("geoJson in pollParkingData",n),dn.dispatch({type:"SET_VEHICLES",payload:n}),dn.dispatch({type:"SET_VEHICLES_OPERATORSTATS",payload:i})},wn=function(e,t){var a=e&&On(e)&&e.filter&&e.authentication.user_data.token,n="https://api.deelfietsdashboard.nl/dashboard-api/public/vehicles_in_public_space",r={},i=yt(T,e.filter,e.metadata);a?null!==e.filter&&null!==e.authenticationdata&&(n="https://api.deelfietsdashboard.nl/dashboard-api/park_events",i.length>0&&(n+="?"+i.join("&")),r={headers:{authorization:"Bearer "+e.authentication.user_data.token}}):i.length>0&&(n+="?"+i.join("&")),dn.dispatch({type:"SHOW_LOADING",payload:!0}),xn&&xn.abort(),(xn=Ot(n,r)).ready.then((function(a){if(xn=null,!a.ok)return console.error("unable to fetch: %o",a),!1;a.json().then((function(a){a=On(e)?a.park_events:a.vehicles_in_public_space,t(e,a)})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){dn.dispatch({type:"SHOW_LOADING",payload:!1})}))})).catch((function(e){dn.dispatch({type:"SHOW_LOADING",payload:!1}),console.error("fetch error - unable to fetch JSON from %s",n)}))},kn=function(){var e=Object(ne.a)(Object(ae.a)().mark((function e(){var t,a;return Object(ae.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==dn){e.next=4;break}return Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.error("no redux state available yet - skipping zones update"),e.abrupt("return",!1);case 4:if(t=dn.getState()){e.next=7;break}return e.abrupt("return");case 7:t&&On(t)&&t.filter&&t.authentication.user_data.token,a=_t(t.filter,pn),pn=t.filter,a||!un?wn(t,_n):_n(t,un),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Unable to update zones",e.t0);case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}}),e,null,[[0,13,16,18]])})));return function(){return e.apply(this,arguments)}}(),En=a(65),Sn=void 0,Nn=null,zn=function(e,t,a){mn=a;var n={type:"FeatureCollection",features:[]},r={};e.metadata.aanbieders.forEach((function(e){r[e.system_id||e.value]=0}));var i=e.filter.aanbiedersexclude.split(",")||[];mn["trip_".concat(t)].forEach((function(t){var a,o=(a=t.distance_in_meters)<=1e3?0:a<=2e3?1:a<=5e3?2:3,c={type:"Feature",properties:{id:En(t.location.latitude+t.location.longitude),system_id:t.system_id,form_factor:t.form_factor||null,arrival_time:t.arrival_time,departure_time:t.departure_time,distance_bin:o,distance_in_meters:t.distance_in_meters},geometry:{type:"Point",coordinates:[t.location.longitude,t.location.latitude,0]}};r[t.system_id||t.value]+=1;var s=!(e.filter.afstandexclude.split(",")||[]).includes(o.toString());(s=s&&!1===i.includes(t.system_id||t.value))&&n.features.push(c)})),Sn.dispatch({type:"SET_RENTALS_".concat(t.toUpperCase()),payload:n}),Sn.dispatch({type:"SET_RENTALS_".concat(t.toUpperCase(),"_OPERATORSTATS"),payload:r})},Tn=function(){try{if(void 0===Sn)return!1;var e=Sn.getState();if(e.layers.displaymode!==C)return!0;if(!1===e.metadata.zones_loaded)return!1;if(On(e)&&e&&e.filter&&e.authentication.user_data.token){var t=_t(e.filter,bn);bn=e.filter;var a="bestemming"===e.filter.herkomstbestemming?"destinations":"origins";t||!mn?function(e,t,a){if(On(e)&&e&&e.filter&&e.authentication.user_data.token,"destinations"===t||"origins"===t){var n="https://api.deelfietsdashboard.nl/dashboard-api/v2/trips/".concat(t),r={};if(null!==e.filter&&null!==e.authenticationdata){n="https://api.deelfietsdashboard.nl/dashboard-api/v2/trips/".concat(t);var i=yt(C,e.filter,e.metadata);i.length>0&&(n+="?"+i.join("&")),r={headers:{authorization:"Bearer "+e.authentication.user_data.token}}}Sn.dispatch({type:"SHOW_LOADING",payload:!0}),Nn&&Nn.abort(),(Nn=Ot(n,r)).ready.then((function(n){if(Nn=null,Sn.dispatch({type:"SHOW_LOADING",payload:!1}),!n.ok)return console.error("unable to fetch: %o",n),!1;n.json().then((function(n){a(e,t,On?n:[])})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){Sn.dispatch({type:"SHOW_LOADING",payload:!1})}))})).catch((function(e){Sn.dispatch({type:"SHOW_LOADING",payload:!1}),console.error("fetch error - unable to fetch JSON from %s",n)}))}else console.error("No valid type given to fetchData")}(e,a,zn):zn(e,a,mn)}else Sn.dispatch({type:"CLEAR_RENTALS_ORIGINS"}),Sn.dispatch({type:"CLEAR_RENTALS_DESTINATIOINS"})}catch(n){console.error("Unable to update zones",n)}},Cn=function(e){(Sn=e)?Tn():console.log("No store yet.")},Dn=(a(512),function(e){var t=e.doShowNotification,a=e.setDoShowNotification,n=e.isFilterBarOpen;return Object(X.jsx)(K.AnimatePresence,{children:t&&Object(X.jsx)(K.motion.div,{initial:{opacity:.5},animate:{opacity:1},exit:{opacity:0},className:"fixed top-5 z-20 left-5 right-5",children:Object(X.jsxs)(K.motion.div,{drag:!0,dragConstraints:{top:-10,left:-50,right:50,bottom:10},className:"relative bg-white/60 backdrop-blur-xl w-max-w-md rounded-lg mx-auto p-6 shadow hover:opacity-75",style:{width:window.innerWidth>640?"322px":"100%",left:n&&window.innerWidth>640?"162px":0,cursor:"pointer"},onClick:function(){return a(!1)},children:[Object(X.jsx)("h1",{className:"text-xl text-slate-700 font-medium text-center",children:t}),Object(X.jsx)("div",{className:"flex justify-between items-center",children:Object(X.jsxs)("a",{href:"#",className:"hidden text-slate-500 hover:text-slate-700 text-sm inline-flex space-x-1 items-center",children:[Object(X.jsx)("span",{children:"Go to Dashboard"}),Object(X.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(X.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]})},"notification")})});var An=function(){var e=Object(n.useState)(document.location.pathname),t=Object(Y.a)(e,2),r=t[0],i=t[1],o=Object(n.useState)(document.location.search),c=Object(Y.a)(o,2),s=c[0],l=c[1],d=Object(n.useState)(null),u=Object(Y.a)(d,2),p=u[0],b=u[1],h=Object(n.useState)(""),j=Object(Y.a)(h,2),g=j[0],y=j[1],O=Object(m.c)(),v=Object(n.useRef)(null),x=Object(m.d)((function(e){return{filter:e.filter,layers:e.layers,ui:e.ui}})),_=x&&x.ui&&x.ui.FILTERBAR,w=Object(J.g)();Object(n.useEffect)((function(){i(w?w.pathname:null),l(w?w.search:null)}),[w]),Object(n.useEffect)((function(){window.notify=function(e){!function(e,t){t(e),clearTimeout(hn),hn=setTimeout((function(e){t(!1)}),4e3)}(e,y)}}),[]),Object(n.useEffect)((function(){if(null!==s){var e=new URLSearchParams(s).get("view");if(e)try{var t=JSON.parse(decodeURIComponent(e));return O({type:"IMPORT_STATE",payload:t}),void setTimeout((function(){return O({type:"LAYER_SET_ZONES_EXTENT",payload:t.layers.mapextent})}),2500)}catch(n){console.warn("unable to decode application state"),alert("Ongeldige link ingegeven")}}var a;a=r.includes("/map/park")||"/"===r?T:r.includes("/map/rentals")?C:r.includes("/map/zones")?A:r.includes("/admin/zones")?D:R,O({type:"LAYER_SET_DISPLAYMODE",payload:a})}),[r,s]);var k=Object(m.d)((function(e){return!!e.authentication.user_data})),E=Object(m.d)((function(e){return!!e.filter&&e.filter.datum})),S=Object(m.d)((function(e){return!!e.ui&&e.ui["MenuSecondary.layers"]})),N=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR})),z=Object(m.d)((function(e){return e.filter})),I=Object(m.d)((function(e){return e.layers})),L=Object(m.d)((function(e){return e.layers?e.layers.displaymode:T})),M=Object(m.d)((function(e){return e.metadata}));Object(n.useEffect)((function(){var e=new URLSearchParams(s),t=f()(E).diff(f()(),"minutes")<-10;!e.get("view")&&t&&setTimeout((function(e){var t;t=f()().toDate(),O({type:"SET_FILTER_DATUM",payload:t.toISOString()})}),500)}),[]),Object(n.useEffect)((function(){!function(e){try{if(void 0===e)return!1;var t=e.getState();if(function(e){return!!e.authentication.user_data}(t)){var a={headers:{authorization:"Bearer "+t.authentication.user_data.token}};return e.dispatch({type:"SHOW_LOADING",payload:!0}),fetch("https://api.deelfietsdashboard.nl/dashboard-api/menu/acl",a).then((function(t){if(!t.ok)return console.error("unable to fetch: %o",t),!1;t.json().then((function(t){e.dispatch({type:"SET_GEBIEDEN",payload:t.municipalities}),1===t.municipalities.length&&e.dispatch({type:"SET_FILTER_GEBIED",payload:t.municipalities[0].gm_code}),e.dispatch({type:"SET_AANBIEDERS",payload:t.operators});var a=yn;e.dispatch({type:"SET_VEHICLE_TYPES",payload:a}),e.dispatch({type:"SET_METADATA_LOADED",payload:!0})}))})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){e.dispatch({type:"SHOW_LOADING",payload:!1})})),!0}e.dispatch({type:"SET_GEBIEDEN",payload:gn}),e.dispatch({type:"SET_AANBIEDERS",payload:jn});var n=yn;e.dispatch({type:"SET_VEHICLE_TYPES",payload:n}),e.dispatch({type:"SET_METADATA_LOADED",payload:!0})}catch(r){return e.dispatch({type:"SHOW_LOADING",payload:!1}),!1}}(Fn)}),[k]),Object(n.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("useEffect zones",z.gebied),M.metadata_loaded&&vn(Fn)}),[k,M.metadata_loaded,z.gebied]),Object(n.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("useEffect zones geodata"),M.zones_loaded&&function(e){try{if(void 0===e)return!1;var t=e.getState();if(!1===t.metadata.zones_loaded)return!1;var n="";if(t)if(""===t.filter.gebied)n=t.metadata.zones.filter((function(e){return"municipality"===e.zone_type})).map((function(e){return e.zone_id})).join(",");else if(0===t.filter.zones.length){var r=t.metadata.gebieden.filter((function(e){return e.gm_code===t.filter.gebied})).map((function(e){return e.gm_code}));n=t.metadata.zones.filter((function(e){return"municipality"===e.zone_type&&r.includes(e.municipality)})).map((function(e){return e.zone_id})).join(",")}else n=t.filter.zones;else n="";if(""===n)return void e.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}});e.dispatch({type:"SHOW_LOADING",payload:!0});var i=On(t)?"https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids="+n+"&include_geojson=true":"https://api.deelfietsdashboard.nl/dashboard-api/public/zones?zone_ids="+n+"&include_geojson=true",o=On(t)?{headers:{authorization:"Bearer "+t.authentication.user_data.token}}:{};fetch(i,o).then((function(n){if(!n.ok)return console.error("unable to fetch: %o",n),!1;n.json().then((function(n){var r=a(108),i={type:"FeatureCollection",features:[]},o=void 0;n.zones.forEach((function(e,t){switch(e.geojson.type){case"MultiPolygon":case"Polygon":var a={type:"Feature",geometry:e.geojson};i.features.push(a);var n=r.extent(a);void 0===o?o=n:(o[0]=Math.min(n[0],o[0]),o[1]=Math.min(n[1],o[1]),o[2]=Math.max(n[2],o[2]),o[3]=Math.max(n[3],o[3]));break;default:console.warn("metadataZonesgeodata - don't know how to handle %s",e.type,e)}}));var c={data:i,filter:t.filter.zones,bounds:o};e.dispatch({type:"SET_ZONES_GEODATA",payload:c}),e.dispatch({type:"LAYER_SET_ZONES_EXTENT",payload:o})})).catch((function(e){console.error("unable to decode JSON",e)})).finally((function(){e.dispatch({type:"SHOW_LOADING",payload:!1})}))})).catch((function(e){console.error("unable to fetch zone geodata")}))}catch(c){console.error("Unable to update zones",c)}}(Fn)}),[k,M.zones_loaded,z.gebied,z.zones]),Object(n.useEffect)((function(){"displaymode-park"===L&&(k&&!1===M.zones_loaded||(p&&clearTimeout(p),b(setTimeout((function(e){(dn=Fn)?kn():console.log("No store yet.")}),250))))}),[k,M.zones_loaded,z]),Object(n.useEffect)((function(){"displaymode-rentals"===L&&(k&&!1===M.zones_loaded||(p&&clearTimeout(p),b(setTimeout((function(e){Cn(Fn)}),250))))}),[k,M.zones_loaded,z]);var F=function(){return Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(te,{}),Object(X.jsxs)("div",{className:"MobileMenus",children:[Object(X.jsx)("div",{className:"hidden sm:block relative h-full z-10",children:Object(X.jsx)(Wa,{isVisible:N,displayMode:L})}),Object(X.jsx)("div",{className:"block sm:hidden relative z-10",children:Object(X.jsx)(Ba,{isVisible:N,displayMode:L})}),Object(X.jsx)(ln,{})]})]})};return Object(X.jsxs)("div",{className:"app ".concat(N||S?"overflow-y-hidden":""),children:[Object(X.jsx)(Dn,{doShowNotification:g,setDoShowNotification:y,isFilterBarOpen:_}),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&Object(X.jsx)("div",{className:"DEBUG fixed bottom-10 right-16 z-100 bg-white opacity-50",style:{zIndex:9999},children:I.displaymode}),Object(X.jsx)(fn,{}),Object(X.jsxs)("div",{className:"gui-layer",children:[Object(X.jsxs)(J.d,{children:[k?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)(J.b,{exact:!0,path:"/",children:F()}),Object(X.jsx)(J.b,{exact:!0,path:"/map/park",children:F()}),Object(X.jsx)(J.b,{exact:!0,path:"/map/rentals",children:F()}),Object(X.jsx)(J.b,{path:"/map/zones",children:F()}),Object(X.jsx)(J.b,{path:"/admin/zones",children:F()}),Object(X.jsxs)(J.b,{exact:!0,path:"/stats/overview",children:[Object(X.jsx)(zt,{children:Object(X.jsx)(ea,{})}),F()]}),Object(X.jsx)(J.b,{exact:!0,path:"/monitoring",children:Object(X.jsx)(zt,{children:Object(X.jsx)(la,{})})}),Object(X.jsx)(J.b,{exact:!0,path:"/over",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(Va,{})})}),Object(X.jsx)(J.b,{exact:!0,path:"/rondleiding",children:Object(X.jsx)(zt,{forceFullWidth:!0,children:Object(X.jsx)(qa,{})})}),Object(X.jsx)(J.b,{exact:!0,path:"/misc",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(en,{})})}),Object(X.jsx)(J.b,{exact:!0,path:"/profile",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(en,{children:Object(X.jsx)(rn,{})})})}),Object(X.jsx)(J.b,{exact:!0,path:"/export",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(en,{children:Object(X.jsx)(sn,{})})})}),Object(X.jsx)(J.b,{exact:!0,path:"/faq",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(en,{children:Object(X.jsx)(an,{})})})})]}):null,Object(X.jsx)(J.b,{exact:!0,path:"/over",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(Va,{})})}),Object(X.jsx)(J.b,{exact:!0,path:"/rondleiding",children:Object(X.jsx)(zt,{forceFullWidth:!0,children:Object(X.jsx)(qa,{})})}),Object(X.jsx)(J.b,{exact:!0,path:"/login",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(na,{})})}),Object(X.jsx)(J.b,{exact:!0,path:"/reset-password/:changePasswordCode",children:Object(X.jsx)(Qa,{children:Object(X.jsx)(ra,{})})}),Object(X.jsx)(J.b,{children:F()})]}),Object(X.jsx)("div",{ref:v,className:"map-layer top-0"},"mapContainer"),Object(X.jsx)(Nt,{mapContainer:v}),Object(X.jsx)($,{pathName:r})]})]})},Rn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,In=a(65),Ln=localStorage.getItem("CROWDD_reduxState"),Mn=Ln?JSON.parse(Ln):{},Fn=Object(b.d)(V,Mn,Rn(Object(b.a)(j.a)));Fn.subscribe((function(){var e=Fn.getState(),t=localStorage.getItem("CROWDD_filterhash")||!1,a=In(JSON.stringify(e.filter));a!==t&&(localStorage.setItem("CROWDD_filterhash",a),Fn.dispatch({type:"CLEAR_VEHICLES",payload:null}),Fn.dispatch({type:"CLEAR_RENTALS_ORIGINS",payload:null}),Fn.dispatch({type:"CLEAR_RENTALS_DESTINATIONS",payload:null}));var n={created:e.created?e.created:f()().unix(),last_update:f()().unix(),authentication:e.authentication,filter:e.filter,layers:e.layers,ui:e.ui};localStorage.setItem("CROWDD_reduxState",JSON.stringify(n))}));var Gn=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(X.jsx)(m.a,{store:Fn,children:Object(X.jsx)(p.a,{children:Object(X.jsx)(An,{content:this.props.content})})})}}]),a}(n.Component);var Pn=Gn=function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];var i=m.b.apply(void 0,n)(t);return function(t){return Object(X.jsx)(i,Object(c.a)(Object(c.a)({},t),{},{store:e}))}}(Fn,Gn,(function(e){return{}}),(function(e){return{}})),Un=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,535)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};o.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(Pn,{})}),document.getElementById("root")),Un()}},[[513,1,2]]]);
//# sourceMappingURL=main.6b7fc3e5.chunk.js.map