{"version":3,"sources":["reducers/metadata.js","reducers/vehicles.js","poll-api/pollTools.js","poll-api/pollParkingData.js","reducers/filter.js","reducers/authentication.js","reducers/zones_geodata.js","reducers/index.js","reducers/last_update.js","components/IconButtons.jsx","components/Menu.jsx","actions/authentication.js","actions/actionTypes.js","components/Map/layers/index.js","components/Map/layers/vehicles-heatmap.js","components/Map/layers/vehicles-point.js","components/Map/layers/vehicles-clusters.js","components/Map/layers/vehicles-clusters-count.js","components/Map/layers/vehicles-clusters-point.js","components/Map/layers/vehicles-heatmap-city-level.js","components/Map/layers/zones-geodata.js","components/Map/sources.js","components/Map/Map.jsx","pages/Map.jsx","pages/Login.jsx","components/Filterbar/ModalBox.jsx","components/Filterbar/FilteritemGebieden.jsx","components/Filterbar/FilteritemDatum.jsx","components/Filterbar/FilteritemInterval.jsx","components/Filterbar/FilteritemAanbieders.jsx","components/Filterbar/FilteritemZones.jsx","components/Filterbar/Filterbar.jsx","poll-api/pollMetadataAccessControlList.js","poll-api/pollMetadataZonesgeodata.js","poll-api/pollMetadataZones.js","poll-api/pollTripData.js","App.js","AppProvider.js","reportWebVitals.js","index.js"],"names":["md5","require","initialState","aanbieders","gebieden","zones","vehicle_types","data","createFilterparameters","isParkingData","filter","metadata","filterparams","push","gebied","candidates","municipality","find","gm_code","undefined","zone","name","length","zone_id","console","error","ts","Date","toISOString","replace","datum","ts1","ts2","intervalstart","intervalend","isLoggedIn","state","authentication","user_data","store_parkingdata","timerid_parkingdata","updateParkingData","delay","getState","token","url","options","authenticationdata","join","headers","fetch","then","response","ok","json","vehicles","park_events","geoJson","current_time","moment","forEach","v","duration","in_public_space_since","start_time","minutes","diff","color","feature","location","latitude","longitude","system_id","features","dispatch","type","payload","catch","ex","setTimeout","forceUpdateParkingData","clearTimeout","visible","combineReducers","last_update","action","current","log","vehicle","uuid","filtered","x","split","includes","item","toString","user","zones_geodata","currentdata","IconButtonClose","props","className","height","id","version","viewBox","width","d","IconButtonFilter","xmlns","Menu","TO_interval","useDispatch","dateToShow","useSelector","showfilter","to","onClick","e","preventDefault","clearInterval","setInterval","subtract","$","trigger","hidden","layers","paint","layout","sources","Map","mapContainer","useState","lng","lat","zoom","counter","setCounter","zonesGeodataHash","setZonesGeodataHash","map","useRef","useEffect","maplibregl","container","style","accessToken","process","center","addControl","NavigationControl","on","isStyleLoaded","getSource","activeSource","source","Object","assign","addSource","doesSourceExistGeodata","hash","setData","addDataSources","getStyle","indexOf","removeLayer","getLayer","addLayer","addLayers","setLayers","setActiveSource","Login","emailaddress","setEmailaddress","password","setPassword","recoverPassword","setRecoverPassword","loggedIn","setLoggedIn","login","loginId","applicationId","method","body","JSON","stringify","res","message","recover","htmlFor","autoCapitalize","placeholder","required","onChange","target","value","ModalBox","closeFunction","children","stopPropagation","FilteritemGebieden","filterGebied","showSelect","setShowSelect","setFilterGebied","a","renderSelectGebieden","FilterItemDatum","filterDatum","showSelectDatum","setShowSelectDatum","setFilterDatum","valid","toLocaleString","ISOString","date","ten","i","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","toDatetimeLocal","renderSelectDatum","FilterItemInterval","filterIntervalStart","filterIntervalEnd","useIntervalStart","setUseIntervalStart","showSelectInterval","setShowSelectInterval","setFilterInterval","intervalStart","intervalEnd","isStart","renderSelectInterval","FilteritemAanbieders","filterAanbieders","aanbiedertxt","aantal","aanbieder","renderSelectAanbieders","FilteritemZones","filterZones","zonetxt","renderZoneZones","Filterbar","showinterval","FilteritemInterval","FilteritemDatum","cPublicAanbieders","cPublicGebieden","cPublicVoertuigTypes","store_accesscontrollist","timerid_gebiedenaanbieders","updateAccessControlList","municipalities","operators","types","forceUpdateAccessControlList","store_zonesgeodata","timerid_zonesgeodata","updateZonesGeodata","url_zonesgeodata","geojson","zonedata","forceUpdateZonesgeodata","store_zones","timerid_zones","updateZones","url_zones","forceUpdateZones","store_tripdata","timerid_tripdata","updateTripData","trips","t","start_location","feature2","end_location","forceUpdateTripData","App","store","_store","initUpdateZonesgeodata","initUpdateAccessControlList","initUpdateParkingData","initUpdateTripData","from","exact","path","showParkingData","ref","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedState","localStorage","getItem","parse","createStore","appReducer","applyMiddleware","thunk","subscribe","storeState","storeStateToSaveInLocalStorage","unix","setItem","AppProvider","content","this","Component","WrappedComponent","args","ConnectedWrappedComponent","connect","connectWithStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3550283f.chunk.js","sourcesContent":["const md5 = require('md5');\n\nconst initialState = {\n  aanbieders: [],\n  gebieden: [],\n  zones: [],\n  vehicle_types: [],\n}\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_AANBIEDERS': {\n      let current = state.aanbieders ? state.aanbieders: [];\n      \n      if(md5(current)===md5(action.payload)) { return state; }\n      \n      return {\n        ...state,\n        aanbieders: action.payload\n      }\n    }\n    case 'SET_GEBIEDEN': {\n      let current = state.gebieden ? state.gebieden: [];\n    \n      if(md5(current)===md5(action.payload)) { return state; }\n    \n      return {\n        ...state,\n        gebieden: action.payload,\n      }\n    }\n    \n    case 'SET_ZONES': {\n      let current = state.zones ? state.zones: [];\n    \n      if(md5(current)===md5(action.payload)) { return state; }\n\n      return {\n          ...state,\n          zones: action.payload,\n      };\n    }\n\n    case 'SET_VEHICLE_TYPES': {\n      let current = state.vehicle_types ? state.vehicle_types: [];\n    \n      if(md5(current)===md5(action.payload)) { return state; }\n\n      return {\n          ...state,\n          vehicle_types: action.payload,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  data: null\n}\n\nexport default function vehicles(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_VEHICLES': {\n      console.log(\"Set Vehicles %o\", action.payload);\n      const vehicles = action.payload\n      return {\n        data: vehicles\n      }\n    }\n    case 'SET_VEHICLE': {\n      const vehicle = action.payload\n      // Validate input\n      if(! vehicle.uuid) {\n        return {}\n      }\n      // Remove changed vehicle\n      const filtered = state.data.filter(function(x) {\n        return x.uuid !== vehicle.uuid;\n      });\n      // Add vehicle to vehicles set\n      filtered.push(vehicle)\n      // Set store\n      return { data: filtered }\n    }\n    case 'CLEAR_VEHICLES': {\n      return {\n        data: []\n      }\n    }\n    default:\n      return state;\n  }\n\n}\n","export const createFilterparameters = (isParkingData=true, filter, metadata) => {\n  // add zones\n  let filterparams = [];\n  if(filter.zones!==\"\") {\n    filterparams.push(\"zone_ids=\"+filter.zones);\n  } else if(filter.gebied!==\"\") {\n    // create zone filter\n    let candidates = [];\n    let municipality = metadata.gebieden.find(gebied=>gebied.gm_code===filter.gebied);\n    if(undefined!==municipality) {\n      candidates = metadata.zones.filter(zone=>(zone.municipality===municipality.gm_code&&zone.name===municipality.name));\n    } else {\n    }\n    if(candidates.length===1) {\n      filterparams.push(\"zone_ids=\"+candidates[0].zone_id);\n    } else {\n      console.error(\"zero or multiple multiple zones found for a single municipality (%s)\", filter.gebied);\n    }\n    \n  }\n\n  if(filter.aanbieders!==\"\") {\n    filterparams.push(\"operators=\" + filter.aanbieders);\n  }\n\n  if(isParkingData) {\n    let ts = new Date().toISOString().replace(/.\\d+Z$/g, \"Z\"); // use current time without decimals\n    if(filter.datum!==\"\") {\n      ts = new Date(filter.datum).toISOString().replace(/.\\d+Z$/g, \"Z\");\n    }\n    filterparams.push(\"timestamp=\"+ts)\n  } else {\n    let ts1 = new Date().toISOString().replace(/.\\d+Z$/g, \"Z\"); // use current time without decimals\n    let ts2 = ts1;\n    if(filter.intervalstart!==\"\"&&filter.intervalend!==\"\") {\n      ts1 = new Date(filter.intervalstart).toISOString().replace(/.\\d+Z$/g, \"Z\");\n      ts2 = new Date(filter.intervalend).toISOString().replace(/.\\d+Z$/g, \"Z\");\n    }\n    filterparams.push(\"start_time=\" + ts1 + \"&end_time=\" + ts2)\n  }\n  \n  return filterparams;\n}\n\nexport const isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nexport const convertDurationToColor = (duration) => {\n  if (duration <= 60) {\n    return \"#38ff71\";\n  }\n  if (duration <= 24 * 60) {\n    return \"#008c28\";\n  }\n  if (duration <= 24 * 60 * 4) {\n    return \"#fff700\";\n  }\n  return \"#cc0000\";\n}\n\n","import moment from 'moment';\nimport { createFilterparameters, isLoggedIn, convertDurationToColor } from './pollTools.js';\n\nvar store_parkingdata = undefined;\n\nvar timerid_parkingdata = undefined;\n\nconst updateParkingData = ()  => {\n  let delay = 5 * 1000;\n  try {\n    if(undefined===store_parkingdata) {\n      // console.log(\"no redux state available yet - skipping zones update\");\n      return false;\n    }\n    \n    const state = store_parkingdata.getState();\n    const canfetchdata = isLoggedIn(state)&&state&&state.filter&&state.authentication.user_data.token;\n    if(!canfetchdata) {\n      store_parkingdata.dispatch({ type: 'SET_PARKINGDATA', payload: []});\n    } else {\n      let url = \"https://api.deelfietsdashboard.nl/dashboard-api/public/vehicles_in_public_space\";\n      let options = {};\n      if(null!==state.filter&&null!==state.authenticationdata) {\n        // url = \"https://api.deelfietsdashboard.nl/dashboard-api/park_events?timestamp=2021-10-22T15:46:20Z\"+aanbiedersfilter; // + \"&zone_ids=34234\";\n        url = \"https://api.deelfietsdashboard.nl/dashboard-api/park_events\";\n        let filterparams = createFilterparameters(true, state.filter, state.metadata);\n        if(filterparams.length>0) {\n          url += \"?\" + filterparams.join(\"&\");\n        }\n        options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      }\n      fetch(url, options).then(function(response) {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n        \n      response.json().then(function(vehicles) {\n          if(isLoggedIn) {\n            vehicles = vehicles.park_events\n          }\n          let geoJson = {\n             \"type\":\"FeatureCollection\",\n             \"features\":[]\n          }\n      \n          const md5 = require('md5');\n          var current_time = moment();\n          vehicles.forEach(v => {\n            let in_public_space_since = isLoggedIn ? v.start_time : v.in_public_space_since;\n      \n            var minutes = current_time.diff(moment(in_public_space_since), 'minutes');\n            const color = convertDurationToColor(minutes);\n      \n            let feature = {\n               \"type\":\"Feature\",\n               \"properties\":{\n                  \"id\":md5(v.location.latitude+v.location.longitude),\n                  \"system_id\": v.system_id,\n                  \"in_public_space_since\": in_public_space_since,\n                  \"color\": color\n               },\n               \"geometry\":{\n                  \"type\":\"Point\",\n                  \"coordinates\":[\n                     v.location.longitude,\n                     v.location.latitude,\n                     0.0\n                  ]\n               }\n            }\n      \n            geoJson.features.push(feature);\n            // new maplibregl.Marker({color: \"#FF0000\"})\n            //   .setLngLat([x.location.longitude, x.location.latitude])\n            //   .addTo(map.current);\n            //\n            // return;\n          })\n      \n          store_parkingdata.dispatch({\n            type: 'SET_VEHICLES',\n            payload: geoJson\n          })\n      \n          // setJson(json);\n          // setTimestamp(new Date());\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n          // setJson(false);\n        });\n      }).catch(ex=>{\n        console.error(\"fetch error - unable to fetch JSON from %s\", url);\n        // setJson(false);\n      });\n    }\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = 5 * 1000;\n  } finally {\n    timerid_parkingdata = setTimeout(updateParkingData, delay);\n  }\n}\n\nexport const forceUpdateParkingData = () => {\n  if(undefined!==timerid_parkingdata) { clearTimeout(timerid_parkingdata); }\n  updateParkingData();\n}\n\nexport const initUpdateParkingData = (_store) => {\n  // console.log(\"initUpdateParkingData\")\n  store_parkingdata = _store;\n  forceUpdateParkingData();\n}\n","import { forceUpdateParkingData } from '../poll-api/pollParkingData.js';\n\nconst initialState = {\n  visible: false,\n  gebied: \"\",\n  zones: \"\",\n  datum: (new Date()).toISOString(),\n  intervalstart: (new Date()).toISOString(),\n  intervalend: (new Date()).toISOString(),\n  aanbieders: \"\"\n}\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_FILTER_VISIBLE': {\n      console.log('reducer filter set filter visible %s', action.payload)\n      return {\n          ...state,\n          visible: action.payload\n      };\n    }\n    case 'SET_FILTER_GEBIED': {\n      console.log('reducer filter set gebied to %s', action.payload)\n      return {\n          ...state,\n          gebied: action.payload,\n          zones: \"\"\n      };\n    }\n    case 'SET_FILTER_DATUM': {\n      console.log('reducer filter set datum to %s', action.payload)\n      // forceUpdateParkingData()\n      return {\n          ...state,\n          datum: action.payload\n      };\n    }\n    case 'SET_FILTER_INTERVAL_START': {\n      console.log('reducer filter set interval start to %s', action.payload)\n      return {\n          ...state,\n          intervalstart: action.payload\n      };\n    }\n    case 'SET_FILTER_INTERVAL_END': {\n      console.log('reducer filter set interval end to %s', action.payload)\n      return {\n          ...state,\n          intervalend: action.payload\n      };\n    }\n    case 'ADD_TO_FILTER_ZONES': {\n      console.log('add item %s to zones filter %o', action.payload, state)\n      let zones = [];\n      if(state.zones) {\n        try {\n          zones = state.zones.split(\",\") || []\n        } catch(ex) {\n          zones = [];\n        }\n      }\n      if(!zones.includes(action.payload)) {\n        zones.push(action.payload);\n      }\n\n      return {\n          ...state,\n          zones: zones.join(\",\")\n      };\n    }\n    case 'REMOVE_FROM_FILTER_ZONES': {\n      console.log('remove item %o from zones filter', action.payload)\n      let zones = state.zones.split(\",\") || [];\n      zones = zones.filter((item) => {return item.toString() !== action.payload.toString() });\n\n      return {\n          ...state,\n          zones: zones.join(\",\")\n      };\n    }\n    case 'CLEAR_FILTER_ZONES': {\n      console.log('clear zones filter')\n\n      return {\n          ...state,\n          zones: []\n      };\n    }\n    case 'ADD_TO_FILTER_AANBIEDERS': {\n      console.log('add item %s to aanbieders filter %o', action.payload, state)\n      let aanbieders = [];\n      if(state.aanbieders) {\n        aanbieders = state.aanbieders.split(\",\") || []\n      }\n      if(!aanbieders.includes(action.payload)) {\n        aanbieders.push(action.payload);\n      }\n      // Do new API call for getting parking data\n      forceUpdateParkingData()\n    \n      return {\n          ...state,\n          aanbieders: aanbieders.join(\",\")\n      };\n    }\n    case 'REMOVE_FROM_FILTER_AANBIEDERS': {\n      console.log('remove item %s from aanbieders filter', action.payload)\n      let aanbieders = state.aanbieders.split(\",\") || [];\n      aanbieders = aanbieders.filter((item) => { return item !== action.payload });\n    \n      return {\n          ...state,\n          aanbieders: aanbieders.join(\",\")\n      };\n    }\n    case 'CLEAR_FILTER_AANBIEDERS': {\n      console.log('clear aanbieders filter')\n    \n      return {\n          ...state,\n          aanbieders: []\n      };\n    }\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  user_data: null\n}\n  \nexport default function vehicles(state = initialState, action) {\n    switch(action.type) {\n        case 'SET_USER': {\n            const user = action.payload\n            return {\n                user_data: user\n            }\n        }\n        case 'CLEAR_USER': {\n            return { user_data: null }\n        }\n        default:\n            return state;\n    }\n}","const md5 = require('md5');\n\nconst initialState = {\n  data: [],\n  filter: \"\"\n}\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_ZONES_GEODATA': {\n      let currentdata = state.data ? state.data: [];\n    \n      //console.log(\"filter - %o / %o\", currentdata, action.payload.data)\n      if(md5(currentdata)===md5(action.payload.data)&&\n         state.filter===action.payload.filter) {\n        // console.log('SET_ZONES_GEODATA - no changes')\n        return state;\n      }\n      \n      // if(md5(currentdata)!==md5(action.payload.data)) { console.log('SET_ZONES_GEODATA - data changed')}\n      // if(state.filter!==action.payload.filter) { console.log('SET_ZONES_GEODATA - filter changed')}\n      \n      return {\n          ...state,\n          data: action.payload.data,\n          filter: action.payload.filter\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport last_update from './last_update';\nimport metadata from './metadata';\nimport vehicles from './vehicles';\nimport filter from './filter';\nimport authentication from './authentication';\nimport zones_geodata from './zones_geodata';\n\nexport default combineReducers({\n  last_update,\n  metadata,\n  vehicles,\n  filter,\n  authentication,\n  zones_geodata\n})","export default function lastUpdate(state = false, action) {\n  switch(action.type) {\n    case 'SET_LAST_UPDATE': {\n      return action.payload;\n    }\n\n    default:\n      return state;\n  }\n}\n","import React from 'react';\n\nexport function IconButtonClose(props) {\n  return (\n    <div\n      {...props}\n      className=\"w-16 h-16 flex items-center justify-center p-3 rounded-full disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:shadow-outline\"\n    >\n      <svg\n        height=\"100%\"\n        id=\"Layer_1\"\n        version=\"1.1\"\n        viewBox=\"0 0 512 512\"\n        width=\"100%\"\n        >\n        <path d=\"M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z\"/>\n      </svg>\n    </div>);\n}\n\nexport function IconButtonFilter(props) {\n  return (\n    <div\n      {...props}\n      className=\"w-12 h-8 box-border border-2 border-black flex items-center justify-center p-3 rounded-full disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:shadow-outline\"\n    >\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22.13 15.72\">\n        <path d=\"M7.16 0a3.7 3.7 0 0 0-3.6 2.86H.85a.85.85 0 0 0 0 1.7h2.71a3.7 3.7 0 0 0 7.2 0h10.52a.85.85 0 0 0 0-1.7H10.76A3.7 3.7 0 0 0 7.16 0zm0 5.72a2 2 0 1 1 2-2 2 2 0 0 1-2 2zM15 8.3a3.7 3.7 0 0 0-3.6 2.86H.85a.85.85 0 0 0 0 1.7h10.52a3.7 3.7 0 0 0 7.2 0h2.71a.85.85 0 0 0 0-1.7h-2.71A3.7 3.7 0 0 0 15 8.3zm0 5.7a2 2 0 1 1 2-2 2 2 0 0 1-2 2z\"></path>\n      </svg>\n    </div>);\n}\n\n","import React, {useEffect} from 'react';\nimport moment from 'moment';\nimport { Link } from \"react-router-dom\";\nimport { clearUser } from '../actions/authentication';\nimport './Menu.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { IconButtonFilter } from './IconButtons.jsx';\nimport $ from 'jquery';\n\nfunction Menu() {\n  const dispatch = useDispatch();\n  let TO_interval, dateToShow = moment();\n\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n\n  const logOut = () => {\n    if (isLoggedIn) {\n      dispatch( clearUser() );\n    }\n  }\n\n  //Get the value of a State variable, and store it to a const, to use it later\n  const showfilter = useSelector(state => {\n    return state.filter ? state.filter.visible : false;\n  });\n\n  const toggleFilter = e => {\n    dispatch({\n      type: 'SET_FILTER_VISIBLE',\n      payload: !showfilter\n    })\n  }\n\n  return (\n    <div className=\"box-border p-2 pb-0\">\n      <div className=\"flex bg-white rounded-lg w-full p-4\">\n        <Link className=\"text-menu\" to=\"/\">\n          Home\n        </Link>\n        <Link className=\"text-menu\" to=\"/map/park\">\n          Parkeerdata\n        </Link>\n        <Link className=\"text-menu\" onClick={(e) => {\n          e.preventDefault();\n          dispatch({\n            type: 'SET_FILTER_DATUM',\n            payload: dateToShow.toISOString()\n          })\n          clearInterval(TO_interval);\n          TO_interval = setInterval(x => {\n            dateToShow.subtract(1, 'hour');\n            dispatch({\n              type: 'SET_FILTER_DATUM',\n              payload: dateToShow.toISOString()\n            })\n            $('body').trigger('updateVehicleData');\n          }, 3000)\n        }} hidden>\n          Back in time\n        </Link>\n        <Link className=\"text-menu\" to=\"/map/trip\">\n          Tripdata\n        </Link>\n        {isLoggedIn ?\n            <div className=\"text-menu\">\n              <IconButtonFilter  onClick={toggleFilter} />\n            </div>\n            :\n            null }\n        {isLoggedIn\n          ?\n          <Link className=\"text-menu flex-grow text-right\" onClick={logOut} to=\"/\">\n            Log uit\n          </Link>\n          :\n          <Link className=\"text-menu flex-grow text-right\" to=\"/login\">\n            Log in\n          </Link>\n        }\n      </div>\n    </div>\n  )\n\n  // <nav class=\"flex items-center justify-around flex-wrap bg-teal-500 p-6\">\n  // </nav>\n}\n\nexport default Menu;\n\n","import { SET_USER, CLEAR_USER } from \"./actionTypes\";\n\nexport const setUser = (user) => ({\n  type: SET_USER,\n  payload: user\n})\n\nexport const clearUser = () => ({\n  type: CLEAR_USER,\n  payload: null\n})\n","// vehicles\nexport const SET_VEHICLES = 'SET_VEHICLES';\nexport const SET_VEHICLE = 'SET_VEHICLE';\nexport const CLEAR_VEHICLES = 'CLEAR_VEHICLES';\n\n// authentication\nexport const SET_USER = 'SET_USER';\nexport const CLEAR_USER = 'CLEAR_USER';\n","import vehiclesPoint from './vehicles-point.js';\nimport vehiclesHeatmap from './vehicles-heatmap.js';\nimport vehiclesHeatmapCityLevel from './vehicles-heatmap-city-level.js';\nimport vehiclesClusters from './vehicles-clusters.js';\nimport vehiclesClustersCount from './vehicles-clusters-count.js';\nimport vehiclesClustersPoint from './vehicles-clusters-point.js';\nimport zonesGeodata from './zones-geodata.js';\n\nexport const layers = {\n  'vehicles-heatmap': vehiclesHeatmap,// Unused\n  'vehicles-point': vehiclesPoint,\n  'vehicles-clusters': vehiclesClusters,\n  'vehicles-clusters-count': vehiclesClustersCount,\n  'vehicles-clusters-point': vehiclesClustersPoint,\n  'vehicles-heatmap-city-level': vehiclesHeatmapCityLevel,// Only one used\n  'zones-geodata': zonesGeodata\n}\n","export default {\n  'id': 'vehicles-heatmap',\n  'type': 'heatmap',\n  'source': 'vehicles',\n  'maxzoom': 9,\n  'paint': {\n    // Increase the heatmap weight based on frequency and property magnitude\n    'heatmap-weight': [\n      'interpolate',\n      ['linear'],\n      ['get', 'mag'],\n      0,\n      0,\n      6,\n      1\n    ],\n    // Increase the heatmap color weight weight by zoom level\n    // heatmap-intensity is a multiplier on top of heatmap-weight\n    'heatmap-intensity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      1,\n      9,\n      3\n    ],\n    // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n    // Begin color ramp at 0-stop with a 0-transparancy color\n    // to create a blur-like effect.\n    'heatmap-color': [\n      'interpolate',\n      ['linear'],\n      ['heatmap-density'],\n      0,\n      'rgba(33,102,172,0)',\n      0.2,\n      'rgb(103,169,207)',\n      0.4,\n      'rgb(209,229,240)',\n      0.6,\n      'rgb(253,219,199)',\n      0.8,\n      'rgb(239,138,98)',\n      1,\n      'rgb(178,24,43)'\n    ],\n    // Adjust the heatmap radius by zoom level\n    'heatmap-radius': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      2,\n      9,\n      20\n    ],\n    // Transition from heatmap to circle layer by zoom level\n    'heatmap-opacity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      7,\n      1,\n      9,\n      0\n    ]\n  }\n}","export default {\n  'id': 'vehicles-point',\n  'type': 'circle',\n  'source': 'vehicles',\n  'minzoom': 7,\n  'paint': {\n  // Size circle radius by earthquake magnitude and zoom level\n  'circle-radius': [\n    'interpolate', ['linear'], ['zoom'],\n    12, 2,\n    16, ['*', 2, ['get', 'amount']]\n  ],\n  // Color circle by earthquake magnitude\n  // 'circle-color': [\n  //   'interpolate',\n  //   ['linear'],\n  //   ['get', 'mag'],\n  //   1,\n  //   'rgba(33,102,172,0)',\n  //   2,\n  //   'rgb(103,169,207)',\n  //   3,\n  //   'rgb(209,229,240)',\n  //   4,\n  //   'rgb(253,219,199)',\n  //   5,\n  //   'rgb(239,138,98)',\n  //   6,\n  //   'rgb(178,24,43)'\n  // ],\n  // 'circle-stroke-color': 'white',\n  // 'circle-stroke-width': 1,\n  // Transition from heatmap to circle layer by zoom level\n    'circle-opacity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      7,\n      0,\n      8,\n      1\n    ],\n    'circle-color': ['get', 'color']\n  }\n}","// Example code: https://maplibre.org/maplibre-gl-js-docs/example/cluster/\nexport default {\n  'id': 'vehicles-clusters',\n  'type': 'circle',\n  'source': 'vehicles-clusters',\n  filter: ['has', 'point_count'],\n  paint: {\n    // Use step expressions (https://maplibre.org/maplibre-gl-js-docs/style-spec/#expressions-step)\n    // with three steps to implement three types of circles:\n    //   * Blue, 20px circles when point count is less than 100\n    //   * Yellow, 30px circles when point count is between 100 and 750\n    //   * Pink, 40px circles when point count is greater than or equal to 750\n    'circle-color': [\n      'step',\n      ['get', 'point_count'],\n      '#ffd837',\n      100, '#48e248',\n      750, '#1fa024'\n    ],\n    'circle-radius': [\n      'step',\n      ['get', 'point_count'],\n      20, 100,\n      30, 750,\n      40\n    ]\n  }\n}\n","// Example code: https://maplibre.org/maplibre-gl-js-docs/example/cluster/\nexport default {\n  'id': 'vehicles-clusters-count',\n  'type': 'symbol',\n  'source': 'vehicles-clusters',\n  filter: ['has', 'point_count'],\n  layout: {\n    'text-field': '{point_count_abbreviated}',\n    'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\n    'text-size': 12\n  }\n}\n","// Example code: https://maplibre.org/maplibre-gl-js-docs/example/cluster/\nexport default {\n  'id': 'vehicles-clusters-point',\n  'type': 'circle',\n  'source': 'vehicles-clusters',\n  filter: ['!', ['has', 'point_count']],\n  paint: {\n    'circle-color': '#11b4da',\n    'circle-radius': 4,\n    'circle-stroke-width': 1,\n    'circle-stroke-color': '#fff'\n  }\n}\n","export default {\n  'id': 'vehicles-heatmap-city-level',\n  'type': 'heatmap',\n  'source': 'vehicles',\n  'paint': {\n    // Increase the heatmap weight based on frequency and property magnitude\n    'heatmap-weight': [\n      'interpolate',\n      ['linear'],\n      ['get', 'mag'],\n      0, 0.0001,\n      10, 1\n    ],\n\n    'heatmap-intensity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0, 0.0025,\n      5, 0.005,\n      7.5, 0.01,\n      10, 0.05,\n      12, 0.075,/* city level */\n      15, 0.1,\n      20, 1,\n    ],\n\n    // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n    // Begin color ramp at 0-stop with a 0-transparancy color\n    // to create a blur-like effect.\n    'heatmap-color': [\n      'interpolate',\n      ['linear'],\n      ['heatmap-density'],\n      0, 'rgba(0, 0, 255, 0)',\n      0.25, '#ffd837',\n      0.5, '#fe862e',\n      0.75, '#fd3e48',\n      1, '#9a231f'\n    ],\n\n    // Adjust the heatmap radius by zoom level\n    // Groter = grotere radius = duidelijker waar het druk is\n    'heatmap-radius': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0, 10,\n      10, 12,\n      12, 20,\n      15, 40,\n      20, 60,\n      30, 100,\n      40, 100\n    ],\n    'heatmap-opacity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      7, 1,\n      9, 0.8\n    ]\n  }\n}","const layer = {\n  'id': 'zones-geodata',\n  'type': 'fill',\n  'source': 'zones-geodata',\n  'paint': {\n    'fill-color': '#1010e0',\n    'fill-opacity': 0.6\n  },\n}\n// 'filter': ['==', '$type', 'MultiPolygon'],\n// 'minzoom': 1,\n\nexport default layer;","export const sources = {\n  'vehicles': {\n    'type': 'geojson',\n  },\n  'vehicles-clusters': {\n    'type': 'geojson',\n    'cluster': true,\n    'clusterMaxZoom': 14, // Max zoom to cluster points on\n    'clusterRadius': 50 // Radius of each cluster when clustering points (defaults to 50)\n  }\n}\n","import { useRef, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport maplibregl from 'maplibre-gl';\n\nimport './Map.css';\n\nimport {layers} from './layers';\nimport {sources} from './sources.js';\n\nconst md5 = require('md5');\n\nfunction Map(props) {\n  //Get the value of a State variable, and store it to a const, to use it later\n  const vehicles = useSelector(state => {\n    return state.vehicles ? state.vehicles.data : null;\n  });\n\n  const zones_geodata = useSelector(state => {\n    if(!state||!state.zones_geodata) {\n      return null;\n    }\n\n    return state.zones_geodata;\n  });\n  \n  const mapContainer = props.mapContainer;\n  const [lng] = useState(4.4671854);\n  const [lat] = useState(51.9250836);\n  const [zoom] = useState(15);\n  const [counter, setCounter] = useState(0);\n  const [zonesGeodataHash, setZonesGeodataHash] = useState(\"\");\n  let map = useRef(null);\n\n  // Docs: https://maptiler.zendesk.com/hc/en-us/articles/4405444890897-Display-MapLibre-GL-JS-map-using-React-JS\n  useEffect(() => {\n    // Init MapLibre map\n    const initMap = () => {\n      if (map.current) return;\n      map.current = new maplibregl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n        center: [lng, lat],\n        zoom: zoom\n      });\n      // Add controls\n      map.current.addControl(new maplibregl.NavigationControl(), 'bottom-right');\n  \n      map.current.on('load', function() {\n        setCounter(counter + 1)\n      })\n    }\n    initMap();\n  }, [vehicles, zones_geodata, lng, lat, zoom, counter, mapContainer])\n\n  useEffect(() => {\n    const addDataSources = (vehicles, zones_geodata) => {\n      if (! map.current || ! map.current.isStyleLoaded()) {\n        // Refresh state, so that addDataSources runs again\n        setTimeout(() => {\n          setCounter(counter + 1)\n        }, 250)\n        return;\n      }\n      if (! vehicles) {\n        return;\n      }\n\n      // Check if source exists\n      const doesSourceExist = map.current.getSource(props.activeSource);\n\n      if(doesSourceExist) {\n        // Source does exist. Do nothing\n      } else {\n        console.log('Add source', props.activeSource)\n        let source = Object.assign({}, {\n          'type': 'geojson',\n          'data': vehicles,\n        }, sources[props.activeSource] ? sources[props.activeSource] : {});\n        map.current.addSource(props.activeSource, source);\n      }\n\n      // Check if source exists\n      const doesSourceExistGeodata = map.current.getSource('zones-geodata');\n      let hash = md5(zones_geodata)\n      if(doesSourceExistGeodata) {\n        if(zonesGeodataHash!==hash) {\n          // console.log(\"Update source zones-geodata %o\", zones_geodata)\n          setZonesGeodataHash(hash);\n          map.current.getSource('zones-geodata').setData(zones_geodata.data);\n        } else {\n          // console.log(\"Skip update source zones-geodata %o\", zonesGeodataHash, hash)\n        }\n      } else {\n        // console.log(\"Add source zones-geodata %o\", zones_geodata)\n        if(zones_geodata.data) {\n          setZonesGeodataHash(md5(zones_geodata));\n          map.current.addSource('zones-geodata', {\n            'type': 'geojson',\n            'data': zones_geodata.data\n          });\n        }\n      }\n    }\n    addDataSources(vehicles, zones_geodata);\n    \n  }, [\n    vehicles,\n    zones_geodata,\n    zonesGeodataHash,\n    counter,\n    props.activeSource\n  ])\n\n  useEffect(() => {\n    const addLayers = (vehicles, zones_geodata) => {\n      if (! map.current || ! map.current.isStyleLoaded()) {\n        setTimeout(() => {\n          setCounter(counter + 1)\n        }, 250)\n        return;\n      }\n      if (!vehicles||!zones_geodata) return;\n\n      // Remove 'old' layers\n      const allLayers = map.current.getStyle().layers;\n      allLayers.forEach(x => {\n        // Check if this is one of our layers\n        if(x.id.indexOf('vehicles-') > -1) {\n          // If so, remove\n          map.current.removeLayer(x.id)\n        }\n        if(x.id.indexOf('zones-geodata') > -1) {\n          // If so, remove\n          map.current.removeLayer(x.id)\n          setZonesGeodataHash(\"\");\n        }\n      })\n      // Add selected layers to the map\n      props.layers.forEach(x => {\n        if(props.layers.indexOf(x) >= -1) {\n          const doesLayerExist = map.current.getLayer(x);\n          if(! doesLayerExist) { map.current.addLayer(layers[x]); }\n        }\n      })\n    }\n    addLayers(vehicles, zones_geodata);\n  }, [vehicles, zones_geodata, counter, props.layers]);\n\n  return (null)\n}\n\nexport {\n  Map\n};\n","import React, {useState} from 'react';\nimport {Map as MapComponent} from '../components/Map/Map.jsx';\n\nfunction Map(props) {\n  const [layers, setLayers] = useState([\n    'vehicles-heatmap',\n    'vehicles-point',\n    'zones-geodata'\n  ]);\n  const [activeSource, setActiveSource] = useState('vehicles');\n  \n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"flex-none text-center\">\n        Map type:\n        <button onClick={() => {\n          setLayers([\n            'vehicles-point',\n            'zones-geodata',\n          ]);\n          setActiveSource(\n            'vehicles'\n          );\n        }}>\n          Vehicles\n        </button> |\n        <button className=\"\" onClick={() => {\n          setLayers([\n            'vehicles-heatmap-city-level',\n            'zones-geodata',\n          ]);\n          setActiveSource(\n            'vehicles'\n          );\n        }}>\n          Heatmap\n        </button> |\n        <button className=\"\" onClick={() => {\n          setLayers([\n            'vehicles-clusters',\n            'vehicles-clusters-count',\n            'vehicles-clusters-point',\n            'zones-geodata',\n          ]);\n          setActiveSource(\n            'vehicles-clusters'\n          );\n        }}>\n          Clusters\n        </button><br />\n      </div>\n      <div className=\"flex-1 bg-red-400\">\n        <MapComponent\n          mapContainer={props.mapContainer}\n          layers={layers}\n          activeSource={activeSource}\n        />\n      </div>\n  </div>);\n  \n  \n}\n\nexport default Map;\n","import React, { useState } from 'react';\nimport { setUser } from '../actions/authentication';\nimport { useDispatch } from 'react-redux';\nimport {\n  Redirect\n } from \"react-router-dom\";\n\nconst Login = () => {\n  const [emailaddress, setEmailaddress] = useState('');\n  const [password, setPassword] = useState('');\n  const [recoverPassword, setRecoverPassword] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const dispatch = useDispatch();\n\n  const login = e => {\n    \n    e.preventDefault();\n\n    const url = process.env.REACT_APP_FUSIONAUTH_SERVER + \"/login\";\n    var data = {\n        loginId: emailaddress,\n        password: password,\n        applicationId: process.env.REACT_APP_FUSIONAUTH_APPLICATION_ID\n    };\n    \n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json())\n      .then(response => {\n        dispatch( setUser(response) );\n        setLoggedIn(true);\n      }).catch(error => {\n        console.error(\"Login failed! (%s)\", error.message);\n        setLoggedIn(false);\n    });\n  };\n  \n  const recover = e => {\n    e.preventDefault();\n    \n    const url = process.env.REACT_APP_FUSIONAUTH_SERVER + \"/user/forgot-password\"\n    var data = {\n      loginId: emailaddress,\n    };\n\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json())\n      .then(response => {\n        console.log(response);\n        return true;\n      }).catch(error => {\n        return false;\n      });\n\n    // do login here\n  };\n\n  const renderLogin = () => {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n        <div className=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\n          <h3 className=\"text-2xl font-bold text-center\">Login</h3>\n          <form>\n            <label className=\"block\" htmlFor=\"emailaddress\">Email</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              autoCapitalize=\"off\"\n              placeholder=\"email\"\n              name=\"emailaddress\"\n              required\n              onChange={e => setEmailaddress(e.target.value)}\n            />\n\n            <label className=\"block\" htmlFor=\"password\">Wachtwoord</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              type=\"password\"\n              placeholder=\"Wachtwoord\"\n              name=\"password\"\n              required\n              onChange={e => setPassword(e.target.value)}\n            />\n          \n            <div className=\"flex items-baseline justify-between\">\n                <button className=\"px-6 py-2 mr-4 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={login}>Login</button>\n                <button className=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={()=>setRecoverPassword(true)}>Wachtwoord vergeten</button>\n            </div>\n          </form>\n        </div>\n      </div>)\n  }\n  \n  const renderRecoverPassword = () => {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n        <div className=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\n          <h3 className=\"text-2xl font-bold text-center\">Wachtwoord herstellen</h3>\n          <form>\n            <label className=\"block\" htmlFor=\"emailaddress\">Email</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              autoCapitalize=\"off\"\n              placeholder=\"Email\"\n              name=\"emailaddress\"\n              required\n              onChange={e => setEmailaddress(e.target.value)}\n            />\n          \n            <div className=\"flex items-baseline justify-between\">\n                <button className=\"px-6 py-2 mr-4 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={recover}>Herstel</button>\n                <button className=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={()=>setRecoverPassword(false)}>Annuleer</button>\n            </div>\n          </form>\n        </div>\n      </div>)\n  }\n  const renderRedirect = () => {\n    return (\n        <Redirect to=\"/\" />\n    );\n  }\n \n  if (loggedIn) {\n    return renderRedirect();\n  }\n\n  return recoverPassword ? renderRecoverPassword() : renderLogin();\n};\n\nexport default Login;","import './Filterbar.css';\nimport { IconButtonClose } from '../IconButtons.jsx';\n\nfunction ModalBox({closeFunction, children}) {\n  return (\n    <div className=\"modalbox-bg\" onClick={() => closeFunction(false)}>\n      <div className=\"modalbox\" onClick={e=>e.stopPropagation()}>\n        <div className=\"absolute absolute top-0 right-0\">\n          <IconButtonClose onClick={() => closeFunction(false)} />\n        </div>\n        <div className=\"grid-cols-4\" >\n          { children }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalBox;","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\nimport './Filterbar.css';\n\nfunction FilteritemGebieden() {\n  const dispatch = useDispatch()\n\n  const gebieden = useSelector(state => {\n    return (state.metadata && state.metadata.gebieden) ? state.metadata.gebieden : [];\n  });\n  \n  const filterGebied = useSelector(state => {\n    return state.filter ? state.filter.gebied : \"\";\n  });\n  \n  let [showSelect, setShowSelect] = useState(false);\n  \n  const setFilterGebied = (gebied) => {\n    dispatch({\n      type: 'SET_FILTER_GEBIED',\n      payload: gebied\n    })\n  }\n  \n  const renderSelectGebieden = (gebieden) => {\n    return (\n      <ModalBox closeFunction={setShowSelect}>\n        <div className=\"filter-form-selectie\">\n          <div className=\"filter-form-title\">Selecteer Gebied</div>\n            <div className=\"filter-form-values\">\n              { filterGebied === \"\"?\n                  <div key={'item-alle'} className=\"form-item-selected form-item\" onClick={e=>{setShowSelect(false)}}>Alle Gebieden</div>\n                  :\n                  <div key={'item-alle'} className=\"form-item\" onClick={e=>{setShowSelect(false);setFilterGebied(\"\")}}>Alle Gebieden</div>\n              }\n              { gebieden.map(a=>{\n                  if(filterGebied === a.gm_code) {\n                    return (<div key={'item-'+a.gm_code} className=\"form-item-selected form-item\" onClick={e=>{setShowSelect(false);setFilterGebied(\"\")}}>{a.name}</div>)\n                  } else {\n                    return (<div key={'item-'+a.gm_code} className=\"form-item\" onClick={e=>{setShowSelect(false);setFilterGebied(a.gm_code);}}>{a.name}</div>)\n                  }\n                })\n              }\n          </div>\n        </div>\n      </ModalBox>)\n  }\n  \n  let value = gebieden.find(item=>item.gm_code===filterGebied) || \"\";\n\n  return (\n      <div className=\"filter-item\" onClick={e=>{setShowSelect(!showSelect)}}>\n        <div className=\"filter-title\">Gebieden</div>\n        <div className=\"filter-value\">{value===\"\"?\"Alle Gebieden\":value.name}</div>\n        { showSelect ? renderSelectGebieden(gebieden) : null }\n      </div>\n    )\n}\n\nexport default FilteritemGebieden;\n","import { useState } from 'react';\nimport './Filterbar.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\n\nfunction FilterItemDatum() {\n  const dispatch = useDispatch()\n  \n  const filterDatum = useSelector(state => {\n    return state.filter ? state.filter.datum : new Date().toISOString();\n  });\n  \n  let [showSelectDatum, setShowSelectDatum] = useState(false);\n  \n  const setFilterDatum = e => {\n    e.preventDefault();\n    \n    if (!e.target['validity'].valid) return;\n    \n    datum = (new Date(e.target.value)).toISOString();\n    dispatch({\n      type: 'SET_FILTER_DATUM',\n      payload: datum\n    })\n  }\n  \n  // https://webreflection.medium.com/using-the-input-datetime-local-9503e7efdce\n  function toDatetimeLocal(ISOString) {\n    const date = new Date(ISOString)\n    const\n      ten = function (i) {\n        return (i < 10 ? '0' : '') + i;\n      },\n      YYYY = date.getFullYear(),\n      MM = ten(date.getMonth() + 1),\n      DD = ten(date.getDate()),\n      HH = ten(date.getHours()),\n      II = ten(date.getMinutes()),\n      SS = ten(date.getSeconds())\n    ;\n    return YYYY + '-' + MM + '-' + DD + 'T' +\n             HH + ':' + II + ':' + SS;\n  };\n  \n  const renderSelectDatum = () => {\n    const value = toDatetimeLocal(filterDatum);\n    return (\n       <ModalBox className=\"min-width-48\" closeFunction={setShowSelectDatum}>\n       <div className=\"filter-form-selectie\">\n         <div className=\"filter-form-title\">Selecteer Datum</div>\n         <form className=\"h-12 w-auto flex flex-row border-solid border-4 border-light-blue-500 box-border\">\n           <input className=\"bg-transparent flex-2 flex-grow\" type=\"datetime-local\" value={value} onChange={setFilterDatum} />\n           <div className=\"flex-2\"/>\n         </form>\n         <div className=\"flex-none closebutton text-center mt-4\" onClick={e=>setShowSelectDatum(false)}>OK</div>\n       </div>\n      </ModalBox>);\n  }\n\n  let datum = new Date(filterDatum).toLocaleString();\n  \n  return (\n    <>\n      <div className=\"filter-item\" onClick={e=>{setShowSelectDatum(!showSelectDatum)}}>\n        <div className=\"filter-title\">Datum</div>\n        <div className=\"filter-value\">{datum}</div>\n      </div>\n      { showSelectDatum ? renderSelectDatum() : null }\n    </>\n  )\n}\n\nexport default FilterItemDatum;\n","import { useState } from 'react';\nimport './Filterbar.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\n\nfunction FilterItemInterval() {\n  const dispatch = useDispatch()\n  \n  const filterIntervalStart = useSelector(state => {\n    return state.filter ? state.filter.intervalstart : new Date().toISOString();\n  });\n  \n  const filterIntervalEnd = useSelector(state => {\n    return state.filter ? state.filter.intervalend : new Date().toISOString();\n  });\n  \n  let [useIntervalStart, setUseIntervalStart] = useState(false);\n  let [showSelectInterval, setShowSelectInterval] = useState(false);\n  \n  const setFilterInterval = e => {\n    e.preventDefault();\n    \n    if (!e.target['validity'].valid) return;\n    \n    const datum = (new Date(e.target.value)).toISOString();\n    dispatch({\n      type: useIntervalStart ? 'SET_FILTER_INTERVAL_START':'SET_FILTER_INTERVAL_END',\n      payload: datum\n    })\n  }\n  \n  // https://webreflection.medium.com/using-the-input-datetime-local-9503e7efdce\n  function toDatetimeLocal(ISOString) {\n    const date = new Date(ISOString)\n    const\n      ten = function (i) {\n        return (i < 10 ? '0' : '') + i;\n      },\n      YYYY = date.getFullYear(),\n      MM = ten(date.getMonth() + 1),\n      DD = ten(date.getDate()),\n      HH = ten(date.getHours()),\n      II = ten(date.getMinutes()),\n      SS = ten(date.getSeconds())\n    ;\n    return YYYY + '-' + MM + '-' + DD + 'T' +\n             HH + ':' + II + ':' + SS;\n  };\n  \n  const renderSelectInterval = (isStart) => {\n    const value = toDatetimeLocal(isStart ? filterIntervalStart : filterIntervalEnd);\n    return (\n      <ModalBox className=\"min-width-48\" closeFunction={setShowSelectInterval}>\n        <div className=\"filter-form-selectie\">\n          <div className=\"filter-form-title\">Selecteer Datum</div>\n          <form key=\"f-end\" className=\"h-12 w-auto flex flex-row border-solid border-4 border-light-blue-500 box-border\">\n            <input className=\"bg-transparent flex-2 flex-grow\" type=\"datetime-local\" value={value} onChange={setFilterInterval} />\n            <div className=\"flex-2\"/>\n          </form>\n          <div className=\"flex-none closebutton text-center mt-4\" onClick={e=>setShowSelectInterval(false)}>OK</div>\n        </div>\n     </ModalBox>);\n  }\n\n  let intervalStart = new Date(filterIntervalStart).toLocaleString();\n  let intervalEnd = new Date(filterIntervalEnd).toLocaleString();\n  console.log(\"got interval %s - %s\", intervalStart, intervalEnd);\n\n    //  onClick={e=>{setShowSelectInterval(!showSelectInterval)}}\n  return (\n    <>\n    <div className=\"filter-item\" onClick={e=>{setUseIntervalStart(true); setShowSelectInterval(true)}}>\n        <div className=\"filter-title\">Start</div>\n        <div className=\"filter-value\">{intervalStart}</div>\n      </div>\n      <div className=\"filter-item\" onClick={e=>{setUseIntervalStart(false); setShowSelectInterval(true)}}>\n        <div className=\"filter-title\">Eind</div>\n        <div className=\"filter-value\">{intervalEnd}</div>\n      </div>\n      { showSelectInterval ?  renderSelectInterval() : null }\n    </>\n  )\n}\n\nexport default FilterItemInterval;\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\nimport './Filterbar.css';\n\nfunction FilteritemAanbieders() {\n  const dispatch = useDispatch()\n  \n  const aanbieders = useSelector(state => {\n    return (state.metadata && state.metadata.aanbieders) ? state.metadata.aanbieders : [];\n  });\n  \n  const filterAanbieders = useSelector(state => {\n    return state.filter ? state.filter.aanbieders : \"\";\n  });\n  \n  let [showSelect, setShowSelect] = useState(false);\n  \n  const addToFilterAanbieders = (aanbieder) => {\n    dispatch({ type: 'ADD_TO_FILTER_AANBIEDERS', payload: aanbieder })\n  }\n  const removeFromFilterAanbieders = (aanbieder) => {\n    dispatch({ type: 'REMOVE_FROM_FILTER_AANBIEDERS', payload: aanbieder })\n  }\n  \n  const renderSelectAanbieders = (aanbieders) => {\n    return (\n      <ModalBox closeFunction={setShowSelect}>\n        <div className=\"filter-form-selectie\">\n            <div className=\"filter-form-title\">Selecteer Aanbieders</div>\n            <div className=\"filter-form-values\">\n            { aanbieders.map((a,i) => {\n                let isSelected = filterAanbieders.includes(a.system_id);\n                if(isSelected) {\n                  return (<div key={'item-'+a.system_id} className=\"form-item-selected form-item\" onClick={e=>{ e.stopPropagation(); removeFromFilterAanbieders(a.system_id)}}>{a.name}</div>)\n                } else {\n                  return (<div key={'item-'+a.system_id} className=\"form-item\" onClick={e=>{ e.stopPropagation(); addToFilterAanbieders(a.system_id)}}>{a.name}</div>)\n                }\n              })\n            }\n            </div>\n        </div>\n      </ModalBox>\n    );\n  }\n  \n  let aanbiedertxt = \"\"\n  try {\n    let aantal = filterAanbieders.split(',').length\n    if(aantal>1 && aantal<aanbieders.length ) {\n      aanbiedertxt = filterAanbieders.split(\",\").length + \" aanbieders\";\n    } else if( aantal === 1) {\n      aanbiedertxt = filterAanbieders;\n    }\n  } catch(ex) {\n    aanbiedertxt = \"\";\n  }\n  \n  if(aanbiedertxt===\"\") { aanbiedertxt = \"Alle Aanbieders\" }\n  \n  return (\n      <div className=\"filter-item\" onClick={e=>{setShowSelect(!showSelect)}}>\n        <div className=\"filter-title\">Aanbieders</div>\n        <div className=\"filter-value\">{aanbiedertxt}</div>\n        { showSelect ? renderSelectAanbieders(aanbieders) : null }\n      </div>\n    )\n}\n\nexport default FilteritemAanbieders;\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\n\nfunction FilteritemZones() {\n  const dispatch = useDispatch()\n  \n  const zones = useSelector(state => {\n    return (state.metadata && state.metadata.zones) ? state.metadata.zones : [];\n  });\n  \n\n  const filterZones = useSelector(state => {\n    return state.filter ? state.filter.zones : 0;\n  });\n  \n  let [showSelect, setShowSelect] = useState(false);\n  \n  const addToFilterZones = (zone) => {\n    dispatch({ type: 'ADD_TO_FILTER_ZONES', payload: zone })\n  }\n  const removeFromFilterZones = (zone) => {\n    dispatch({ type: 'REMOVE_FROM_FILTER_ZONES', payload: zone })\n  }\n  \n  \n  const renderZoneZones = (zones) => {\n    return (\n      <ModalBox closeFunction={setShowSelect}>\n        <div className=\"filter-form-selectie\">\n          <div className=\"filter-form-title\">Selecteer Zone</div>\n            <div className=\"filter-form-values\">\n              { zones.map(a=>{\n                  let isSelected = filterZones.includes(a.zone_id);\n                  if(isSelected) {\n                    return (<div key={'item-'+a.zone_id} className=\"form-item-selected form-item\" onClick={e=>{ e.stopPropagation(); removeFromFilterZones(a.zone_id)}}>{a.name}</div>)\n                  } else {\n                    return (<div key={'item-'+a.zone_id} className=\"form-item\" onClick={e=>{ e.stopPropagation(); addToFilterZones(a.zone_id)}}>{a.name}</div>)\n                  }\n                })\n              }\n          </div>\n        </div>\n      </ModalBox>)\n  }\n  \n  let zonetxt = \"\"\n  try {\n    let aantal = filterZones.split(',').length\n    if(aantal>1 && aantal<zones.length ) {\n      zonetxt = filterZones.split(\",\").length + \" zones\";\n    } else if( aantal === 1) {\n      zonetxt = filterZones;\n    }\n  } catch(ex) {\n    zonetxt = \"\";\n  }\n  \n  if(zonetxt===\"\") { zonetxt = \"Alle Zones\" }\n  \n  return (\n      <div className=\"filter-item\" onClick={e=>{setShowSelect(!showSelect)}}>\n        <div className=\"filter-title\">Zones</div>\n        <div className=\"filter-value\">{zonetxt}</div>\n        { showSelect ? renderZoneZones(zones) : null }\n      </div>\n    )\n}\n\nexport default FilteritemZones;","import './Filterbar.css';\nimport FilteritemGebieden from './FilteritemGebieden.jsx';\nimport FilteritemDatum from './FilteritemDatum.jsx';\nimport FilteritemInterval from './FilteritemInterval.jsx';\nimport FilteritemAanbieders from './FilteritemAanbieders.jsx';\nimport FilteritemZones from './FilteritemZones.jsx';\n\nfunction Filterbar({showinterval=false}) {\n  console.log(\"show interval %s\", showinterval)\n  return (\n    <div className=\"box-border p-2 pb-0\">\n      <div className=\"flex bg-gray-400 rounded-lg p-2 w-full grid grid-cols-4 gap-4\">\n        <FilteritemGebieden />\n        <FilteritemZones />\n        { showinterval ?\n            <FilteritemInterval />\n            :\n            <FilteritemDatum /> }\n        <FilteritemAanbieders />\n      </div>\n    </div>\n    )\n}\n\nexport default Filterbar;\n","const cPublicAanbieders = [\n    { value:\"cykl\", name:\"Cykl\" },\n    { value:\"flickbike\", name:\"Flickbike\" },\n    { value:\"donkey\", name:\"Donkey\" },\n    { value:\"mobike\", name:\"Mobike\" },\n    { value:\"htm\", name:\"HTM\" },\n    { value:\"gosharing\", name:\"GO\" },\n    { value:\"check\", name:\"CHECK\" },\n    { value:\"felyx\", name:\"Felyx\" },\n    { value:\"deelfietsnederland\", name:\"Deelfiets\" },\n    { value:\"keobike\", name:\"Keobike\" },\n    { value:\"lime\", name:\"Lime\" },\n    { value:\"baqme\", name:\"BAQME\" },\n    { value:\"cargoroo\", name:\"Cargoroo\" },\n    { value:\"uwdeelfiets\", name:\"uwdeelfiets\" },\n    { value:\"hely\", name:\"Hely\" }\n  ];\n  \nconst cPublicGebieden = [\n  { gm_code:\"\", name:\"Alle Gebieden\" }, { gm_code:\"GM0518\", name:\"'s-Gravenhage\" }, { gm_code:\"GM0796\", name:\"'s-Hertogenbosch\" }, { gm_code:\"GM0613\", name:\"Albrandswaard\" }, { gm_code:\"GM0141\", name:\"Almelo\" }, { gm_code:\"GM0034\", name:\"Almere\" }, { gm_code:\"GM0484\", name:\"Alphen aan den Rijn\" }, { gm_code:\"GM0307\", name:\"Amersfoort\" }, { gm_code:\"GM0362\", name:\"Amstelveen\" }, { gm_code:\"GM0363\", name:\"Amsterdam\" }, { gm_code:\"GM0200\", name:\"Apeldoorn\" }, { gm_code:\"GM0202\", name:\"Arnhem\" }, { gm_code:\"GM0106\", name:\"Assen\" }, { gm_code:\"GM0489\", name:\"Barendrecht\" }, { gm_code:\"GM0203\", name:\"Barneveld\" }, { gm_code:\"GM0373\", name:\"Bergen (NH\" }, { gm_code:\"GM0753\", name:\"Best\" }, { gm_code:\"GM0375\", name:\"Beverwijk\" }, { gm_code:\"GM0377\", name:\"Bloemendaal\" }, { gm_code:\"GM0758\", name:\"Breda\" }, { gm_code:\"GM0312\", name:\"Bunnik\" }, { gm_code:\"GM0313\", name:\"Bunschoten\" }, { gm_code:\"GM0502\", name:\"Capelle aan den IJssel\" }, { gm_code:\"GM0310\", name:\"De Bilt\" }, { gm_code:\"GM0736\", name:\"De Ronde Venen\" }, { gm_code:\"GM0503\", name:\"Delft\" }, { gm_code:\"GM0150\", name:\"Deventer\" }, { gm_code:\"GM0384\", name:\"Diemen\" }, { gm_code:\"GM0505\", name:\"Dordrecht\" }, { gm_code:\"GM0228\", name:\"Ede\" }, { gm_code:\"GM0772\", name:\"Eindhoven\" }, { gm_code:\"GM0153\", name:\"Enschede\" }, { gm_code:\"GM0232\", name:\"Epe\" }, { gm_code:\"GM1771\", name:\"Geldrop-Mierlo\" }, { gm_code:\"GM1942\", name:\"Gooise Meren\" }, { gm_code:\"GM0014\", name:\"Groningen\" }, { gm_code:\"GM0392\", name:\"Haarlem\" }, { gm_code:\"GM0394\", name:\"Haarlemmermeer\" }, { gm_code:\"GM0243\", name:\"Harderwijk\" }, { gm_code:\"GM0246\", name:\"Heerde\" }, { gm_code:\"GM0794\", name:\"Helmond\" }, { gm_code:\"GM0164\", name:\"Hengelo\" }, { gm_code:\"GM0798\", name:\"Hilvarenbeek\" }, { gm_code:\"GM0402\", name:\"Hilversum\" }, { gm_code:\"GM0353\", name:\"IJsselstein\" }, { gm_code:\"GM0166\", name:\"Kampen\" }, { gm_code:\"GM0542\", name:\"Krimpen aan den IJssel\" }, { gm_code:\"GM1621\", name:\"Lansingerland\" }, { gm_code:\"GM0080\", name:\"Leeuwarden\" }, { gm_code:\"GM1916\", name:\"Leidschendam-Voorburg\" }, { gm_code:\"GM0327\", name:\"Leusden\" }, { gm_code:\"GM0809\", name:\"Loon op Zand\" }, { gm_code:\"GM0556\", name:\"Maassluis\" }, { gm_code:\"GM1842\", name:\"Midden-Delfland\" }, { gm_code:\"GM1952\", name:\"Midden-Groningen\" }, { gm_code:\"GM0356\", name:\"Nieuwegein\" }, { gm_code:\"GM0267\", name:\"Nijkerk\" }, { gm_code:\"GM0268\", name:\"Nijmegen\" }, { gm_code:\"GM1930\", name:\"Nissewaard\" }, { gm_code:\"GM0820\", name:\"Nuenen, Gerwen en Nederwetten\" }, { gm_code:\"GM0302\", name:\"Nunspeet\" }, { gm_code:\"GM0826\", name:\"Oosterhout\" }, { gm_code:\"GM0431\", name:\"Oostzaan\" }, { gm_code:\"GM1926\", name:\"Pijnacker-Nootdorp\" }, { gm_code:\"GM0273\", name:\"Putten\" }, { gm_code:\"GM0597\", name:\"Ridderkerk\" }, { gm_code:\"GM0603\", name:\"Rijswijk\" }, { gm_code:\"GM1674\", name:\"Roosendaal\" }, { gm_code:\"GM0599\", name:\"Rotterdam\" }, { gm_code:\"GM0606\", name:\"Schiedam\" }, { gm_code:\"GM0848\", name:\"Son en Breugel\" }, { gm_code:\"GM0855\", name:\"Tilburg\" }, { gm_code:\"GM1730\", name:\"Tynaarlo\" }, { gm_code:\"GM0344\", name:\"Utrecht\" }, { gm_code:\"GM1581\", name:\"Utrechtse Heuvelrug\" }, { gm_code:\"GM0861\", name:\"Veldhoven\" }, { gm_code:\"GM0622\", name:\"Vlaardingen\" }, { gm_code:\"GM0865\", name:\"Vught\" }, { gm_code:\"GM0866\", name:\"Waalre\" }, { gm_code:\"GM0867\", name:\"Waalwijk\" }, { gm_code:\"GM0289\", name:\"Wageningen\" }, { gm_code:\"GM0629\", name:\"Wassenaar\" }, { gm_code:\"GM1960\", name:\"West Betuwe\" }, { gm_code:\"GM1783\", name:\"Westland\" }, { gm_code:\"GM0637\", name:\"Zoetermeer\" }, { gm_code:\"GM0642\", name:\"Zwijndrecht\" }, { gm_code:\"GM0193\", name:\"Zwolle\" }\n]\n\nconst cPublicVoertuigTypes = [\n  { id: 0, name:\"Alle voertuigtypes\" },\n  { id: 1, name:\"Onbekend\" },\n  { id: 2, name: \"Fiets\" }\n]\n\nvar store_accesscontrollist = undefined;\n\nconst isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nvar timerid_gebiedenaanbieders = undefined;\n\nconst updateAccessControlList = ()  => {\n  let delay = 5 * 1000;\n  try {\n    if(undefined===store_accesscontrollist) {\n      console.log(\"no redux state available yet - skipping metadata update\");\n      return false;\n    }\n    \n    const state = store_accesscontrollist.getState();\n    if(!isLoggedIn(state)) {\n      // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n      store_accesscontrollist.dispatch({ type: 'SET_GEBIEDEN', payload: cPublicGebieden});\n      \n      // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n      store_accesscontrollist.dispatch({ type: 'SET_AANBIEDERS', payload: cPublicAanbieders});\n    } else {\n      let url=\"https://api.deelfietsdashboard.nl/dashboard-api/menu/acl\";\n      let options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      \n      fetch(url, options).then((response) => {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n\n        response.json()\n          .then((metadata) => {\n            // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n            // console.log(\"dispatch gebieden \", metadata.municipalities);\n            store_accesscontrollist.dispatch({ type: 'SET_GEBIEDEN', payload: metadata.municipalities});\n            \n            // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n            store_accesscontrollist.dispatch({ type: 'SET_AANBIEDERS', payload: metadata.operators});\n\n            // items -> {\"id\": 1, \"name\": \"asdfasdfadfa\" }\n            let types = cPublicVoertuigTypes; // TODO: get from ACL once implemented\n            store_accesscontrollist.dispatch({ type: 'SET_VEHICLE_TYPES', payload: types});\n          })\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n        });\n        return true;\n      }\n  } catch(ex) {\n    console.error(\"Unable to update gebieden\", ex)\n    delay = 5 * 1000;\n    \n    return false;\n  } finally {\n    timerid_gebiedenaanbieders = setTimeout(updateAccessControlList, delay);\n  }\n}\n\nexport const forceUpdateAccessControlList = () => {\n  if(undefined!==timerid_gebiedenaanbieders) { clearTimeout(timerid_gebiedenaanbieders); }\n  updateAccessControlList();\n}\n\nexport const initUpdateAccessControlList = (_store) => {\n  store_accesscontrollist = _store;\n}\n\nforceUpdateAccessControlList();\n\n","var store_zonesgeodata = undefined;\n\nconst isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nvar timerid_zonesgeodata = undefined;\n\n// const cTestFeatureNL = {\n//    \"type\":\"Feature\",\n//    \"geometry\": {\n//      \"type\": \"Polygon\",\n//      \"coordinates\":\n//       [\n//         [[4,53],[6, 53],[6, 52],[4,52],[4,53]]\n//       ]\n//   }\n// }\n\nexport const getEmptyZonesGeodataPayload = () => {\n  return  {\n    \"data\": {\n      \"type\":\"FeatureCollection\",\n      \"features\":[]\n    },\n    \"filter\": \"\"\n  }\n}\n\nconst updateZonesGeodata = ()  => {\n  let delay = 5 * 1000;\n  try {\n    if(undefined===store_zonesgeodata) {\n      console.log(\"no redux state available yet - skipping zones geodata update\");\n      return false;\n    }\n    \n    const state = store_zonesgeodata.getState();\n    if(!isLoggedIn(state)||!state||state.filter.gebied===\"\"||state.filter.zones.length===0) {\n      store_zonesgeodata.dispatch({ type: 'SET_ZONES_GEODATA', payload: getEmptyZonesGeodataPayload()});\n    } else {\n      // https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code=GM0518\n      let url_zonesgeodata=\"https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids=\"+state.filter.zones+\"&&include_geojson=true\";\n      // let url_geodata=\"https://api.deelfietsdashboard.nl/dashboard-api/menu/acl\"\n      // https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids=34217&include_geojson=true\n      let options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      fetch(url_zonesgeodata, options).then((response) => {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n      \n        response.json()\n          .then((metadata) => {\n            // convert to standard geojson here\n            let geojson = {\n               \"type\":\"FeatureCollection\",\n               \"features\":[]\n            }\n\n            metadata.zones.forEach(zonedata => {\n              // console.log(\"got zonedatas\", zonedata)\n              \n              switch(zonedata.geojson.type) {\n                case \"MultiPolygon\":\n                case \"Polygon\":\n                  let feature = {\n                     \"type\":\"Feature\",\n                     \"geometry\": zonedata.geojson\n                  }\n                  geojson.features.push(feature);\n                  break;\n                default:\n                  console.log(\"pollMetadataZonesgeodata - don't know how to handle %s\", zonedata.type, zonedata);\n                  break\n              }\n            })\n            \n            let payload = { data: geojson, filter: state.filter.zones};\n            store_zonesgeodata.dispatch({ type: 'SET_ZONES_GEODATA', payload});\n          }).catch(ex=>{ console.error(\"unable to decode JSON\", ex); });\n        }).catch(ex=>{ console.error(\"unable to fetch zone geodata\"); });\n      }\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = 5 * 1000;\n  } finally {\n    timerid_zonesgeodata = setTimeout(updateZonesGeodata, delay);\n  }\n}\n\nexport const forceUpdateZonesgeodata = () => {\n  if(undefined!==timerid_zonesgeodata) { clearTimeout(timerid_zonesgeodata); }\n  updateZonesGeodata();\n}\n\nexport const initUpdateZonesgeodata = (_store) => {\n  store_zonesgeodata = _store;\n}\n","import { getEmptyZonesGeodataPayload } from './pollMetadataZonesgeodata';\nvar store_zones = undefined;\n\nconst isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nvar timerid_zones = undefined;\n\nconst updateZones = ()  => {\n  let delay = 5 * 1000;\n  try {\n    if(undefined===store_zones) {\n      // console.log(\"no redux state available yet - skipping zones update\");\n      return false;\n    }\n    \n    const state = store_zones.getState();\n    if(!isLoggedIn(state)||!state||state.filter.gebied===\"\") {\n      store_zones.dispatch({ type: 'SET_ZONES', payload: []});\n      store_zones.dispatch({ type: 'SET_ZONES_GEODATA', payload: getEmptyZonesGeodataPayload()});\n    } else {\n      // https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code=GM0518\n      let url_zones=\"https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code=\"+state.filter.gebied;\n      // let url_geodata=\"https://api.deelfietsdashboard.nl/dashboard-api/menu/acl\"\n      // https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids=34217&include_geojson=true\n      let options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      \n      fetch(url_zones, options).then((response) => {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n\n        response.json()\n          .then((metadata) => {\n            // items: { \"municipality\": \"GM0785\", \"name\": \"Goirle\", \"owner\": null, \"zone_id\": 34278, \"zone_type\": \"municipality\"}\n            store_zones.dispatch({ type: 'SET_ZONES', payload: metadata.zones});\n          })\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n        });\n      }\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = 5 * 1000;\n  } finally {\n    timerid_zones = setTimeout(updateZones, delay);\n  }\n}\n\nexport const forceUpdateZones = () => {\n  if(undefined!==timerid_zones) { clearTimeout(timerid_zones); }\n  updateZones();\n}\n\nexport const initUpdateZones = (_store) => {\n  // console.log(\"initUpdateZones\")\n  store_zones = _store;\n  forceUpdateZones();\n}\n","import moment from 'moment';\nimport { createFilterparameters, isLoggedIn, convertDurationToColor } from './pollTools.js';\n\nvar store_tripdata = undefined;\n\nvar timerid_tripdata = undefined;\n\nconst updateTripData = ()  => {\n  let delay = 5 * 1000;\n  try {\n    if(undefined===store_tripdata) {\n      // console.log(\"no redux state available yet - skipping zones update\");\n      return false;\n    }\n    \n    const state = store_tripdata.getState();\n    const canfetchdata = isLoggedIn(state)&&state&&state.filter&&state.authentication.user_data.token;\n    if(!canfetchdata) {\n      store_tripdata.dispatch({ type: 'SET_TRIPDATA', payload: []});\n    } else {\n      let url = \"https://api.deelfietsdashboard.nl/dashboard-api/public/trips_in_public_space\";\n      let options = {};\n      if(null!==state.filter&&null!==state.authenticationdata) {\n        url = \"https://api.deelfietsdashboard.nl/dashboard-api/trips\";\n        let filterparams = createFilterparameters(false, state.filter, state.metadata);\n        if(filterparams.length>0) {\n          url += \"?\" + filterparams.join(\"&\");\n        }\n        options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      }\n      fetch(url, options).then(function(response) {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n        \n      response.json().then(function(data) {\n        // console.log(data);\n        // return;\n        \n        let trips = [];\n        if(isLoggedIn) {\n          trips = data.trips\n        }\n        let geoJson = {\n           \"type\":\"FeatureCollection\",\n           \"features\":[]\n        }\n    \n        const md5 = require('md5');\n        // var current_time = moment();\n        trips.forEach(t => {\n          // let in_public_space_since = isLoggedIn ? v.start_time : v.in_public_space_since;\n          //\n          // var minutes = current_time.diff(moment(in_public_space_since), 'minutes');\n          // const color = convertDurationToColor(minutes);\n          \n          // {\n          //     \"bike_id\": \"check:e2b733e9-ac8f-459e-9904-19775ff730d7\",\n          //     \"end_location\": {\n          //         \"latitude\": 51.92392,\n          //         \"longitude\": 4.46867\n          //     },\n          //     \"end_time\": \"2021-11-01T18:13:01.927898Z\",\n          //     \"start_location\": {\n          //         \"latitude\": 51.91227,\n          //         \"longitude\": 4.46921\n          //     },\n          //     \"start_time\": \"2021-11-01T17:52:31.595659Z\",\n          //     \"system_id\": \"check\",\n          //     \"trip_id\": 17179722\n          // }\n    \n          let feature = {\n             \"type\":\"Feature\",\n             \"properties\":{\n                \"id\":md5(t.start_location.latitude+t.start_location.longitude),\n                \"system_id\": t.system_id,\n                // \"in_public_space_since\": in_public_space_since,\n                \"color\": \"#38ff71\" // color\n             },\n             \"geometry\":{\n                \"type\":\"Point\",\n                \"coordinates\":[\n                   t.start_location.longitude,\n                   t.start_location.latitude,\n                   0.0\n                ]\n             }\n          }\n    \n          geoJson.features.push(feature);\n\n          let feature2 = {\n             \"type\":\"Feature\",\n             \"properties\":{\n                \"id\":md5(t.end_location.latitude+t.end_location.longitude),\n                \"system_id\": t.system_id,\n                // \"in_public_space_since\": in_public_space_since,\n                \"color\": \"#cc0000\" // color\n             },\n             \"geometry\":{\n                \"type\":\"Point\",\n                \"coordinates\":[\n                   t.end_location.longitude,\n                   t.end_location.latitude,\n                   0.0\n                ]\n             }\n          }\n    \n          geoJson.features.push(feature2);\n          // new maplibregl.Marker({color: \"#FF0000\"})\n          //   .setLngLat([x.location.longitude, x.location.latitude])\n          //   .addTo(map.current);\n          //\n          // return;\n        })\n    \n        store_tripdata.dispatch({\n          type: 'SET_TRIPS',\n          payload: geoJson\n        })\n      \n          // setJson(json);\n          // setTimestamp(new Date());\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n          // setJson(false);\n        });\n      }).catch(ex=>{\n        console.error(\"fetch error - unable to fetch JSON from %s\", url);\n        // setJson(false);\n      });\n    }\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = 5 * 1000;\n  } finally {\n    timerid_tripdata = setTimeout(updateTripData, delay);\n  }\n}\n\nexport const forceUpdateTripData = () => {\n  if(undefined!==timerid_tripdata) { clearTimeout(timerid_tripdata); }\n  updateTripData();\n}\n\nexport const initUpdateTripData = (_store) => {\n  // console.log(\"initUpdateTripData\")\n  store_tripdata = _store;\n  forceUpdateTripData();\n}\n","import { useEffect, useRef } from 'react';\nimport {\n BrowserRouter as Router,\n Switch,\n Route,\n Redirect\n} from \"react-router-dom\";\n\nimport Menu from './components/Menu.jsx';\nimport Map from './pages/Map.jsx';\nimport Login from './pages/Login.jsx';\nimport Filterbar from './components/Filterbar/Filterbar.jsx';\nimport { store } from './AppProvider.js';\n\nimport { useSelector } from 'react-redux';\n\nimport { initUpdateAccessControlList, forceUpdateAccessControlList } from './poll-api/pollMetadataAccessControlList.js';\nimport { initUpdateZones, forceUpdateZones } from './poll-api/pollMetadataZones.js';\nimport { initUpdateParkingData, forceUpdateParkingData } from './poll-api/pollParkingData.js';\nimport { initUpdateTripData, forceUpdateTripData } from './poll-api/pollTripData.js';\nimport { initUpdateZonesgeodata, forceUpdateZonesgeodata } from './poll-api/pollMetadataZonesgeodata.js';\n\nimport './App.css';\n\nfunction App() {\n  const mapContainer = useRef(null);\n\n  // let [json, setJson] = useState(false);\n  // let [timestamp, setTimestamp] = useState(false);\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n  \n  const showfilter = useSelector(state => {\n    return state.filter ? state.filter.visible : false;\n  });\n  \n  useEffect(() => {\n    initUpdateZones(store);\n    initUpdateZonesgeodata(store);\n    initUpdateAccessControlList(store);\n    initUpdateParkingData(store);\n    initUpdateTripData(store);\n    forceUpdateZones();\n    forceUpdateZonesgeodata();\n    forceUpdateAccessControlList();\n    forceUpdateTripData();\n    forceUpdateParkingData();\n  });\n\n  return (\n    <Router>\n       <Redirect from=\"/\" exact to=\"/map/park\" />\n       <div className=\"app\">\n          <div className=\"gui-layer\">\n            <Menu />\n            { isLoggedIn && showfilter ? <Filterbar showinterval={false}/> : null }\n            <Switch>\n              <Route path=\"/login\">\n                 <Login />\n              </Route>\n              <Route path=\"/map/trip\">\n               <Map mapContainer={mapContainer} showParkingData={false}/>\n              </Route>\n              <Route path=\"/map/park\">\n               <Map mapContainer={mapContainer} showParkingData={true}/>\n              </Route>\n            </Switch>\n          </div>\n          <div ref={mapContainer} className=\"map-layer\"></div>\n        </div>\n     </Router>\n  );\n}\n\nexport default App;\n","import React, { Component } from 'react';\n// import { bindActionCreators } from 'redux';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport moment from 'moment';\nimport thunk from 'redux-thunk';\n\nimport appReducer from './reducers';\nimport App from './App';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// Get persistentState from localStorage\nconst persistedState = localStorage.getItem('CROWDD_reduxState')\n  ? JSON.parse(localStorage.getItem('CROWDD_reduxState'))\n  : {}\n\nexport const store = createStore(\n  appReducer,\n  persistedState,\n  composeEnhancers(applyMiddleware(thunk)),\n);\n\n// Store Redux state into localStorage\nstore.subscribe(() => {\n  const storeState = store.getState();\n  const storeStateToSaveInLocalStorage = {\n    last_update: moment().unix(),\n    authentication: storeState.authentication,\n    filter: storeState.filter\n  }\n  localStorage.setItem('CROWDD_reduxState', JSON.stringify(storeStateToSaveInLocalStorage))\n})\n\nclass AppProvider extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <App content={this.props.content} />\n      </Provider>\n    )\n  }\n}\n\nfunction connectWithStore(store, WrappedComponent, ...args) {\n  let ConnectedWrappedComponent = connect(...args)(WrappedComponent)\n  return function (props) {\n    return <ConnectedWrappedComponent {...props} store={store} />\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    // config: getConfig(state),\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    // actions: bindActionCreators(actions, dispatch),\n  }\n}\n\nexport default AppProvider = connectWithStore(\n  store,\n  AppProvider,\n  mapStateToProps,\n  mapDispatchToProps\n)\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppProvider from './AppProvider';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}