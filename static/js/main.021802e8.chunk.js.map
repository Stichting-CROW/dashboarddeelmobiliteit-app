{"version":3,"sources":["reducers/metadata.js","reducers/vehicles.js","reducers/rentals.js","reducers/filter.js","reducers/authentication.js","reducers/zones_geodata.js","reducers/layers.js","reducers/ui.js","reducers/index.js","reducers/last_update.js","components/IconButtons.jsx","components/Menu.jsx","actions/authentication.js","actions/actionTypes.js","components/Menu/MenuSecondary.jsx","helpers/providers.js","components/Map/layers/index.js","components/Map/layers/vehicles-heatmap.js","components/Map/layers/vehicles-point.js","components/Map/layers/vehicles-clusters.js","components/Map/layers/vehicles-clusters-count.js","components/Map/layers/vehicles-clusters-point.js","components/Map/layers/vehicles-heatmap-city-level.js","components/Map/layers/rentals-point.js","components/Map/layers/zones-geodata.js","components/Map/sources.js","components/Map/vehicle_marker.js","components/Map/MapComponent.jsx","components/SlideBox/SlideBox.jsx","components/SelectLayer/SelectLayer.jsx","pages/MapPage.jsx","pages/ContentPage.jsx","poll-api/pollTools.js","api/aggregatedStats.js","pages/StatsPage.jsx","pages/Login.jsx","helpers/parkEvents.js","pages/Monitoring.jsx","components/Filterbar/ModalBox.jsx","components/Filterbar/FilteritemGebieden.jsx","images/calendar.svg","components/Filterbar/FilteritemDatum.jsx","components/Filterbar/FilteritemInterval.jsx","components/Filterbar/FilteritemAanbieders.jsx","components/Filterbar/FilteritemZones.jsx","components/Filterbar/FilteritemMarkers.jsx","components/Filterbar/FilteritemVoertuigTypes.jsx","components/Logo.jsx","components/Filterbar/Filterbar.jsx","components/Filterbar/FilterbarDesktop.jsx","components/SlideBox/MobileSlideBox.jsx","components/Filterbar/FilterbarMobile.jsx","components/SelectLayer/SelectLayerMobile.jsx","constants.js","poll-api/pollMetadataAccessControlList.js","poll-api/pollMetadataZonesgeodata.js","poll-api/pollMetadataZones.js","poll-api/pollParkingData.js","poll-api/pollTripData.js","poll-api/pollVerhuringenData.js","App.js","AppProvider.js","reportWebVitals.js","index.js"],"names":["md5","require","initialState","aanbieders","gebieden","zones","vehicle_types","metadata_loaded","zones_loaded","generateHslaColors","amount","colors","huedelta","Math","trunc","i","hue","lightness","saturation","push","data","visible","gebied","datum","Date","toISOString","intervalstart","intervalend","aanbiedersexclude","markersexclude","voertuigtypesexclude","user_data","filter","DISPLAYMODE_PARKEERDATA_HEATMAP","DISPLAYMODE_PARKEERDATA_CLUSTERS","DISPLAYMODE_PARKEERDATA_VOERTUIGEN","zones_visible","displaymode","extent","SELECTLAYER","combineReducers","last_update","state","action","type","payload","metadata","current","length","providerColors","map","aanbieder","idx","color","system_id","Object","assign","JSON","stringify","vehicles","vehicle","uuid","filtered","x","rentals","console","log","split","ex","includes","join","item","toString","authentication","user","zones_geodata","currentdata","datachanged","filterchanged","layers","ui","name","visibility","IconButtonClose","props","className","height","id","version","viewBox","width","d","MenuItem","useState","document","location","pathname","pathName","setPathName","isActive","path","icon","replace","useLocation","React","useEffect","to","href","onClick","src","text","SubMenuItem","Menu","subMenuIsActive","setSubMenuIsActive","dispatch","useDispatch","isLoggedIn","useSelector","e","preventDefault","MenuSecondaryItem","MenuSecondary","setVisibility","getProviderColor","providers","providerName","found","paint","layout","sources","initialMarker2","operatorColor","a","markers","durationIndicationColor","styleVehicleMarker","marker","svgElement","createElementNS","innerHTML","svg","setAttribute","getElementById","value","canvas","createElement","XMLSerializer","serializeToString","win","window","URL","webkitURL","img","Image","blob","Blob","url","createObjectURL","decode","context","getContext","drawImage","revokeObjectURL","Uint8Array","getImageData","buffer","getVehicleMarkers","moment","locale","localization","MapComponent","mapContainer","lng","lat","zoom","counter","setCounter","zonesGeodataHash","setZonesGeodataHash","sourceHash","setSourceHash","useRef","maplibregl","Map","container","style","accessToken","process","center","maxZoom","attributionControl","addControl","NavigationControl","showCompass","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","on","ddMap","dragRotate","disable","touchZoomRotate","disableRotation","addOrUpdateSource","sourceName","sourceData","isStyleLoaded","doesSourceExist","getSource","hash","features","newSourceHashArray","setData","source","addSource","setTimeout","activeSource","fitBounds","getStyle","forEach","indexOf","removeLayer","getLayer","addLayer","addLayers","currentMap","layerName","vehicleProperties","properties","providerColor","coordinates","geometry","slice","abs","lngLat","Popup","setLngLat","setHTML","in_public_space_since","fromNow","format","addTo","getCanvas","cursor","initPopupLogic","addProviderImage","hasImage","addImage","SlideBox","containerRef","NAME","toUpperCase","isVisible","backgroundColor","options","direction","ref","children","title","SelectLayer","showZoneOnOff","zonesVisible","displayMode","position","top","right","showZones","activesource","ContentPage","isFilterBarVisible","FILTERBAR","overflowY","createFilterparameters","isParkingData","filterparams","candidates","municipality","find","gm_code","undefined","zone","zone_id","error","filteritems","selectedaanbieders","selectedtypes","vtype","ts","ts1","ts2","isInvalid","getAggregatedStats","token","key","aggregationLevel","filterParams","fetchOptions","headers","fetch","response","json","responseJson","prepareData","values","getDateFormat","start_interval","rest","CustomizedAxisTick","this","y","stroke","transform","dy","textAnchor","fill","PureComponent","renderStackedAreaChart","overflowX","ResponsiveContainer","AreaChart","margin","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","tick","YAxis","Tooltip","object","keys","val","Area","stackId","isAnimationActive","StatsPage","vehiclesData","setVehiclesData","rentalsData","setRentalsData","setAggregationLevel","availableVehicles","fetchData","Login","emailaddress","setEmailaddress","password","setPassword","recoverPassword","setRecoverPassword","errorMessage","setErrorMessage","loggedIn","setLoggedIn","login","loginId","applicationId","method","body","then","res","catch","message","recover","htmlFor","autoCapitalize","placeholder","required","onChange","target","role","fetchParkEvents","provider","dateTime","formattedDateTime","ok","park_events","numberOfUniqueVehiclesAfterXIterations","getUniqueVehicleIds","dataset","uniqueVehicleIds","bike_id","Monitoring","fetchMultipleMomentsInTime","collectedParkEvents","subtract","ModalBox","closeFunction","stopPropagation","FilteritemGebieden","filterGebied","showSelect","setShowSelect","filterSearch","setFilterSearch","setFilterGebied","changeSearchText","clearSearchText","filteredGebieden","toLowerCase","renderSelectGebieden","FilterItemDatum","filterDatum","setFilterDatum","newdt","clearIcon","calendarIcon","alt","add","FilterItemInterval","filterIntervalStart","filterIntervalEnd","useIntervalStart","setUseIntervalStart","showSelectInterval","setShowSelectInterval","setFilterInterval","valid","intervalStart","toLocaleString","intervalEnd","isStart","ISOString","date","ten","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","toDatetimeLocal","renderSelectInterval","FilteritemAanbieders","filterAanbiedersExclude","addTofilterAanbiedersExclude","excluded","handler","removeFromfilterAanbiedersExclude","cx","cy","r","FilteritemZones","filterZones","removeFromFilterZones","selectedzones","zonetxt","aantal","thezone","filteredZones","renderSelectZones","FilteritemMarkers","fillcolor","filterMarkersExclude","addToFilterMarkersExclude","removeFromFilterMarkersExclude","FilteritemVoertuigTypes","voertuigtypes","filterVoertuigTypesExclude","Array","isArray","addToFilterVoertuigTypesExclude","voertuigtype","removeFromFilterVoertuigTypesExclude","baseClassName","extraclass","Logo","Filterbar","showinterval","FilteritemInterval","FilterbarDesktop","MobileSlideBox","closeHandler","FilterbarMobile","SelectLayerMobile","cPublicAanbieders","cPublicGebieden","cPublicVoertuigTypes","store_accesscontrollist","timerid_gebiedenaanbieders","updateAccessControlList","delay","getState","municipalities","operators","types","cPollDelayAccessControlList","forceUpdateAccessControlList","clearTimeout","store","timerid_zonesgeodata","updateZonesGeodata","zone_ids","zone_type","list_g","url_zonesgeodata","st","geojson","fullextent","zonedata","feature","min","max","warn","bounds","cPollDelayMetadataZonesGeodata","forceUpdateZonesgeodata","store_zones","timerid_zones","updateZones","url_zones","cPollDelayMetadataZones","forceUpdateZones","store_parkingdata","timerid_parkingdata","updateParkingData","canfetchdata","authenticationdata","geoJson","operatorcolors","o","start_time","v","duration","minutes","diff","duration_bin","latitude","longitude","cPollDelayParkingData","forceUpdateParkingData","store_tripdata","timerid_tripdata","updateTripData","trips","t","start_location","feature2","end_location","cPollDelayTripData","forceUpdateTripData","store_verhuringendata","timerid_verhuringendata","updateVerhuringenData","verhuringen","start_rentals","cPollDelayVerhuringenData","forceUpdateVerhuringenData","App","_store","initUpdateZonesgeodata","initUpdateAccessControlList","initUpdateParkingData","initUpdateTripData","initUpdateVerhuringenData","renderMobileMenus","renderMapElements","exact","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","theState","localStorage","getItem","persistedState","parse","createStore","appReducer","applyMiddleware","thunk","subscribe","storeState","oldFilterHash","newFilterHash","setItem","storeStateToSaveInLocalStorage","unix","AppProvider","content","Component","WrappedComponent","args","ConnectedWrappedComponent","connect","connectWithStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.021802e8.chunk.js","sourcesContent":["const md5 = require('md5');\n\nconst initialState = {\n  aanbieders: [],\n  gebieden: [],\n  zones: [],\n  vehicle_types: [],\n  metadata_loaded: false,\n  zones_loaded: false\n}\n\n// utility function that creates a color palette\n// background: https://mika-s.github.io/javascript/colors/hsl/2017/12/05/generating-random-colors-in-javascript.html\nconst generateHslaColors = (amount) => {\n  \n  let colors = []\n  let huedelta = Math.trunc(360 / (amount+1))\n  let alpha = 1.0\n\n  for (let i = 0; i < amount; i++) {\n    let hue = i * huedelta\n    let lightness = i % 2 === 0 ? 35 : 65;\n    let saturation = i % 2 === 1 ? 40 : 60;\n    colors.push(`hsla(${hue},${saturation}%,${lightness}%,${alpha})`)\n  }\n\n  return colors\n}\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_AANBIEDERS': {\n      let current = state.aanbieders ? state.aanbieders: [];\n      \n      // add colors (will be supplied by the API later)\n      const colors = generateHslaColors(action.payload.length)\n      const providerColors = {\n        'cykl': '#a5e067',\n        'flickbike': '#fe431d',\n        'mobike': '#ed5144',\n        'donkey': '#ed5144',\n        'htm': '#db291e',\n        'jump': '#fd3e48',\n        'gosharing': '#77b136',\n        'check': '#8f3af8',\n        'felyx': '#064627',\n        'lime': '#1bd831',\n        'baqme': '#4bdfbb',\n        'cargoroo': '#ffcb34',\n        'hely': '#fd645c',\n        'tier': '#0d123f'\n      }\n      const aanbieders = action.payload.map((aanbieder,idx)=>{\n        const color = providerColors[aanbieder.system_id] ? providerColors[aanbieder.system_id] : colors[idx];\n        return Object.assign(aanbieder, {color: color});\n      })\n      \n      if(md5(JSON.stringify(current))===md5(JSON.stringify(aanbieders))) { return state; }\n      \n      return {\n        ...state,\n        aanbieders\n      }\n    }\n    case 'SET_GEBIEDEN': {\n      let current = state.gebieden ? state.gebieden: [];\n    \n      if(md5(JSON.stringify(current))===md5(JSON.stringify(action.payload))) { return state; }\n    \n      return {\n        ...state,\n        gebieden: action.payload,\n      }\n    }\n    \n    case 'SET_ZONES': {\n      let current = state.zones ? state.zones: [];\n    \n      if(md5(JSON.stringify(current))===md5(JSON.stringify(action.payload))) { return state; }\n\n      return {\n          ...state,\n          zones: action.payload,\n      };\n    }\n    \n    case 'CLEAR_ZONES': {\n      return {\n          ...state,\n          zones: [],\n          zones_loaded: false,\n      };\n    }\n\n    case 'SET_VEHICLE_TYPES': {\n      let current = state.vehicle_types ? state.vehicle_types: [];\n    \n      if(JSON.stringify(md5(current))===JSON.stringify(md5(action.payload))) { return state; }\n\n      return {\n          ...state,\n          vehicle_types: action.payload,\n      };\n    }\n\n    case 'SET_METADATA_LOADED': {\n      return {\n          ...state,\n          metadata_loaded: action.payload,\n      };\n    }\n\n    case 'SET_ZONES_LOADED': {\n      return {\n          ...state,\n          zones_loaded: action.payload,\n      };\n    }\n    \n    default:\n      return state;\n  }\n}\n","const initialState = {\n  data: null\n}\n\nexport default function vehicles(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_VEHICLES': {\n      // console.log(\"Set Vehicles %o\", action.payload);\n      const vehicles = action.payload\n      return {\n        data: vehicles\n      }\n    }\n    case 'SET_VEHICLE': {\n      const vehicle = action.payload\n      // Validate input\n      if(! vehicle.uuid) {\n        return {}\n      }\n      // Remove changed vehicle\n      const filtered = state.data.filter(function(x) {\n        return x.uuid !== vehicle.uuid;\n      });\n      // Add vehicle to vehicles set\n      filtered.push(vehicle)\n      // Set store\n      return { data: filtered }\n    }\n    case 'CLEAR_VEHICLES': {\n      return {\n        data: []\n      }\n    }\n    default:\n      return state;\n  }\n\n}\n","const initialState = {\n  data: null\n}\n\nexport default function rentals(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_VERHUURDATA': {\n      const vehicles = action.payload\n      return {\n        data: vehicles\n      }\n    }\n    case 'CLEAR_VERHUURDATA': {\n      return {\n        data: []\n      }\n    }\n    default:\n      return state;\n  }\n\n}\n","const initialState = {\n  visible: true,\n  gebied: \"\",\n  zones: \"\",\n  datum: (new Date()).toISOString(),\n  intervalstart: (new Date()).toISOString(),\n  intervalend: (new Date()).toISOString(),\n  aanbiedersexclude: \"\",\n  markersexclude: \"\",\n  voertuigtypesexclude: \"\",\n}\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_FILTER_VISIBLE': {\n      console.log('reducer filter set filter visible %s', action.payload)\n      return {\n          ...state,\n          visible: action.payload\n      };\n    }\n    case 'SET_FILTER_GEBIED': {\n      if(state.gebied===action.payload) {\n        return state;\n      }\n      \n      console.log('reducer filter set gebied to %s', action.payload)\n      return {\n          ...state,\n          gebied: action.payload,\n          zones: \"\"\n      };\n    }\n    case 'SET_FILTER_DATUM': {\n      console.log('reducer filter set datum to %s', action.payload)\n      return {\n          ...state,\n          datum: action.payload\n      };\n    }\n    case 'SET_FILTER_INTERVAL_START': {\n      console.log('reducer filter set interval start to %s', action.payload)\n      return {\n          ...state,\n          intervalstart: action.payload\n      };\n    }\n    case 'SET_FILTER_INTERVAL_END': {\n      console.log('reducer filter set interval end to %s', action.payload)\n      return {\n          ...state,\n          intervalend: action.payload\n      };\n    }\n    case 'ADD_TO_FILTER_ZONES': {\n      console.log('add item %s to zones filter %o', action.payload, state)\n      let zones = [];\n      if(state.zones) {\n        try {\n          zones = state.zones.split(\",\") || []\n        } catch(ex) {\n          zones = [];\n        }\n      }\n      if(!zones.includes(action.payload)) {\n        zones.push(action.payload);\n      }\n\n      return {\n        ...state,\n        zones: zones.join(\",\")\n      };\n    }\n    case 'REMOVE_FROM_FILTER_ZONES': {\n      console.log('remove item %o from zones filter', action.payload)\n      let zones = state.zones.split(\",\") || [];\n      zones = zones.filter((item) => {return item.toString() !== action.payload.toString() });\n\n      return {\n          ...state,\n          zones: zones.join(\",\")\n      };\n    }\n    case 'CLEAR_FILTER_ZONES': {\n      console.log('clear zones filter')\n\n      return {\n          ...state,\n          zones: ''\n      };\n    }\n    case 'ADD_TO_FILTER_MARKERS_EXCLUDE': {\n      let markersexclude = [];\n      try {\n        console.log('add item %s to markersexclude filter %o', action.payload, state)\n        if(state.markersexclude) {\n          try {\n            markersexclude = state.markersexclude.split(\",\") || []\n          } catch(ex) {\n            markersexclude = [];\n          }\n        }\n        if(!markersexclude.includes(action.payload)) {\n          markersexclude.push(action.payload);\n        }\n      } catch(ex) {\n        markersexclude = [];\n      }\n\n      return {\n        ...state,\n        markersexclude: markersexclude.join(\",\")\n      };\n    }\n    case 'REMOVE_FROM_FILTER_MARKERS_EXCLUDE': {\n      console.log('remove item %o from markersexclude filter', action.payload)\n      let markersexclude = [];\n      try {\n        markersexclude = state.markersexclude.split(\",\") || [];\n        markersexclude = markersexclude.filter((item) => {return item.toString() !== action.payload.toString() });\n      } catch(ex) {\n        markersexclude = [];\n      }\n\n      return {\n          ...state,\n          markersexclude: markersexclude.join(\",\")\n      };\n    }\n    case 'CLEAR_FILTER_MARKERS_EXCLUDE': {\n      console.log('clear markersexclude filter')\n\n      return {\n          ...state,\n          markersexclude: ''\n      };\n    }\n    case 'ADD_TO_FILTER_VOERTUIGTYPES_EXCLUDE': {\n      let voertuigtypesexclude = [];\n      try {\n        console.log('add item %s to voertuigtypesexclude filter %o', action.payload, state)\n        if(state.voertuigtypesexclude) {\n          try {\n            voertuigtypesexclude = state.voertuigtypesexclude.split(\",\") || []\n          } catch(ex) {\n            voertuigtypesexclude = [];\n          }\n        }\n        if(!voertuigtypesexclude.includes(action.payload)) {\n          voertuigtypesexclude.push(action.payload);\n        }\n      } catch(ex) {\n        voertuigtypesexclude = [];\n      }\n\n      return {\n        ...state,\n        voertuigtypesexclude: voertuigtypesexclude.join(\",\")\n      };\n    }\n    case 'REMOVE_FROM_FILTER_VOERTUIGTYPES_EXCLUDE': {\n      console.log('remove item %o from voertuigtypesexclude filter', action.payload)\n      let voertuigtypesexclude = [];\n      try {\n        voertuigtypesexclude = state.voertuigtypesexclude.split(\",\") || [];\n        voertuigtypesexclude = voertuigtypesexclude.filter((item) => {return item.toString() !== action.payload.toString() });\n      } catch(ex) {\n        voertuigtypesexclude = [];\n      }\n\n      return {\n          ...state,\n          voertuigtypesexclude: voertuigtypesexclude.join(\",\")\n      };\n    }\n    case 'CLEAR_FILTER_VOERTUIGTYPES_EXCLUDE': {\n      console.log('clear voertuigtypesexclude filter')\n\n      return {\n          ...state,\n          voertuigtypesexclude: ''\n      };\n    }\n    case 'ADD_TO_FILTER_AANBIEDERS_EXCLUDE': {\n      // console.log('add item %s to aanbiedersexclude filter %o', action.payload, state)\n      let aanbiedersexclude = [];\n      try {\n        if(state.aanbiedersexclude) {\n          aanbiedersexclude = state.aanbiedersexclude.split(\",\") || []\n        }\n        if(!aanbiedersexclude.includes(action.payload)) {\n          aanbiedersexclude.push(action.payload);\n        }\n      } catch(ex) {\n        aanbiedersexclude = [];\n      }\n    \n      return {\n          ...state,\n          aanbiedersexclude: aanbiedersexclude.join(\",\")\n      };\n    }\n    case 'REMOVE_FROM_FILTER_AANBIEDERS_EXCLUDE': {\n      console.log('remove item %s from aanbiedersexclude filter', action.payload)\n      let aanbiedersexclude = [];\n      try {\n        aanbiedersexclude = state.aanbiedersexclude.split(\",\") || [];\n        aanbiedersexclude = aanbiedersexclude.filter((item) => { return item !== action.payload });\n      } catch(ex) {\n        aanbiedersexclude = [];\n      }\n    \n      return {\n          ...state,\n          aanbiedersexclude: aanbiedersexclude.join(\",\")\n      };\n    }\n    case 'CLEAR_FILTER_AANBIEDERS_EXCLUDE': {\n      console.log('clear aanbiedersexclude filter')\n    \n      return {\n          ...state,\n          aanbiedersexclude: ''\n      };\n    }\n    case 'RESET_FILTER': {\n      console.log('reset filter')\n      \n      return initialState;\n    }\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  user_data: null\n}\n  \nexport default function vehicles(state = initialState, action) {\n    switch(action.type) {\n        case 'SET_USER': {\n            const user = action.payload\n            return {\n                user_data: user\n            }\n        }\n        case 'CLEAR_USER': {\n            return { user_data: null }\n        }\n        default:\n            return state;\n    }\n}","const md5 = require('md5');\n\nconst initialState = {\n  data: [],\n  filter: \"\"\n}\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_ZONES_GEODATA': {\n      let currentdata = state.data ? state.data: [];\n\n      let datachanged = md5(JSON.stringify(currentdata))!==md5(JSON.stringify(action.payload.data))\n      let filterchanged = state.filter!==action.payload.filter;\n\n      // if(datachanged) { console.log('SET_ZONES_GEODATA - data changed')}\n      // if(filterchanged) { console.log('SET_ZONES_GEODATA - filter changed')}\n      \n      if(!datachanged&&!filterchanged) {\n        // console.log('SET_ZONES_GEODATA - no changes')\n        return state;\n      }\n      \n      // console.log('SET_ZONES_GEODATA - changes: data %s / filter %s', datachanged, filterchanged)\n      return {\n          ...state,\n          data: action.payload.data,\n          filter: action.payload.filter\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","export const DISPLAYMODE_PARKEERDATA_HEATMAP = 'parkeerdata-heatmap';\nexport const DISPLAYMODE_PARKEERDATA_CLUSTERS = 'parkeerdata-clusters';\nexport const DISPLAYMODE_PARKEERDATA_VOERTUIGEN = 'parkeerdata-voertuigen';\nexport const DISPLAYMODE_VERHUURDATA = 'verhuurdata';\n\nexport const DATASOURCE_VOERTUIGEN = 'vehicles';\nexport const DATASOURCE_VERHUUR = 'rentals';\n\nconst initialState = {\n  zones_visible: false,\n  displaymode: DISPLAYMODE_PARKEERDATA_VOERTUIGEN,\n  extent: [],\n}\n\nconst md5 = require('md5');\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'LAYER_SET_DISPLAYMODE': {\n      // console.log('reducer layer set displaymode %s', action.payload)\n      return {\n          ...state,\n          displaymode: action.payload\n      };\n    }\n    case 'LAYER_TOGGLE_ZONES_VISIBLE': {\n      // console.log('reducer layer set zones visible %s', !state.zones_visible)\n      return {\n          ...state,\n          zones_visible: !state.zones_visible\n      };\n    }\n    case 'LAYER_SET_ZONES_EXTENT': {\n      if(md5(JSON.stringify(action.payload))!==md5(JSON.stringify(state.extent||[]))) {\n        console.log(\"set extent to %o\", action.payload)\n        return {\n            ...state,\n            extent: action.payload\n        };\n      } else {\n        // console.log(\"set extent - not changed\")\n        return state;\n      }\n    }\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  // FILTERBAR: true,\n  SELECTLAYER: true\n}\n\nexport default function ui(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_VISIBILITY': {\n      return {\n        ...state,\n        [action.payload.name]: action.payload.visibility\n      };\n    }\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport last_update from './last_update';\nimport metadata from './metadata';\nimport vehicles from './vehicles';\nimport rentals from './rentals';\nimport filter from './filter';\nimport authentication from './authentication';\nimport zones_geodata from './zones_geodata';\nimport layers from './layers';\nimport ui from './ui';\n\nexport default combineReducers({\n  last_update,\n  metadata,\n  vehicles,\n  rentals,\n  filter,\n  authentication,\n  zones_geodata,\n  layers,\n  ui\n})","export default function lastUpdate(state = false, action) {\n  switch(action.type) {\n    case 'SET_LAST_UPDATE': {\n      return action.payload;\n    }\n\n    default:\n      return state;\n  }\n}\n","import React from 'react';\n\nexport function IconButtonClose(props) {\n  return (\n    <div\n      {...props}\n      className=\"w-16 h-16 flex items-center justify-center p-3 rounded-full disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:shadow-outline\"\n    >\n      <svg\n        height=\"100%\"\n        id=\"Layer_1\"\n        version=\"1.1\"\n        viewBox=\"0 0 512 512\"\n        width=\"100%\"\n        >\n        <path d=\"M437.5,386.6L306.9,256l130.6-130.6c14.1-14.1,14.1-36.8,0-50.9c-14.1-14.1-36.8-14.1-50.9,0L256,205.1L125.4,74.5  c-14.1-14.1-36.8-14.1-50.9,0c-14.1,14.1-14.1,36.8,0,50.9L205.1,256L74.5,386.6c-14.1,14.1-14.1,36.8,0,50.9  c14.1,14.1,36.8,14.1,50.9,0L256,306.9l130.6,130.6c14.1,14.1,36.8,14.1,50.9,0C451.5,423.4,451.5,400.6,437.5,386.6z\"/>\n      </svg>\n    </div>);\n}\n\nexport function IconButtonFilter(props) {\n  return (\n    <div\n      {...props}\n      className=\"w-12 h-8 box-border border-2 border-black flex items-center justify-center p-3 rounded-full disabled:bg-transparent hover:bg-gray-300 active:bg-gray-400 focus:bg-gray-400 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:shadow-outline\"\n    >\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 22.13 15.72\">\n        <path d=\"M7.16 0a3.7 3.7 0 0 0-3.6 2.86H.85a.85.85 0 0 0 0 1.7h2.71a3.7 3.7 0 0 0 7.2 0h10.52a.85.85 0 0 0 0-1.7H10.76A3.7 3.7 0 0 0 7.16 0zm0 5.72a2 2 0 1 1 2-2 2 2 0 0 1-2 2zM15 8.3a3.7 3.7 0 0 0-3.6 2.86H.85a.85.85 0 0 0 0 1.7h10.52a3.7 3.7 0 0 0 7.2 0h2.71a.85.85 0 0 0 0-1.7h-2.71A3.7 3.7 0 0 0 15 8.3zm0 5.7a2 2 0 1 1 2-2 2 2 0 0 1-2 2z\"></path>\n      </svg>\n    </div>);\n}\n\n","import React, { useState } from 'react';\n// import moment from 'moment';\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport './Menu.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { IconButtonFilter } from './IconButtons.jsx';\nimport { clearUser } from '../actions/authentication.js';\n\nfunction MenuItem(props) {\n  const [pathName, setPathName] = useState(document.location.pathname);\n\n  const isActive = pathName === props.path;\n  const icon = (isActive ? props.icon.replace('.png', '-active.png') : props.icon);\n\n  // Log pathname on navigate\n  // https://v5.reactrouter.com/web/api/Hooks\n  let location = useLocation();\n  React.useEffect(() => {\n    setPathName(document.location.pathname);\n  }, [location]);\n\n  return <Link className={`\n      text-menu\n      ${isActive ? 'is-active' : ''}\n    `}\n    to={props.path}\n    href={props.href}\n    onClick={props.onClick}\n    >\n    {icon ? <img src={icon} /> : ''}\n    <span className={`${(isActive || ! icon) ? 'inline-block' : 'hidden'} sm:inline-block  ml-2`}>\n      {props.text}\n    </span>\n  </Link>\n}\n\nfunction SubMenuItem(props) {\n  return <Link className={`text-link`}\n    to={props.path}\n    href={props.href}\n    onClick={props.onClick}\n    >\n    <span className={`block`}>\n      {props.text}\n    </span>\n  </Link>\n}\n\nfunction Menu() {\n  const [pathName, setPathName] = useState(document.location.pathname);\n  const [subMenuIsActive, setSubMenuIsActive] = useState(false);\n\n  const dispatch = useDispatch();\n  // let dateToShow = moment(moment().format('2021-11-06 06:00'));\n\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n\n  //Get the value of a State variable, and store it to a const, to use it later\n  const showfilter = useSelector(state => {\n    return state.filter ? state.filter.visible : false;\n  });\n\n  const extent = useSelector(state => {\n    return state.layers ? state.layers.extent : [];\n  });\n\n  const toggleFilter = e => {\n    dispatch({\n      type: 'SET_FILTER_VISIBLE',\n      payload: !showfilter\n    })\n  }\n\n  const logOut = () => {\n    if (isLoggedIn) {\n      dispatch( clearUser() );\n    }\n  }\n\n  return (\n    <div className=\"\n      Menu\n      fixed\n      w-full\n      mx-0\n      bottom-0\n      bg-white\n      sm:bg-transparent\n      sm:bottom-0.5\n      sm:mx-8\n      sm:w-auto\n    \">\n      <div className=\"\n        Menu-inner\n        px-4\n        mx-auto\n        bg-white\n        box-border\n        w-full\n        flex\n        flex-col\n        justify-center\n        sm:shadow-lg\n        sm:m-4\n        sm:mb-1\n        sm:rounded-3xl\n      \">\n\n        <div className=\"\n          whitespace-nowrap\n        \">\n\n          {isLoggedIn && <>\n            <MenuItem\n              text={'Aanbod'}\n              path={'/map/park'}\n              icon={'/images/components/Menu/icon-aanbod.png'}\n            />\n\n            <MenuItem\n              text={'Verhuringen'}\n              path={'/map/rentals'}\n              icon={'/images/components/Menu/icon-verhuringen.png'}\n            />\n\n            <MenuItem\n              text={'Ontwikkeling'}\n              path={'/stats/overview'}\n              icon={'/images/components/Menu/icon-ontwikkeling.png'}\n            />\n\n            <MenuItem\n              text={'...'}\n              onClick={(e) => {\n                e.preventDefault();\n                setSubMenuIsActive(! subMenuIsActive)\n              }}\n            />\n\n          </>}\n          \n          {! isLoggedIn && <>\n            <Link className=\"text-menu\" to=\"/login\">\n              Log in\n            </Link>\n          </>}\n\n          {isLoggedIn && false && <Link className={`\n            text-menu\n            ${pathName === '/monitoring' ? 'is-active' : ''}\n          `} to=\"/monitoring\">\n            Monitor\n          </Link>}\n\n          {/*\n          <Link to=\"/\" className={`text-menu ${pathName === '' ? 'is-active' : ''}`} onClick={(e) => {\n            e.preventDefault();\n            dispatch({\n              type: 'SET_FILTER_DATUM',\n              payload: dateToShow.toISOString()\n            })\n            clearInterval(TO_interval);\n            TO_interval = setInterval(x => {\n              dateToShow.add(30, 'minutes');\n              dispatch({\n                type: 'SET_FILTER_DATUM',\n                payload: dateToShow.toISOString()\n              })\n            }, 1200);\n            // Stop after 10 minutes\n            setTimeout(x => {\n              clearInterval(TO_interval);\n            }, 60 * 1000 * 10);\n          }}>\n            \n          </Link>\n          */}\n\n        </div>\n\n        {subMenuIsActive && <>\n          <div className=\"\n            Menu-subMenu\n            absolute\n          \">\n            <SubMenuItem\n              text={'Log uit'}\n              onClick={logOut}\n            />\n            <SubMenuItem\n              text={'Feedback '}\n              href=\"mailto:info@deelfietsdashboard.nl?subject=Feedback Dashboard Deelmobiliteit&body=Ik heb feedback: \"\n            />\n          </div>\n        </>}\n\n      </div>\n    </div>\n  )\n\n  // <nav class=\"flex items-center justify-around flex-wrap bg-teal-500 p-6\">\n  // </nav>\n}\n\nexport default Menu;\n\n","import { SET_USER, CLEAR_USER } from \"./actionTypes\";\n\nexport const setUser = (user) => ({\n  type: SET_USER,\n  payload: user\n})\n\nexport const clearUser = () => ({\n  type: CLEAR_USER,\n  payload: null\n})\n","// vehicles\nexport const SET_VEHICLES = 'SET_VEHICLES';\nexport const SET_VEHICLE = 'SET_VEHICLE';\nexport const CLEAR_VEHICLES = 'CLEAR_VEHICLES';\n\n// authentication\nexport const SET_USER = 'SET_USER';\nexport const CLEAR_USER = 'CLEAR_USER';\n","import { useDispatch, useSelector } from 'react-redux';\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport './MenuSecondaryItem.css';\n// import { IconButtonFilter } from './IconButtons.jsx';\n// import { clearUser } from '../actions/authentication';\n\nfunction MenuSecondaryItem(props) {\n  return (\n    <a\n      className=\"MenuSecondaryItem mx-2\"\n      onClick={props.onClick}\n    >\n      {props.text}\n    </a>\n  )\n}\n\nfunction MenuSecondary() {\n  const dispatch = useDispatch()\n\n  const setVisibility = (name, visibility) => {\n    dispatch({\n      type: `SET_VISIBILITY`,\n      payload: {\n        name: name,\n        visibility: visibility\n      }\n    })\n  }\n\n  return (\n    <div className=\"MenuSecondary block sm:hidden absolute left-0\">\n      <MenuSecondaryItem\n        text=\"Filters\"\n        onClick={() => {\n          setVisibility('MenuSecondary.filters', true)\n        }}\n      />\n      <MenuSecondaryItem\n        text=\"Lagen\"\n        onClick={() => {\n          setVisibility('MenuSecondary.layers', true)\n        }}\n      />\n    </div>\n  )\n}\n\nexport default MenuSecondary;\n\n","\nexport const getProviderColor = (providers, providerName) => {\n  const found = providers.filter(x => {\n    return x.system_id === providerName;\n  });\n  return found && found[0] ? found[0].color : '#666';\n}\n","import vehiclesPoint from './vehicles-point.js';\nimport vehiclesHeatmap from './vehicles-heatmap.js';\nimport vehiclesHeatmapCityLevel from './vehicles-heatmap-city-level.js';\nimport vehiclesClusters from './vehicles-clusters.js';\nimport vehiclesClustersCount from './vehicles-clusters-count.js';\nimport vehiclesClustersPoint from './vehicles-clusters-point.js';\nimport rentalsPoint from './rentals-point.js';\nimport zonesGeodata from './zones-geodata.js';\n\nexport const layers = {\n  'vehicles-heatmap': vehiclesHeatmap,// Unused\n  'vehicles-point': vehiclesPoint,\n  'vehicles-clusters': vehiclesClusters,\n  'vehicles-clusters-count': vehiclesClustersCount,\n  'vehicles-clusters-point': vehiclesClustersPoint,\n  'vehicles-heatmap-city-level': vehiclesHeatmapCityLevel,// Only one used\n  'rentals-point': rentalsPoint,\n  'zones-geodata': zonesGeodata\n}\n","const layer = {\n  'id': 'vehicles-heatmap',\n  'type': 'heatmap',\n  'source': 'vehicles',\n  'maxzoom': 9,\n  'paint': {\n    // Increase the heatmap weight based on frequency and property magnitude\n    'heatmap-weight': [\n      'interpolate',\n      ['linear'],\n      ['get', 'mag'],\n      0,\n      0,\n      6,\n      1\n    ],\n    // Increase the heatmap color weight weight by zoom level\n    // heatmap-intensity is a multiplier on top of heatmap-weight\n    'heatmap-intensity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      1,\n      9,\n      3\n    ],\n    // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n    // Begin color ramp at 0-stop with a 0-transparancy color\n    // to create a blur-like effect.\n    'heatmap-color': [\n      'interpolate',\n      ['linear'],\n      ['heatmap-density'],\n      0,\n      'rgba(33,102,172,0)',\n      0.2,\n      'rgb(103,169,207)',\n      0.4,\n      'rgb(209,229,240)',\n      0.6,\n      'rgb(253,219,199)',\n      0.8,\n      'rgb(239,138,98)',\n      1,\n      'rgb(178,24,43)'\n    ],\n    // Adjust the heatmap radius by zoom level\n    'heatmap-radius': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      2,\n      9,\n      20\n    ],\n    // Transition from heatmap to circle layer by zoom level\n    'heatmap-opacity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      7,\n      1,\n      9,\n      0\n    ]\n  }\n}\n\nexport default layer;\n","const layer = {\n  'id': 'vehicles-point',\n  'type': 'symbol',\n  'source': 'vehicles',\n  'layout': {\n    'icon-image': [\"concat\", ['get', 'system_id'], ':', ['get', 'duration_bin']],\n    // 'icon-size': 0.4,\n    'icon-size': [\n      'interpolate',\n        ['linear'],\n        ['zoom'],\n        11,\n        0.4,\n        16,\n        1.0\n      ],\n    'icon-allow-overlap': true,\n  },\n  'minzoom': 7,\n  // 'paint': {\n  // // Size circle radius by earthquake magnitude and zoom level\n  // 'circle-radius': [\n  //   'interpolate', ['linear'], ['zoom'],\n  //   12, 2,\n  //   16, ['*', 2, ['get', 'amount']]\n  // ],\n  // Color circle by earthquake magnitude\n  // 'circle-color': [\n  //   'interpolate',\n  //   ['linear'],\n  //   ['get', 'mag'],\n  //   1,\n  //   'rgba(33,102,172,0)',\n  //   2,\n  //   'rgb(103,169,207)',\n  //   3,\n  //   'rgb(209,229,240)',\n  //   4,\n  //   'rgb(253,219,199)',\n  //   5,\n  //   'rgb(239,138,98)',\n  //   6,\n  //   'rgb(178,24,43)'\n  // ],\n  // 'circle-stroke-color': 'white',\n  // 'circle-stroke-width': 1,\n  // Transition from heatmap to circle layer by zoom level\n    // 'circle-opacity': [\n    //   'interpolate',\n    //   ['linear'],\n    //   ['zoom'],\n    //   7,\n    //   0,\n    //   8,\n    //   1\n    // ],\n    // 'circle-color': ['get', 'color']\n  //}\n}\n\nexport default layer;\n","// Example code: https://maplibre.org/maplibre-gl-js-docs/example/cluster/\nconst layer = {\n  'id': 'vehicles-clusters',\n  'type': 'circle',\n  'source': 'vehicles-clusters',\n  filter: ['has', 'point_count'],\n  paint: {\n    // Use step expressions (https://maplibre.org/maplibre-gl-js-docs/style-spec/#expressions-step)\n    // with three steps to implement three types of circles:\n    //   * Blue, 20px circles when point count is less than 100\n    //   * Yellow, 30px circles when point count is between 100 and 750\n    //   * Pink, 40px circles when point count is greater than or equal to 750\n    'circle-color': '#1FA024',\n    'circle-radius': [\n      'step',\n      ['get', 'point_count'],\n      20, 100,\n      30, 750,\n      40\n    ]\n  },\n  'maxzoom': 18\n}\n\nexport default layer;\n","// Example code: https://maplibre.org/maplibre-gl-js-docs/example/cluster/\nconst layer = {\n  'id': 'vehicles-clusters-count',\n  'type': 'symbol',\n  'source': 'vehicles-clusters',\n  filter: ['has', 'point_count'],\n  layout: {\n    'text-field': '{point_count_abbreviated}',\n    'text-font': ['DIN Offc Pro Medium', 'Arial Unicode MS Bold'],\n    'text-size': [\n      'step',\n      ['get', 'point_count'],\n      16, 100,\n      20, 750,\n      30\n    ]\n\n  },\n  paint: {\n    'text-color': '#fff',\n    // 'text-halo-color': '#fff',\n    // 'text-halo-width': 2\n  },\n  'maxzoom': 18\n}\n\nexport default layer;\n","const layer = {\n  'id': 'vehicles-clusters-point',\n  'type': 'symbol',\n  'source': 'vehicles',\n  filter: ['!', ['has', 'point_count']],\n  'layout': {\n    'icon-image': [\"concat\", ['get', 'system_id'], ':', ['get', 'duration_bin']],\n    'icon-size': 1,\n    'icon-allow-overlap': true,\n  },\n  'minzoom': 18\n}\n\nexport default layer;\n","const layer = {\n  'id': 'vehicles-heatmap-city-level',\n  'type': 'heatmap',\n  'source': 'vehicles',\n  'paint': {\n    // Increase the heatmap weight based on frequency and property magnitude\n    'heatmap-weight': [\n      'interpolate',\n      ['linear'],\n      ['get', 'mag'],\n      0, 0.0001,\n      10, 1\n    ],\n\n    'heatmap-intensity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0, 0.0025,\n      5, 0.005,\n      7.5, 0.01,\n      10, 0.05,\n      12, 0.075,/* city level */\n      15, 0.1,\n      20, 1,\n    ],\n\n    // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n    // Begin color ramp at 0-stop with a 0-transparancy color\n    // to create a blur-like effect.\n    'heatmap-color': [\n      'interpolate',\n      ['linear'],\n      ['heatmap-density'],\n      0, 'rgba(0, 0, 255, 0)',\n      0.25, '#ffd837',\n      0.5, '#fe862e',\n      0.75, '#fd3e48',\n      1, '#9a231f'\n    ],\n\n    // Adjust the heatmap radius by zoom level\n    // Groter = grotere radius = duidelijker waar het druk is\n    'heatmap-radius': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0, 10,\n      10, 12,\n      12, 20,\n      15, 40,\n      20, 60,\n      30, 100,\n      40, 100\n    ],\n    'heatmap-opacity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      7, 1,\n      9, 0.8\n    ]\n  }\n}\n\nexport default layer;\n","const layer = {\n  'id': 'rentals-point',\n  'type': 'symbol',\n  'source': 'rentals',\n  'layout': {\n    'icon-image': [\"concat\", ['get', 'system_id'], ':', ['get', 'duration_bin']],\n    'icon-size': 1,\n    'icon-allow-overlap': true,\n  },\n  'minzoom': 7,\n  // 'paint': {\n  // // Size circle radius by earthquake magnitude and zoom level\n  // 'circle-radius': [\n  //   'interpolate', ['linear'], ['zoom'],\n  //   12, 2,\n  //   16, ['*', 2, ['get', 'amount']]\n  // ],\n  // Color circle by earthquake magnitude\n  // 'circle-color': [\n  //   'interpolate',\n  //   ['linear'],\n  //   ['get', 'mag'],\n  //   1,\n  //   'rgba(33,102,172,0)',\n  //   2,\n  //   'rgb(103,169,207)',\n  //   3,\n  //   'rgb(209,229,240)',\n  //   4,\n  //   'rgb(253,219,199)',\n  //   5,\n  //   'rgb(239,138,98)',\n  //   6,\n  //   'rgb(178,24,43)'\n  // ],\n  // 'circle-stroke-color': 'white',\n  // 'circle-stroke-width': 1,\n  // Transition from heatmap to circle layer by zoom level\n    // 'circle-opacity': [\n    //   'interpolate',\n    //   ['linear'],\n    //   ['zoom'],\n    //   7,\n    //   0,\n    //   8,\n    //   1\n    // ],\n    // 'circle-color': ['get', 'color']\n  //}\n}\n\nexport default layer;\n","const layer = {\n  'id': 'zones-geodata',\n  'type': 'fill',\n  'source': 'zones-geodata',\n  'paint': {\n    'fill-color': '#1010e0',\n    'fill-opacity': 0.6\n  },\n}\n// 'filter': ['==', '$type', 'MultiPolygon'],\n// 'minzoom': 1,\n\nexport default layer;","export const sources = {\n  'vehicles': {\n    'type': 'geojson',\n  },\n  'vehicles-clusters': {\n    'type': 'geojson',\n    'cluster': true,\n    // 'clusterMaxZoom': 17, // Max zoom to cluster points on\n    'clusterRadius': 50 // Radius of each cluster when clustering points (defaults to 50)\n  },\n  'rentals': {\n    'type': 'geojson',\n  },\n}\n","// const initialMarker = `<svg id=\"Pointer_Green_met_Aanbieder\" data-name=\"Pointer Green met Aanbieder\" xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=200\" viewBox=\"0 0 24 24\">\n//     <circle id=\"Ellipse_129\" data-name=\"Ellipse 129\" cx=\"12\" cy=\"12\" r=\"12\" fill=\"#1fa024\" opacity=\"0.304\"/>\n//     <g id=\"Ellipse_130\" data-name=\"Ellipse 130\" transform=\"translate(2 2)\" fill=\"#1fa024\" stroke=\"#fff\" stroke-width=\"1\">\n//         <circle cx=\"10\" cy=\"10\" r=\"10\" stroke=\"none\"/>\n//         <circle cx=\"10\" cy=\"10\" r=\"9.5\" fill=\"none\"/>\n//     </g>\n//     <circle id=\"Ellipse_192\" data-name=\"Ellipse 192\" cx=\"4.5\" cy=\"4.5\" r=\"4.5\" transform=\"translate(14 1)\" fill=\"#1f3ff0\"/>\n// </svg>\n// `;\n\n// const testMarker = `\n// <svg id=\"Pointer_Green_met_Aanbieder\" data-name=\"Pointer Green met Aanbieder\" xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"932\" viewBox=\"0 0 24 24\">\n//         <circle id=\"Ellipse_129\" data-name=\"Ellipse 129\" cx=\"12\" cy=\"12\" r=\"12\" fill=\"#1fa024\" opacity=\"0.304\"/>\n//             <g id=\"Ellipse_130\" data-name=\"Ellipse 130\" transform=\"translate(2 2)\" fill=\"#1fa024\" stroke=\"#fff\" stroke-width=\"1\">\n//                 <circle cx=\"10\" cy=\"10\" r=\"10\" stroke=\"none\"/>\n//                 <circle cx=\"10\" cy=\"10\" r=\"9.5\" fill=\"none\"/>\n//             </g>\n//         <circle id=\"Ellipse_192\" data-name=\"Ellipse 192\" cx=\"4.5\" cy=\"4.5\" r=\"4.5\" transform=\"translate(14 1)\" fill=\"#44ff33\"/>\n//         </svg>`;\n\n// const testMarker2 = `\n// <svg id=\"Pointer_Green_met_Aanbieder\" data-name=\"Pointer Green met Aanbieder\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"200\" height=\"200\">\n//     <circle id=\"Ellipse_129\" data-name=\"Ellipse 129\" cx=\"12\" cy=\"12\" r=\"12\" fill=\"#1fa024\" opacity=\"0.304\"/>\n//     <g id=\"Ellipse_130\" data-name=\"Ellipse 130\" transform=\"translate(2 2)\" fill=\"#1fa024\" stroke=\"#fff\" stroke-width=\"1\">\n//         <circle cx=\"10\" cy=\"10\" r=\"10\" stroke=\"none\"/>\n//         <circle cx=\"10\" cy=\"10\" r=\"9.5\" fill=\"none\"/>\n//     </g>\n//     <circle id=\"Ellipse_192\" data-name=\"Ellipse 192\" cx=\"4.5\" cy=\"4.5\" r=\"4.5\" transform=\"translate(14 1)\" fill=\"#1f3ff0\"/>\n// </svg>`;\n\n// const compare = `<svg xmlns=\"http://www.w3.org/1999/xhtml\" viewbox=\"0 0 24 24\" width=\"200\" height=\"200\">\n// <circle id=\"Ellipse_129\" data-name=\"Ellipse 129\" cx=\"12\" cy=\"12\" r=\"12\" fill=\"#1fa024\" opacity=\"0.304\">\n// <g id=\"Ellipse_130\" data-name=\"Ellipse 130\" transform=\"translate(2 2)\" fill=\"#1fa024\" stroke=\"#fff\" stroke-width=\"1\">\n//     <circle cx=\"10\" cy=\"10\" r=\"10\" stroke=\"none\">\n//     <circle cx=\"10\" cy=\"10\" r=\"9.5\" fill=\"none\">\n// </circle></circle></g>\n// <circle id=\"Ellipse_192\" data-name=\"Ellipse 192\" cx=\"4.5\" cy=\"4.5\" r=\"4.5\" transform=\"translate(14 1)\" fill=\"#1f3ff0\">\n// </circle></circle></svg>\n//\n// `\n\nconst initialMarker2 = `\n    <circle id=\"Ellipse_129\" data-name=\"Ellipse 129\" cx=\"12\" cy=\"12\" r=\"12\" fill=\"#1fa024\" opacity=\"0.304\"></circle>\n    <g id=\"Ellipse_130\" data-name=\"Ellipse 130\" transform=\"translate(2 2)\" fill=\"#1fa024\" stroke=\"#fff\" stroke-width=\"1\">\n        <circle cx=\"10\" cy=\"10\" r=\"10\" stroke=\"none\"></circle>\n        <circle cx=\"10\" cy=\"10\" r=\"9.5\" fill=\"none\"></circle>\n    </g>\n    <circle id=\"Ellipse_192\" data-name=\"Ellipse 192\" cx=\"4.5\" cy=\"4.5\" r=\"4.5\" transform=\"translate(14 1)\" fill=\"#1f3ff0\"></circle>\n`;\n\nasync function getVehicleMarkers(operatorColor) {\n    var gradients = ['#1FA024', '#48E248', '#FFD837', '#FD3E48'];\n    var markers = [];\n    for (const durationIndicationColor of gradients) {\n        var marker = await styleVehicleMarker(operatorColor,  durationIndicationColor);\n        markers.push(marker);\n    }\n    return markers;\n}\n\nasync function styleVehicleMarker(operatorColor, durationIndicationColor) {\n    var xmlns = \"http://www.w3.org/2000/svg\";\n    var svgElement = document.createElementNS(xmlns, \"svg\");\n    svgElement.innerHTML = initialMarker2;\n    var svg = svgElement;\n    var width = {};\n    var height = {};\n \n    // console.log(svg.firstChild.tagName);\n    svg.setAttribute(\"viewBox\", \"0 0 24 24\");\n    var test = svg.getElementById(\"Ellipse_192\");\n    test.setAttribute(\"fill\", operatorColor);\n\n    test = svg.getElementById(\"Ellipse_129\");\n    test.setAttribute(\"fill\", durationIndicationColor);\n\n    test = svg.getElementById(\"Ellipse_130\");\n    test.setAttribute(\"fill\", durationIndicationColor);\n\n    // svg = svg.querySelector('svg');\n    width.value = 25;\n    height.value = 25;\n    \n    var canvas = document.createElement('canvas');\n    svg.setAttribute('width', width.value);\n    svg.setAttribute('height', height.value);\n    canvas.width = width.value;\n    canvas.height = height.value;\n    var data = new XMLSerializer().serializeToString(svg);\n    var win = window.URL || window.webkitURL || window;\n    var img = new Image();\n    var blob = new Blob([data], { type: 'image/svg+xml' });\n\n    var url = win.createObjectURL(blob);\n    img.src = url;\n    await img.decode();\n    var context = canvas.getContext('2d');\n    context.drawImage(img, 0, 0);\n    win.revokeObjectURL(url);\n \n    return new Uint8Array(context.getImageData(0, 0, img.width, img.height).data.buffer);\n}\n\nexport default getVehicleMarkers;\n","import { useRef, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport maplibregl from 'maplibre-gl';\nimport moment from 'moment';\n// import 'moment/min/moment-with-locales'\nimport localization from 'moment/locale/nl'\n\nimport './MapComponent.css';\n\nimport {getProviderColor} from '../../helpers/providers.js';\n\nimport {layers} from './layers';\nimport {sources} from './sources.js';\nimport getVehicleMarkers from './../Map/vehicle_marker.js';\n\nconst md5 = require('md5');\n\n// Set language for momentJS\nmoment.locale('nl', localization);\n\nconst initPopupLogic = (currentMap, providers, isLoggedIn) => {\n  // Docs: https://maplibre.org/maplibre-gl-js-docs/example/popup-on-click/\n  const layerNamesToApplyPopupLogicTo = [\n    'vehicles-point',\n    'vehicles-clusters-point'\n  ];\n\n  layerNamesToApplyPopupLogicTo.map((layerName) => {\n    // When a click event occurs on a feature in the places layer, open a popup at the\n    // location of the feature, with description HTML from its properties.\n    currentMap.on('click', layerName, function (e) {\n      const vehicleProperties = e.features[0].properties;\n      const providerColor = getProviderColor(providers, vehicleProperties.system_id)\n\n      var coordinates = e.features[0].geometry.coordinates.slice();\n      // var description = e.features[0].properties.description;\n       \n      // Ensure that if the map is zoomed out such that multiple\n      // copies of the feature are visible, the popup appears\n      // over the copy being pointed to.\n      while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {\n        coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;\n      }\n\n      new maplibregl.Popup()\n        .setLngLat(coordinates)\n        .setHTML(`\n          <h1 class=\"mb-2\">\n            <span\n              class=\"rounded-full inline-block w-4 h-4\"\n              style=\"background-color: ${providerColor};position: relative;top: 2px\">\n            </span>\n            <span class=\"Map-popup-title ml-1\" style=\"color: ${providerColor};\">\n              ${vehicleProperties.system_id}\n            </span>\n          </h1>\n          <div class=\"Map-popup-body\">\n            Staat hier sinds ${moment(vehicleProperties.in_public_space_since).locale('nl').fromNow()}<br />\n            Geparkeerd sinds: ${moment(vehicleProperties.in_public_space_since).format('DD-MM-YYYY HH:mm')}\n          </div>\n        `)\n        .addTo(currentMap);\n    });\n    // Change the cursor to a pointer when the mouse is over the places layer.\n    currentMap.on('mouseenter', layerName, function () {\n      currentMap.getCanvas().style.cursor = 'pointer';\n    });\n     \n    // Change it back to a pointer when it leaves.\n    currentMap.on('mouseleave', layerName, function () {\n      currentMap.getCanvas().style.cursor = '';\n    });\n  })\n   \n}\n\nfunction MapComponent(props) {\n\n  console.log('Map component')\n  // Get vehicles from store\n  const vehicles = useSelector(state => {\n    return state.vehicles || null;\n  });\n\n  const rentals = useSelector(state => {\n    return state.rentals || null;\n  });\n\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n\n  // Get extent (map boundaries) from store\n  const extent = useSelector(state => {\n    return state.layers ? state.layers.extent : null;\n  }) || [];\n\n  const providers = useSelector(state => {\n    return (state.metadata && state.metadata.aanbieders) ? state.metadata.aanbieders : [];\n  });\n\n  const zones_geodata = useSelector(state => {\n    if(!state||!state.zones_geodata) {\n      return null;\n    }\n\n    return state.zones_geodata;\n  });\n  \n  const mapContainer = props.mapContainer;\n  const [lng] = useState(4.4671854);\n  const [lat] = useState(51.9250836);\n  const [zoom] = useState(15);\n  const [counter, setCounter] = useState(0);\n  const [zonesGeodataHash, setZonesGeodataHash] = useState(\"\");\n  const [sourceHash, setSourceHash] = useState([]);\n  let map = useRef(null);\n\n  // Init MapLibre map\n  // Docs: https://maptiler.zendesk.com/hc/en-us/articles/4405444890897-Display-MapLibre-GL-JS-map-using-React-JS\n  useEffect(() => {\n    const initMap = () => {\n      \n      if (map.current) return;\n      map.current = new maplibregl.Map({\n        container: mapContainer.current,\n        // style: 'mapbox://styles/mapbox/streets-v11',\n        style: 'mapbox://styles/nine3030/ckv9ni7rj0xwq15qsekqwnlz5',//TODO: Move to CROW\n        accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n        center: [lng, lat],\n        zoom: zoom,\n        maxZoom: 19,\n        attributionControl: false// Hide info icon\n      });\n\n      // Add controls\n      map.current.addControl(new maplibregl.NavigationControl({\n        showCompass: false\n      }), 'bottom-right');\n\n      // Add 'current location' button\n      map.current.addControl(\n        new maplibregl.GeolocateControl({\n          positionOptions: {\n            enableHighAccuracy: true\n          },\n          trackUserLocation: true\n      }), 'bottom-right');\n  \n      // Do a state update if map is loaded\n      map.current.on('load', function() {\n        setCounter(counter + 1)\n        window.ddMap = map.current;\n      });\n      \n      // Disable rotating\n      map.current.dragRotate.disable();\n      map.current.touchZoomRotate.disableRotation();\n\n    }\n    initMap();\n  }, [vehicles, zones_geodata, lng, lat, zoom, counter, mapContainer])\n\n  const addOrUpdateSource = (sourceName, sourceData) => {\n\n    // If map is not loaded: refresh state after .25 seconds\n    if (! map.current || ! map.current.isStyleLoaded()) {\n      setTimeout(() => {\n        setCounter(counter + 1)\n      }, 250)\n      return;\n    }\n\n    // If no source data is given -> stop\n    if (! sourceData) {\n      return;\n    }\n\n    // Check if source exists\n    const doesSourceExist = map.current.getSource(sourceName);\n    // Get md5 hash of the data\n    let hash = sourceData.data && sourceData.data.features ? md5(JSON.stringify(sourceData.data.features)) : md5('No data yet');\n    // If source does exist: update data\n    if(doesSourceExist) {\n      if(! sourceHash || sourceHash[sourceName] !== hash) {\n        // Set hash\n        let newSourceHashArray = sourceHash;\n        newSourceHashArray[sourceName] = hash;\n        setSourceHash(newSourceHashArray);\n        // Update data\n        map.current.getSource(sourceName).setData(sourceData.data);\n        // console.log(\"Update source zones-geodata %o\", zones_geodata)\n      } else {\n        // console.log(\"Skip update source zones-geodata %o\", zonesGeodataHash, hash)\n      }\n    }\n\n    // If source does not exist: add source\n    else {\n      // console.log(\"Add source zones-geodata %o\", zones_geodata)\n      if(sourceData) {\n        // Set hash\n        let newSourceHashArray = sourceHash;\n        newSourceHashArray[sourceName] = hash;\n        setSourceHash(newSourceHashArray);\n\n        // Set data\n        let source = Object.assign({}, {\n          'type': 'geojson',\n          'data': sourceData.data,\n        }, sources[sourceName] ? sources[sourceName] : {});\n        map.current.addSource(sourceName, source);\n      }\n    }\n  }\n\n  useEffect(() => {\n    addOrUpdateSource('vehicles', vehicles);\n    addOrUpdateSource('zones-geodata', zones_geodata);\n    addOrUpdateSource('vehicles-clusters', vehicles);\n    addOrUpdateSource('rentals', rentals);\n    // console.log(vehicles);\n    // eslint-disable-next-line\n  }, [\n    // eslint-disable-next-line\n    vehicles ? (vehicles.data ? vehicles.data.features : vehicles.data) : vehicles,\n    zones_geodata,\n    zonesGeodataHash,\n    counter,\n    props.activeSource\n  ])\n\n  // If area selection (place/zone) changes, navigate to area\n  useEffect(() => {\n    if(! map.current) return;\n    if(! extent || extent.length === 0) return;\n    map.current.fitBounds(extent);\n  }, [\n    extent\n  ])\n\n  // Add layers\n  useEffect(() => {\n    const addLayers = (vehicles, zones_geodata) => {\n      if (! map.current || ! map.current.isStyleLoaded()) {\n        setTimeout(() => {\n          setCounter(counter + 1)\n        }, 250)\n        return;\n      }\n      if (!vehicles||!zones_geodata) return;\n\n      // Remove 'old' layers\n      const allLayers = map.current.getStyle().layers;\n      allLayers.forEach(x => {\n        // Check if this is one of our layers\n        if(x.id.indexOf('vehicles-') > -1) {\n          // If so, remove\n          map.current.removeLayer(x.id)\n        }\n        if(x.id.indexOf('zones-geodata') > -1) {\n          // If so, remove\n          map.current.removeLayer(x.id)\n          setZonesGeodataHash(\"\");\n        }\n      })\n      // Add selected layers to the map\n      props.layers.forEach(x => {\n        if(props.layers.indexOf(x) >= -1) {\n          const doesLayerExist = map.current.getLayer(x);\n          if(! doesLayerExist) { map.current.addLayer(layers[x]); }\n        }\n      })\n    }\n    addLayers(vehicles, zones_geodata);\n    initPopupLogic(map.current, providers, isLoggedIn)\n  }, [vehicles, zones_geodata, counter, props.layers]);\n\n  useEffect(() => {\n    var addProviderImage = async(aanbieder) => {\n      if (map.current.hasImage(aanbieder.system_id + ':0')) {\n        // console.log(\"image already exists\");\n        return;\n      }\n      var value = await getVehicleMarkers(aanbieder.color);\n      value.forEach((img, idx) => {\n        map.current.addImage(aanbieder.system_id + \":\" + idx, { width: 25, height: 25, data: img});\n      });\n    };\n    providers.forEach(aanbieder => {\n      addProviderImage(aanbieder);\n    });\n  }, [providers]);\n\n  return null;\n}\n\nexport {\n  MapComponent\n};\n","import React, { useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport './SlideBox.css';\n\nfunction SlideBox(props) {\n  const dispatch = useDispatch();\n  const containerRef = useRef(null);\n  const NAME = props.name.toUpperCase();\n\n  const isVisible = useSelector(state => {\n    return state.ui ? state.ui[NAME] : props.isVisible;\n  });\n\n  // Show/hide slidebox on toggle click\n  const toggleSlideBox = () => {\n    dispatch({\n      type: `SET_VISIBILITY`,\n      payload: {\n        name: NAME,\n        visibility: ! isVisible\n      }\n    })\n  };\n\n  const {backgroundColor} = props.options || {};\n\n  return <div className={`\n      SlideBox\n      direction-${props.direction}\n      relative\n      ${isVisible ? '' : 'is-hidden'}\n      z-10\n    `} ref={containerRef} style={props.style || {}}>\n    <div className=\"\n      SlideBox-inner\n    \" style={{backgroundColor: backgroundColor}}>\n      {props.children}\n    </div>\n    <div\n      className=\"SlideBox-toggle-wrapper z-10 overflow-hidden\"\n      >\n      <div\n        className=\"SlideBox-toggle\"\n        onClick={() => toggleSlideBox()}\n        style={{backgroundColor: backgroundColor}}\n        >\n        <span>\n          {props.options.title || 'Lagen'}\n        </span>\n      </div>\n    </div>\n  </div>\n}\n\nexport default SlideBox;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SlideBox from '../SlideBox/SlideBox.jsx';\n\nimport './SelectLayer.css';\n\nimport {\n  DISPLAYMODE_PARKEERDATA_HEATMAP,\n  DISPLAYMODE_PARKEERDATA_CLUSTERS,\n  DISPLAYMODE_PARKEERDATA_VOERTUIGEN } from '../../reducers/layers.js';\n\nfunction SelectLayer(props) {\n  // const {setLayers, setActiveSource} = props;\n  const dispatch = useDispatch()\n  \n  const showZoneOnOff = useSelector(state => {\n    return state.filter ? state.filter.gebied!=='' : false;\n  });\n\n  const zonesVisible = useSelector(state => {\n    return state.layers ? state.layers.zones_visible : false;\n  });\n  \n  const displayMode = useSelector(state => {\n    return state.layers ? state.layers.displaymode : DISPLAYMODE_PARKEERDATA_VOERTUIGEN;\n  });\n\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n  \n  return (\n    <SlideBox name=\"SelectLayer\" direction=\"right\" options={{\n      title: 'Lagen',\n      backgroundColor: '#fff',\n    }} style={{\n      position: 'absolute',\n      top: '8px',\n      right: 0\n    }}>\n      <div className=\"SelectLayer pr-1\">\n        <div data-type=\"heat-map\" className={`layer${displayMode!==DISPLAYMODE_PARKEERDATA_HEATMAP ? ' layer-inactive':''}`}\n          onClick={() => { dispatch({ type: 'LAYER_SET_DISPLAYMODE', payload: DISPLAYMODE_PARKEERDATA_HEATMAP }) }}>\n          <span className=\"layer-title\">\n            Heat map\n          </span>\n        </div>\n\n        <div data-type=\"pointers\" className={`layer${displayMode!==DISPLAYMODE_PARKEERDATA_CLUSTERS ? ' layer-inactive':''}`}\n          onClick={() => { dispatch({ type: 'LAYER_SET_DISPLAYMODE', payload: DISPLAYMODE_PARKEERDATA_CLUSTERS }) }}>\n          <span className=\"layer-title\">\n            Clusters\n          </span>\n        </div>\n\n        <div data-type=\"vehicles\"  className={`layer${displayMode!==DISPLAYMODE_PARKEERDATA_VOERTUIGEN ? ' layer-inactive':''}`}\n          onClick={() => { dispatch({ type: 'LAYER_SET_DISPLAYMODE', payload: DISPLAYMODE_PARKEERDATA_VOERTUIGEN }) }}>\n          <span className=\"layer-title\">\n            Voertuigen\n          </span>\n        </div>\n\n        { isLoggedIn && showZoneOnOff ?\n          <div data-type=\"zones\" className={`layer${!zonesVisible ? ' layer-inactive':''}`} onClick={() => {\n              dispatch({ type: 'LAYER_TOGGLE_ZONES_VISIBLE', payload: null })\n          }}>\n            <span className=\"layer-title\">\n              Zones\n            </span>\n          </div> : null\n        }\n      </div>\n    </SlideBox>\n  )\n}\n\nexport {\n  SelectLayer\n}","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport {MapComponent} from '../components/Map/MapComponent.jsx';\nimport {SelectLayer} from '../components/SelectLayer/SelectLayer.jsx';\nimport {\n  DISPLAYMODE_PARKEERDATA_HEATMAP,\n  DISPLAYMODE_PARKEERDATA_CLUSTERS,\n  DISPLAYMODE_PARKEERDATA_VOERTUIGEN,\n  DISPLAYMODE_VERHUURDATA\n} from '../reducers/layers.js';\n\nimport './MapPage.css';\n\nfunction Map(props) {\n  const showZones = useSelector(state => {\n    return state.layers ? state.layers.zones_visible : false;\n  });\n\n  const displayMode = useSelector(state => {\n    return state.layers ? state.layers.displaymode : DISPLAYMODE_PARKEERDATA_VOERTUIGEN;\n  });\n  \n  let layers = [];\n  if(showZones) { layers.push('zones-geodata') }\n  \n  let activesource = '';\n  switch(displayMode) {\n    case DISPLAYMODE_PARKEERDATA_HEATMAP:\n      layers.push('vehicles-heatmap-city-level');\n      activesource = 'vehicles';\n      break;\n    case DISPLAYMODE_PARKEERDATA_CLUSTERS:\n      layers.push('vehicles-clusters');\n      layers.push('vehicles-clusters-count');\n      layers.push('vehicles-clusters-point');\n      activesource = 'vehicles-clusters';\n      break;\n    case DISPLAYMODE_PARKEERDATA_VOERTUIGEN:\n      layers.push('vehicles-point');\n      activesource = 'vehicles';\n      break;\n    case DISPLAYMODE_VERHUURDATA:\n      layers.push('rentals-point');\n      activesource = 'rentals';\n      break;\n    default:\n  }\n  \n  return (\n    <div className=\"flex flex-col\">\n      <div className=\"hidden sm:block\">\n        <SelectLayer\n          layers={layers}\n        />\n      </div>\n      <div className=\"flex-1 bg-red-400\">\n        <MapComponent\n          mapContainer={props.mapContainer}\n          layers={layers}\n          activeSource={activesource}\n        />\n      </div>\n  </div>);\n}\n\nexport default Map;\n","import './ContentPage.css'\nimport { useSelector } from 'react-redux';\n\nexport default function ContentPage(props) {\n  const isFilterBarVisible = useSelector(state => {\n    return state.ui ? state.ui.FILTERBAR : false;\n  });\n\n  return (\n    <div\n      className={`ContentPage ${isFilterBarVisible ? '' : 'full-page'}`}\n      style={{\n        overflowY: 'auto',\n      }}\n    >\n      <div className=\"ContentPage-inner py-8 pl-12\">\n        {props.children}\n      </div>\n    </div>\n  );\n}\n","export const createFilterparameters = (isParkingData=true, filter, metadata) => {\n  // add zones\n  let filterparams = [];\n  if(filter.zones!==\"\") {\n    filterparams.push(\"zone_ids=\"+filter.zones);\n  } else if(filter.gebied!==\"\") {\n    // create zone filter\n    let candidates = [];\n    let municipality = metadata.gebieden.find(gebied=>gebied.gm_code===filter.gebied);\n    if(undefined!==municipality) {\n      candidates = metadata.zones.filter(zone => {\n        return zone.municipality===municipality.gm_code&&zone.name===municipality.name\n      });\n    } else {\n    }\n    if(candidates.length===1) {\n      filterparams.push(\"zone_ids=\"+candidates[0].zone_id);\n    } else {\n      console.error(\"zero or multiple multiple zones found for a single municipality (%s)\", filter.gebied, candidates);\n    }\n    \n  }\n\n  if(filter.aanbiedersexclude!==\"\" && filter.aanbiedersexclude!==undefined) {\n    let filteritems = filter.aanbiedersexclude.split(\",\");\n    let selectedaanbieders = metadata.aanbieders\n      .filter(aanbieder=>(filteritems.includes(aanbieder.system_id)===false))\n      .map(aanbieder=>aanbieder.system_id).join(\",\");\n\n    filterparams.push(\"operators=\" + selectedaanbieders);\n  } else if (metadata.aanbieders.length===1) {\n    filterparams.push(\"operators=\" + metadata.aanbieders[0].system_id);\n  }\n  \n  if(filter.voertuigtypesexclude!=='' && filter.voertuigtypesexclude!==undefined) {\n    // form_factors=cargo_bicycle,moped,bicycle,car,other\n    let filteritems = filter.voertuigtypesexclude.split(\",\");\n    let selectedtypes = metadata.vehicle_types\n      .filter(vtype=>(filteritems.includes(vtype.id)===false))\n      .map(vtype=>vtype.id).join(\",\");\n\n    filterparams.push(\"form_factors=\" + selectedtypes);\n  }\n  \n  if(isParkingData) {\n    let ts = new Date().toISOString().replace(/.\\d+Z$/g, \"Z\"); // use current time without decimals\n    if(filter.datum!==\"\") {\n      ts = new Date(filter.datum).toISOString().replace(/.\\d+Z$/g, \"Z\");\n    }\n    filterparams.push(\"timestamp=\"+ts)\n  }\n  else {\n    let ts1 = new Date().toISOString().replace(/.\\d+Z$/g, \"Z\"); // use current time without decimals\n    let ts2 = ts1;\n    const isInvalid = () => {\n      return ! filter\n          || filter.intervalstart === \"\"\n          || filter.intervalend === \"\"\n          || filter.intervalstart === undefined\n          || filter.intervalend === undefined;\n    }\n    if(! isInvalid()) {\n      ts1 = new Date(filter.intervalstart).toISOString().replace(/.\\d+Z$/g, \"Z\");\n      ts2 = new Date(filter.intervalend).toISOString().replace(/.\\d+Z$/g, \"Z\");\n    }\n    filterparams.push(\"start_time=\" + ts1 + \"&end_time=\" + ts2)\n  }\n  \n  return filterparams;\n}\n\nexport const isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nexport const convertDurationToBin = (duration) => {\n  if (duration <= 60) {\n    return 0;\n  }\n  if (duration <= 24 * 60) {\n    return 1;\n  }\n  if (duration <= 24 * 60 * 4) {\n    return 2;\n  }\n  return 3;\n}\n\n","import { createFilterparameters } from '../poll-api/pollTools.js';\n\nexport const getAggregatedStats = async (token, key, options) => {\n  // Example URL: `https://api.deelfietsdashboard.nl/dashboard-api/aggregated_stats/${key}?start_time=${options.startTime}&end_time=${options.endTime}&operators=${options.operators}&zone_ids=${options.zoneIds}&aggregation_level=${options.aggregationLevel}`;\n  let url = `https://api.deelfietsdashboard.nl/dashboard-api/aggregated_stats/${key}?start_time=2021-01-01T18:00:00Z&end_time=2021-12-14T18:00:00Z&aggregation_level=${options.aggregationLevel}`;\n\n  let filterParams = createFilterparameters(true, options.filter, options.metadata);\n  if(filterParams.length>0) url += \"&\" + filterParams.join(\"&\");\n  console.log('url', url)\n\n  let fetchOptions = {\n    headers: {\n      \"authorization\": `Bearer ${token}`\n    }\n  }\n  \n  const response = await fetch(url, fetchOptions);\n  const responseJson = await response.json();\n\n  return responseJson;\n}\n","import React, {useEffect, useState, PureComponent } from 'react';\n\nimport {\n  // useDispatch,\n  useSelector\n} from 'react-redux';\nimport moment from 'moment';\n// import { LineChart, Line, CartesianGrid, XAxis, YAxis, Tooltip } from 'recharts';\nimport {\n  AreaChart,\n  Area,\n  BarChart,\n  Bar,\n  XAxis,\n  Legend,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer\n} from 'recharts';\n\nimport {getAggregatedStats} from '../api/aggregatedStats';\nimport {getProviderColor} from '../helpers/providers.js';\n\nconst prepareData = (key, data, aggregationLevel) => {\n  if(! data || ! data[`${key}_aggregated_stats`] || ! data[`${key}_aggregated_stats`].values) {\n    return [];\n  }\n  const getDateFormat = (aggregationLevel) => {\n    if(aggregationLevel === 'day') {\n      return 'YYYY-MM-DD';\n    }\n    else if(aggregationLevel === 'week') {\n      return 'YYYY-[w]W';\n    }\n    else if(aggregationLevel === 'month') {\n      return 'YYYY-MM';\n    }\n  }\n  return data[`${key}_aggregated_stats`].values.map(x => {\n    const { start_interval, ...rest } = x;\n    return {...rest, ...{ name: moment(start_interval).format(getDateFormat(aggregationLevel)) }}// https://dmitripavlutin.com/remove-object-property-javascript/#2-object-destructuring-with-rest-syntax\n  });\n}\n\nconst getUniqueProviderNames = (object) => {\n  if(! object) return [];\n  return Object.keys(object).filter((key, val) => {\n    return key !== 'name' ? key : false;\n  })\n}\n\nclass CustomizedAxisTick extends PureComponent {\n  render() {\n    const { x, y, stroke, payload } = this.props;\n\n    return (\n      <g transform={`translate(${x},${y})`}>\n        <text x={0} y={0} dy={16} textAnchor=\"end\" fill=\"#666\" transform=\"rotate(-35)\">\n          {payload.value}\n        </text>\n      </g>\n    );\n  }\n}\n\nconst renderStackedAreaChart = (data, providers) => {\n  return (\n    <div style={{ width: '100%', height: '400px', overflowX: 'auto', overflowY: 'hidden' }}>\n      <ResponsiveContainer>\n        <AreaChart\n          height={400}\n          data={data}\n          margin={{\n            top: 10,\n            right: 30,\n            left: 0,\n            bottom: 0,\n          }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"name\" height={100} tick={<CustomizedAxisTick />} />\n          <YAxis />\n          <Tooltip />\n          {getUniqueProviderNames(data[0]).map(x => {\n            const providerColor = getProviderColor(providers, x)\n            return (\n              <Area\n                key={x}\n                stackId=\"1\"\n                type=\"monotone\"\n                dataKey={x}\n                stroke={providerColor}\n                fill={providerColor}\n                isAnimationActive={false}\n              />\n            )\n          })}\n        </AreaChart>\n      </ResponsiveContainer>\n    </div>\n  )\n}\n\n// const renderStackedBarChart = (data, providers) => {\n//   return <BarChart\n//     width={800}\n//     height={400}\n//     data={data}\n//     margin={{\n//       top: 20,\n//       right: 30,\n//       left: 20,\n//       bottom: 5,\n//     }}\n//   >\n//     <CartesianGrid strokeDasharray=\"3 3\" />\n//     <XAxis dataKey=\"name\" />\n//     <YAxis />\n//     <Tooltip />\n//     <Legend />\n//     {getUniqueProviderNames(data[0]).map(x => {\n//       const providerColor = getProviderColor(providers, x)\n//       return (\n//         <Bar\n//           key={x}\n//           stackId=\"1\"\n//           type=\"monotone\"\n//           dataKey={x}\n//           stroke={providerColor}\n//           fill={providerColor}\n//           isAnimationActive={false}\n//         />\n//       )\n//     })}\n//   </BarChart>\n// }\n\nfunction StatsPage(props) {\n  const token = useSelector(state => state.authentication.user_data.token)\n  const filter = useSelector(state => state.filter)\n  const metadata = useSelector(state => state.metadata)\n\n  const [vehiclesData, setVehiclesData] = useState([])\n  const [rentalsData, setRentalsData] = useState([])\n  const [aggregationLevel, setAggregationLevel] = useState('month')\n\n  useEffect(() => {\n    // Do not reload chart until you have 'zones'\n    if(! metadata || ! metadata.zones || metadata.zones.length <= 0) return;\n    async function fetchData() {\n      const availableVehicles = await getAggregatedStats(token, 'available_vehicles', {\n        filter: filter,\n        metadata: metadata,\n        aggregationLevel: aggregationLevel\n      });\n      setVehiclesData(prepareData('available_vehicles', availableVehicles, aggregationLevel));\n    }\n    fetchData();\n  }, [aggregationLevel, filter, metadata, token]);\n\n  useEffect(() => {\n    // Do not reload chart until you have 'zones'\n    if(! metadata || ! metadata.zones || metadata.zones.length <= 0) return;\n    async function fetchData() {\n      const rentals = await getAggregatedStats(token, 'rentals', {\n        filter: filter,\n        metadata: metadata,\n        aggregationLevel: aggregationLevel\n      });\n      setRentalsData(prepareData('rentals', rentals, aggregationLevel));\n    }\n    fetchData();\n  }, [aggregationLevel, filter, metadata, token]);\n\n  return (\n    <div>\n      <button className=\"mx-2\" onClick={() => { setAggregationLevel('day') }}>\n        day\n      </button>\n      <button className=\"mx-2\" onClick={() => { setAggregationLevel('week') }}>\n        week\n      </button>\n      <button className=\"mx-2\" onClick={() => { setAggregationLevel('month') }}>\n        month\n      </button>\n      <h1 className=\"text-4xl my-2\">Beschikbare voertuigen</h1>\n      {renderStackedAreaChart(vehiclesData, metadata.aanbieders)}\n      <h1 className=\"text-4xl my-2\">Verhuringen</h1>\n      {renderStackedAreaChart(rentalsData, metadata.aanbieders)}\n    </div>\n  )\n}\n\nexport default StatsPage;\n","import React, { useState } from 'react';\nimport { setUser } from '../actions/authentication';\nimport { useDispatch } from 'react-redux';\nimport {\n  Redirect\n } from \"react-router-dom\";\n\nconst Login = () => {\n  const [emailaddress, setEmailaddress] = useState('');\n  const [password, setPassword] = useState('');\n  const [recoverPassword, setRecoverPassword] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const dispatch = useDispatch();\n\n  const login = e => {\n    \n    e.preventDefault();\n\n    // Clear error message\n    setErrorMessage(null);\n\n    const url = process.env.REACT_APP_FUSIONAUTH_SERVER + \"/login\";\n    var data = {\n      loginId: emailaddress,\n      password: password,\n      applicationId: process.env.REACT_APP_FUSIONAUTH_APPLICATION_ID\n    };\n    \n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json())\n      .then(response => {\n        dispatch( { type: 'RESET_FILTER', payload: null } );\n        dispatch( setUser(response) );\n        setLoggedIn(true);\n        document.location = '/map/park';\n      }).catch(error => {\n        console.error(\"Login failed! (%s)\", error.message);\n        setErrorMessage('Login mislukt. Heb je het juiste e-mailadres en wachtwoord ingevuld?');\n        setLoggedIn(false);\n    });\n  };\n  \n  const recover = e => {\n    e.preventDefault();\n\n    // Clear error message\n    setErrorMessage(null);\n\n    const url = process.env.REACT_APP_FUSIONAUTH_SERVER + \"/user/forgot-password\"\n    var data = {\n      loginId: emailaddress,\n    };\n\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json())\n      .then(response => {\n        console.log(response);\n        return true;\n      }).catch(error => {\n        console.log(error)\n        // setErrorMessage('Controleer of je e-mailadres klopt. Mocht het daarna nog steeds niet lukken, neem dan contact op met info@deelfietsdashboard.nl');\n        setErrorMessage('Dank voor je verzoek voor een wachtwoord-resetmail. Het opvragen van je wachtwoord werkt nog niet in dit nieuwe Dashboard. Stuur alsjeblieft een mail aan info@deelfietsdashboard.nl met je e-mailadres, dan zorgen wij dat je een wachtwoord-herstel-link ontvangt. Dank!');\n        return false;\n      });\n\n    // do login here\n  };\n\n  const renderLogin = () => {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n        <div className=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\n          <h3 className=\"text-2xl font-bold text-center\">Login</h3>\n          <form>\n            <label className=\"block\" htmlFor=\"emailaddress\">Email</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              autoCapitalize=\"off\"\n              placeholder=\"email\"\n              name=\"emailaddress\"\n              required\n              onChange={e => setEmailaddress(e.target.value)}\n            />\n\n            <label className=\"mt-4 block\" htmlFor=\"password\">Wachtwoord</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              type=\"password\"\n              placeholder=\"Wachtwoord\"\n              name=\"password\"\n              required\n              onChange={e => setPassword(e.target.value)}\n            />\n          \n            {errorMessage && <div className=\"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n              <span className=\"block sm:inline\">{errorMessage}</span>\n            </div>}\n\n            <div className=\"flex items-baseline justify-between\">\n                <button className=\"px-6 py-2 mr-4 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={login}>Login</button>\n                <button className=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={() => setRecoverPassword(true)}>Wachtwoord vergeten</button>\n            </div>\n          </form>\n        </div>\n      </div>)\n  }\n  \n  const renderRecoverPassword = () => {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n        <div className=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\n          <h3 className=\"text-2xl font-bold text-center\">Wachtwoord herstellen</h3>\n          <form>\n            <label className=\"block\" htmlFor=\"emailaddress\">Email</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              autoCapitalize=\"off\"\n              placeholder=\"Email\"\n              name=\"emailaddress\"\n              required\n              onChange={e => setEmailaddress(e.target.value)}\n            />\n     \n            {errorMessage && <div className=\"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n              <span className=\"block sm:inline\">{errorMessage}</span>\n            </div>}\n\n            <div className=\"flex items-baseline justify-between\">\n                <button className=\"px-6 py-2 mr-4 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={recover}>Herstel</button>\n                <button className=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={() => {\n                  setErrorMessage(null);\n                  setRecoverPassword(false);\n                }}>Annuleer</button>\n            </div>\n          </form>\n        </div>\n      </div>)\n  }\n  const renderRedirect = () => {\n    return (\n        <Redirect to=\"/\" />\n    );\n  }\n \n  if (loggedIn) {\n    return renderRedirect();\n  }\n\n  return recoverPassword ? renderRecoverPassword() : renderLogin();\n};\n\nexport default Login;","import moment from 'moment';\n\nexport const fetchParkEvents = async (authentication, provider, dateTime) => {\n  if(! authentication || ! authentication.user_data || ! dateTime) {\n    return;\n  }\n  if(! provider) {\n    return;\n  }\n\n  const formattedDateTime = moment(dateTime).format('YYYY-MM-DDTHH:mm:ss[Z]');\n  let url = \"https://api.deelfietsdashboard.nl/dashboard-api/park_events?timestamp=\"+formattedDateTime+\"&operators=\"+provider;\n  let options = { headers : { \"authorization\": \"Bearer \" + authentication.user_data.token }}\n\n  const response = await fetch(url, options);\n\n  if(! response.ok) {\n    console.error(\"unable to fetch: %o\", response);\n    return false;\n  }\n\n  const json = await response.json();\n\n  return json.park_events || false;\n}","import React, {useEffect} from 'react';\nimport {useSelector} from 'react-redux';\nimport moment from 'moment';\n\nimport {fetchParkEvents} from '../helpers/parkEvents.js';\n\nconst numberOfSnapshots = 4*5;//4*5\nconst provider = 'htm';//4*5\nlet numberOfUniqueVehiclesAfterXIterations = [];\n\nconst getUniqueVehicleIds = (dataset) => {\n  let uniqueVehicleIds = [];\n  dataset.map(x => {\n    if(uniqueVehicleIds.indexOf(x.bike_id) <= -1) {\n      uniqueVehicleIds.push(x.bike_id);\n    }\n    return x;\n  });\n  return uniqueVehicleIds;\n}\n\nfunction Monitoring(props) {\n\n  // Get state.authentication\n  const authentication = useSelector(state => {\n    return state.authentication ? state.authentication : false;\n  });\n\n  // On load, get parking data of different moments in time\n  useEffect((x) => {\n    // Function that gets parking data for a specific provider, for a specific date/time\n    const fetchMultipleMomentsInTime = async () => {\n      let dateTime = moment().toISOString(), parkEvents = [];\n      // Get 4*5=20 snapshots (= 5 days) of parking data\n      let collectedParkEvents = [];\n      for(let i = 0; i <= numberOfSnapshots; i++) {\n        dateTime = moment(dateTime).subtract(6, 'hours').toISOString();\n        // Get park events for date time\n        parkEvents = await fetchParkEvents(authentication, provider, dateTime);\n        // Add park events to existing allParkEvents array\n        parkEvents.map(x => {\n          collectedParkEvents.push(x);\n          return x;\n        });\n        // Get cumulative unique vehicle IDs\n        numberOfUniqueVehiclesAfterXIterations[i] = getUniqueVehicleIds(collectedParkEvents);\n      }\n      return collectedParkEvents;\n    }\n\n    fetchMultipleMomentsInTime();\n  }, [authentication]);\n\n  return (\n    <div className=\"mt-12\">\n      <h1 className=\"text-2xl my-2\">\n        Monitoring\n      </h1>\n\n      <p className=\"py-2\">\n        Voor {provider} willen we controleren hoeveel unieke voertuig-IDs er zijn door te de tijd heen.\n      </p>\n\n      <p className=\"py-2\">\n        Op deze manier kunnen we afleiden of er aan de standaard wordt voldaan. Er moeten statische voertuig-IDs zijn. Als dit niet het geval is, zul je zien dat er na verloop van tijd veel meer voertuig-IDs zijn geregistreerd dan het aantal voertuigen dat de aanbieder heeft. Op die manier weet je dat denog niet voldaan wordt aan de gevraagde datastandaard.\n      </p>\n\n      <p className=\"py-2\">\n        De snapshots zijn steeds gemaakt met 6 uur ertussen.\n      </p>\n\n      <pre>\n        {numberOfUniqueVehiclesAfterXIterations ? numberOfUniqueVehiclesAfterXIterations.map((val, key) => {\n          return <div key={key}>Number of UUIDs after <b>{key} snapshots</b>: <b>{val.length}</b></div>\n        }) : ''}\n      </pre>\n\n      <table className=\"table-auto bg-white hidden\">\n        <thead>\n          <tr>\n            <th>Datum/tijd</th>\n            <th>Cumulatief aantal voertuig-IDs</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>datumtijd</td>\n            <td>aantal</td>\n          </tr>\n        </tbody>\n      </table>\n\n    </div>\n  );\n  \n  \n}\n\nexport default Monitoring;\n","import './css/Filterbar.css';\nimport { IconButtonClose } from '../IconButtons.jsx';\n\nfunction ModalBox({closeFunction, children}) {\n  return (\n    <div className=\"modalbox-bg\" onClick={() => closeFunction(false)}>\n      <div className=\"modalbox\" onClick={e=>e.stopPropagation()}>\n        <div className=\"absolute absolute top-0 right-0\">\n          <IconButtonClose onClick={() => closeFunction(false)} />\n        </div>\n        <div className=\"grid-cols-4\" >\n          { children }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default ModalBox;","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\nimport './css/FilteritemGebieden.css';\n\nfunction FilteritemGebieden() {\n  const dispatch = useDispatch()\n\n  const gebieden = useSelector(state => {\n    return (state.metadata && state.metadata.gebieden) ? state.metadata.gebieden : [];\n  });\n  \n  const filterGebied = useSelector(state => {\n    return state.filter ? state.filter.gebied : \"\";\n  });\n  \n  let [showSelect, setShowSelect] = useState(false);\n  let [filterSearch, setFilterSearch] = useState(\"\");\n  \n  const unselectGebied = e => {\n    e.preventDefault();\n    \n    dispatch({\n      type: 'SET_FILTER_GEBIED',\n      payload: \"\"\n    })\n  }\n  \n  const setFilterGebied = (gebied) => {\n    dispatch({\n      type: 'SET_FILTER_GEBIED',\n      payload: gebied\n    })\n  }\n  \n  const changeSearchText = e => { setFilterSearch(e.target.value) }\n\n  const clearSearchText = e => { setFilterSearch(\"\") }\n  \n  const renderSelectGebieden = (gebieden) => {\n    const filteredGebieden = gebieden.filter(gebied=>{\n      return filterSearch===''|| gebied.name.toLowerCase().includes(filterSearch.toLowerCase())\n    })\n    return (\n      <ModalBox closeFunction={setShowSelect}>\n        <div className=\"filter-form-selectie\">\n          <div className=\"filter-form-search-container mb-3\">\n            <div className=\"filter-form-title\">Selecteer Plaats</div>\n            <div className=\"filter-form-search-container-2\">\n            <input type=\"text\"\n              className=\"filter-form-search\"\n              onChange={changeSearchText}\n              value={filterSearch}\n              placeholder={\"zoek\"}/>\n            <div className=\"ml-3 flex flex-col justify-center h-full\">\n              {  filterSearch!==\"\" ?\n                    <div className=\"filter-plaats-img-cancel\" onClick={clearSearchText} />\n                  :\n                    <div className=\"filter-plaats-img-search\" />\n              }\n            </div>\n            </div>\n            <div>&nbsp;</div>\n          </div>\n          <div className=\"filter-form-values\">\n            { filterGebied === \"\"?\n                <div key={'item-alle'} className=\"form-item-selected form-item\" onClick={e=>{setShowSelect(false)}}>Alle Gebieden</div>\n                :\n                <div key={'item-alle'} className=\"form-item\" onClick={e=>{setShowSelect(false);setFilterGebied(\"\")}}>Alle Gebieden</div>\n            }\n            { filteredGebieden.map(a=>{\n                if(filterGebied === a.gm_code) {\n                  return (<div key={'item-'+a.gm_code} className=\"form-item-selected form-item\" onClick={e=>{setShowSelect(false);setFilterGebied(\"\")}}>{a.name}</div>)\n                } else {\n                  return (<div key={'item-'+a.gm_code} className=\"form-item\" onClick={e=>{setShowSelect(false);setFilterGebied(a.gm_code);}}>{a.name}</div>)\n                }\n              })\n            }\n          </div>\n        </div>\n      </ModalBox>\n    )\n  }\n  \n  let value = gebieden.find(item=>item.gm_code===filterGebied) || \"\";\n  if(gebieden.length===1) {\n    return (\n      <div className=\"filter-plaats-container filter-plaats-not-active\">\n        <div className=\"filter-plaats-title\" onClick={e=>{setShowSelect(!showSelect)}}>Plaats</div>\n        <div className=\"filter-plaats-box-row cursor-pointer flex flex-col justify-center\">\n          <div className=\"filter-plaats-value \" >{value===\"\"?\"Alle Gebieden\":value.name}</div>\n        </div>\n      </div>\n    )\n  }\n  \n  return (\n    <div className=\"filter-plaats-container\">\n      <div className=\"filter-plaats-title\" onClick={e=>{setShowSelect(!showSelect)}}>Plaats</div>\n      <div className=\"filter-plaats-box-row cursor-pointer flex flex-col justify-center\">\n        <div className=\"filter-plaats-value\" onClick={e=>{setShowSelect(!showSelect)}}>{value===\"\"?\"Alle Gebieden\":value.name}</div>\n        { showSelect ? renderSelectGebieden(gebieden) : null }\n        {  filterGebied!==\"\" ?\n              <div className=\"filter-plaats-img-cancel\" onClick={unselectGebied} />\n            :\n              null\n        }\n        <div className=\"flex flex-col justify-center h-full\">\n          <div className=\"filter-plaats-img-search\" onClick={e=>{setShowSelect(!showSelect)}} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default FilteritemGebieden;\n","export default __webpack_public_path__ + \"static/media/calendar.0fe3dc2a.svg\";","// import { useState } from 'react';\nimport './css/FilteritemDatum.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport moment from 'moment';\nimport './css/FilteritemDatum-Timepicker.css';\nimport './css/FilteritemDatum-Calendar.css';\nimport './css/FilteritemDatum-Clock.css';\n\n// using https://github.com/wojtekmaj/react-datetime-picker with custom styling\nimport DateTimePicker from 'react-datetime-picker/dist/entry.nostyle'; //\nimport calendarIcon from '../../images/calendar.svg';\n\nfunction FilterItemDatum() {\n  const dispatch = useDispatch()\n  \n  const filterDatum = useSelector(state => {\n    return state.filter ? state.filter.datum : new Date().toISOString();\n  });\n  \n  const setFilterDatum = newdt => {\n    dispatch({\n      type: 'SET_FILTER_DATUM',\n      payload: newdt.toISOString()\n    })\n  }\n\n  return (\n    <div className=\"filter-datum-container\">\n      <div className=\"filter-datum-title\">Datum</div>\n      <div className=\"filter-datum-box-row\">\n        <div className=\"filter-datum-box-1\">\n            <div\n              className=\"filter-datum-caret\"\n              onClick={() => {\n                setFilterDatum(\n                  moment(filterDatum).subtract(1, 'hours')\n                )\n              }}>\n              &lsaquo;\n            </div>\n              <div className=\"filter-datum-dtpicker\">\n                <DateTimePicker\n                  onChange={setFilterDatum}\n                  value={new Date(filterDatum)}\n                  clearIcon={null}\n                  calendarIcon={<img src={calendarIcon} alt=\"Logo\" />}\n                  format={\"y-MM-dd H:mm\"}/>\n              </div>\n            <div\n              className=\"filter-datum-caret\"\n              onClick={() => {\n                setFilterDatum(\n                  moment(filterDatum).add(1, 'hours')\n                )\n              }}\n              >&rsaquo;</div>\n        </div>\n        <div className=\"filter-datum-box-2\" onClick={() => {\n          setFilterDatum(new Date())\n        }} title=\"Toon huidige datum en tijd\">\n          <div className=\"filter-datum-img-play\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default FilterItemDatum;\n","import { useState } from 'react';\nimport './css/Filterbar.css';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\n\nfunction FilterItemInterval() {\n  const dispatch = useDispatch()\n  \n  const filterIntervalStart = useSelector(state => {\n    return state.filter ? state.filter.intervalstart : new Date().toISOString();\n  });\n  \n  const filterIntervalEnd = useSelector(state => {\n    return state.filter ? state.filter.intervalend : new Date().toISOString();\n  });\n  \n  let [useIntervalStart, setUseIntervalStart] = useState(false);\n  let [showSelectInterval, setShowSelectInterval] = useState(false);\n  \n  const setFilterInterval = e => {\n    e.preventDefault();\n    \n    if (!e.target['validity'].valid) return;\n    \n    const datum = (new Date(e.target.value)).toISOString();\n    dispatch({\n      type: useIntervalStart ? 'SET_FILTER_INTERVAL_START':'SET_FILTER_INTERVAL_END',\n      payload: datum\n    })\n  }\n  \n  // https://webreflection.medium.com/using-the-input-datetime-local-9503e7efdce\n  function toDatetimeLocal(ISOString) {\n    const date = new Date(ISOString)\n    const\n      ten = function (i) {\n        return (i < 10 ? '0' : '') + i;\n      },\n      YYYY = date.getFullYear(),\n      MM = ten(date.getMonth() + 1),\n      DD = ten(date.getDate()),\n      HH = ten(date.getHours()),\n      II = ten(date.getMinutes()),\n      SS = ten(date.getSeconds())\n    ;\n    return YYYY + '-' + MM + '-' + DD + 'T' +\n             HH + ':' + II + ':' + SS;\n  };\n  \n  const renderSelectInterval = (isStart) => {\n    const value = toDatetimeLocal(isStart ? filterIntervalStart : filterIntervalEnd);\n    return (\n      <ModalBox className=\"min-width-48\" closeFunction={setShowSelectInterval}>\n        <div className=\"filter-form-selectie\">\n          <div className=\"filter-form-title\">Selecteer Datum</div>\n          <form key=\"f-end\" className=\"h-12 w-auto flex flex-row border-solid border-4 border-light-blue-500 box-border\">\n            <input className=\"bg-transparent flex-2 flex-grow\" type=\"datetime-local\" value={value} onChange={setFilterInterval} />\n            <div className=\"flex-2\"/>\n          </form>\n          <div className=\"flex-none closebutton text-center mt-4\" onClick={e=>setShowSelectInterval(false)}>OK</div>\n        </div>\n     </ModalBox>);\n  }\n\n  let intervalStart = new Date(filterIntervalStart).toLocaleString();\n  let intervalEnd = new Date(filterIntervalEnd).toLocaleString();\n  // console.log(\"got interval %s - %s\", intervalStart, intervalEnd);\n\n    //  onClick={e=>{setShowSelectInterval(!showSelectInterval)}}\n  return (\n    <>\n    <div className=\"filter-item\" onClick={e=>{setUseIntervalStart(true); setShowSelectInterval(true)}}>\n        <div className=\"filter-title\">Start</div>\n        <div className=\"filter-value\">{intervalStart}</div>\n      </div>\n      <div className=\"filter-item\" onClick={e=>{setUseIntervalStart(false); setShowSelectInterval(true)}}>\n        <div className=\"filter-title\">Eind</div>\n        <div className=\"filter-value\">{intervalEnd}</div>\n      </div>\n      { showSelectInterval ?  renderSelectInterval() : null }\n    </>\n  )\n}\n\nexport default FilterItemInterval;\n","import { useDispatch, useSelector } from 'react-redux';\nimport './css/FilteritemAanbieders.css';\n\nfunction FilteritemAanbieders() {\n  const dispatch = useDispatch()\n  \n  const aanbieders = useSelector(state => {\n    return (state.metadata && state.metadata.aanbieders) ? state.metadata.aanbieders : [];\n  });\n  \n  const filterAanbiedersExclude = useSelector(state => {\n    return state.filter ? state.filter.aanbiedersexclude : [];\n  });\n  \n  const addTofilterAanbiedersExclude = (aanbieder) => {\n    const nexcluded = (filterAanbiedersExclude || '').split(\",\").length;\n    if(nexcluded===aanbieders.length-1) {\n      // console.log(\"needs at least one provider\")\n      return;\n    }\n\n    dispatch({ type: 'ADD_TO_FILTER_AANBIEDERS_EXCLUDE', payload: aanbieder.system_id })\n  }\n  \n  const removeFromfilterAanbiedersExclude = (aanbieder) => {\n    dispatch({ type: 'REMOVE_FROM_FILTER_AANBIEDERS_EXCLUDE', payload: aanbieder.system_id })\n  }\n  \n  const clearFilterAanbiedersExclude = e => {\n    dispatch({ type: 'CLEAR_FILTER_AANBIEDERS_EXCLUDE', payload: '' })\n  }\n\n  // Function that gets executed if user clicks a provider filter\n  const clickFilter = provider => {\n    // If no filters were set, only show this provider and hide all others\n    if(filterAanbiedersExclude===\"\") {\n      // Disable all but the selected provider\n      aanbieders.map(x => {\n        if(x.system_id !== provider.system_id) {\n          addTofilterAanbiedersExclude(x)\n        }\n        return x;\n      })\n    }\n\n    // If provider was disabled, re-enable provider\n    else {\n      addTofilterAanbiedersExclude(provider)\n    }\n    \n  }\n\n  return (\n    <div className=\"filter-aanbieders-container\">\n      <div className=\"filter-aanbieders-title-row\">\n        <div className=\"filter-aanbieders-title\">Aanbieders</div>\n        { filterAanbiedersExclude!==''\n            ?\n            <div className=\"filter-aanbieders-reset cursor-pointer\" onClick={clearFilterAanbiedersExclude}>\n              reset\n            </div>\n            :\n            null\n        }\n      </div>\n      <div className=\"filter-aanbieders-box-row\">\n        {\n          aanbieders.map((aanbieder, idx) => {\n            let excluded = filterAanbiedersExclude ? filterAanbiedersExclude.includes(aanbieder.system_id) : '';\n            let handler = excluded ?\n                e=>{ e.stopPropagation(); removeFromfilterAanbiedersExclude(aanbieder)}\n              :\n                e=>{ e.stopPropagation(); clickFilter(aanbieder); };\n            \n            return (\n              <div\n                className={`filter-aanbieders-item ${excluded ? ' not-active' : ''}`}\n                onClick={handler}\n                key={aanbieder.name}\n                >\n                <div className=\"filter-aanbieders-marker\">\n                  <svg viewBox='0 0 30 30' >\n                    <circle cx={'50%'} cy={'50%'} r={'40%'} fill={\"#000000\"} />\n                    <circle cx={'50%'} cy={'50%'} r={'35%'} fill={\"#FFFFFF\"} />\n                    <circle cx={'70%'} cy={'25%'} r={'25%'} fill={aanbieder.color.toString()} />\n                  </svg>\n                </div>\n                <div className=\"filter-aanbieders-itemlabel\">\n                  { aanbieder.name }\n                </div>\n              </div>\n            )\n          })\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default FilteritemAanbieders;\n","import { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalBox from './ModalBox.jsx';\nimport './css/FilteritemZones.css';\n\nfunction FilteritemZones() {\n  const dispatch = useDispatch()\n  \n  const zones = useSelector(state => {\n    return (state.metadata && state.metadata.zones) ? state.metadata.zones : [];\n  });\n  \n  const filterZones = useSelector(state => {\n    return state.filter ? state.filter.zones : 0;\n  });\n  \n  const filterGebied = useSelector(state => {\n    return state.filter ? state.filter.gebied : 0;\n  });\n  \n  let [showSelect, setShowSelect] = useState(false);\n  let [filterSearch, setFilterSearch] = useState(\"\");\n  \n  const addToFilterZones = (zone) => {\n    dispatch({ type: 'ADD_TO_FILTER_ZONES', payload: zone })\n  }\n  \n  const removeFromFilterZones = (zone) => {\n    dispatch({ type: 'REMOVE_FROM_FILTER_ZONES', payload: zone })\n  }\n  \n  const clearFilterZones = () => {\n    dispatch({ type: 'CLEAR_FILTER_ZONES', payload: null })\n  }\n\n  const changeSearchText = e => { setFilterSearch(e.target.value) }\n\n  const clearSearchText = e => { setFilterSearch(\"\") }\n\n  const renderSelectZones = (zones) => {\n    const filteredZones = zones.filter(zone=>{\n      return filterSearch===''|| zone.name.toLowerCase().includes(filterSearch.toLowerCase())\n    })\n    \n    return (\n      <ModalBox closeFunction={setShowSelect}>\n        <div className=\"filter-form-selectie\">\n            <div className=\"filter-form-search-container mb-3\">\n              <div className=\"filter-form-title\">Selecteer Zones</div>\n              <div className=\"filter-form-search-container-2\">\n              <input type=\"text\"\n                className=\"filter-form-search\"\n                onChange={changeSearchText}\n                value={filterSearch}\n                placeholder={\"zoek\"}/>\n              <div className=\"ml-3 flex flex-col justify-center h-full\">\n                {  filterSearch!==\"\" ?\n                      <div className=\"filter-zones-img-cancel cursor-pointer\" onClick={clearSearchText} />\n                    :\n                      <div className=\"filter-zones-img-search cursor-pointer\" />\n                }\n              </div>\n              </div>\n              <div>&nbsp;</div>\n            </div>\n            <div className=\"filter-form-values\">\n              { filteredZones.map(a=>{\n                  let isSelected = filterZones.includes(a.zone_id);\n                  if(isSelected) {\n                    return (<div key={'item-'+a.zone_id} className=\"\n                      form-item-selected\n                      form-item\n                      cursor-pointer\n                    \" onClick={e=>{ e.stopPropagation(); removeFromFilterZones(a.zone_id)}}>{a.name}</div>)\n                  } else {\n                    return (<div key={'item-'+a.zone_id} className=\"\n                      form-item\n                      cursor-pointer\n                    \" onClick={e=>{ e.stopPropagation(); addToFilterZones(a.zone_id)}}>{a.name}</div>)\n                  }\n                })\n              }\n          </div>\n        </div>\n      </ModalBox>)\n  }\n  \n  let selectedzones = [];\n  let zonetxt = \"\"\n  try {\n    selectedzones = filterZones.split(',')\n    let aantal = selectedzones.length;\n    if(aantal>1) {\n      zonetxt = aantal + \" zones\";\n    } else {\n      let thezone = zones.find(zone=>(zone.zone_id.toString()===selectedzones[0]));\n      zonetxt = (thezone && thezone.name) || '';\n    }\n  } catch(ex) {\n    zonetxt = \"\";\n  }\n  \n  if(zonetxt===\"\") { zonetxt = \"Alle Zones\" }\n  \n  let isActive = filterGebied !== '';\n  \n  const filteredZones = zones.filter(zone=>{\n    return selectedzones.includes(zone.zone_id.toString())\n  })\n  \n  if(! isActive) {\n    return <></>\n  }\n\n  return (\n    <div className={`filter-zones-container ${isActive===true ? '':'not-active'}`}>\n      <div className=\"filter-zones-title\" onClick={e=>{isActive && setShowSelect(!showSelect)}}>Zones</div>\n      <div className=\"filter-zones-box-row\">\n        <div\n          className=\"filter-zones-value flex flex-col justify-center cursor-pointer h-full\"\n          onClick={e=>{isActive && setShowSelect(!showSelect)}}\n          >\n          {zonetxt}\n        </div>\n        {  filterZones!==\"\" ?\n              <div className=\"filter-zones-img-cancel\" onClick={clearFilterZones}></div>\n            :\n              null\n        }\n        { showSelect ? renderSelectZones(zones) : null }\n        <div className=\"ml-3 flex flex-col justify-center h-full\">\n          <div className=\"filter-zones-img-search cursor-pointer\" onClick={e=>{setShowSelect(!showSelect)}} />\n        </div>\n      </div>\n      <div className=\"filter-zones-zonelist\">\n      {\n        filteredZones.map(zone => {\n          return (\n            <div className=\"filter-zones-zoneitem\" key={zone.zone_id}>\n              { zone.name}\n              <div className=\"filter-zones-img-zoneitem-cancel\" onClick={e=>{ e.stopPropagation(); removeFromFilterZones(zone.zone_id)}}></div>\n            </div>\n          )\n        })\n      }\n      </div>\n    </div>\n  )\n  \n  // return (\n  //     <div className=\"filter-item\" onClick={e=>{setShowSelect(!showSelect)}}>\n  //       <div className=\"filter-title\">Zones</div>\n  //       <div className=\"filter-value\">{zonetxt}</div>\n  //       { showSelect ? renderSelectZones(zones) : null }\n  //     </div>\n  //   )\n}\n\nexport default FilteritemZones;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './css/FilteritemMarkers.css';\n\nfunction FilteritemMarkers() {\n  const dispatch = useDispatch()\n\n  const markers = useSelector(state => {\n    return [\n      { id: 0, color: '#1FA024', fillcolor: '#1FA024', name: '< 1 uur'},\n      { id: 1, color: '#48E248', fillcolor: '#48E248', name: '< 24 uur'},\n      { id: 2, color: '#FFD837', fillcolor: '#FFD837', name: '< 4 d'},\n      { id: 3, color: '#FD3E48', fillcolor: '#FD3E48', name: '> 4 d'}\n    ];\n  });\n  \n  const filterMarkersExclude = useSelector(state => {\n    return state.filter ? state.filter.markersexclude : '';\n  }) || '';\n  \n  const addToFilterMarkersExclude = (marker) => {\n    dispatch({ type: 'ADD_TO_FILTER_MARKERS_EXCLUDE', payload: marker })\n  }\n  \n  const removeFromFilterMarkersExclude = (marker) => {\n    dispatch({ type: 'REMOVE_FROM_FILTER_MARKERS_EXCLUDE', payload: marker })\n  }\n  \n  const clearFilterMarkersExclude = () => {\n    dispatch({ type: 'CLEAR_FILTER_MARKERS_EXCLUDE', payload: null })\n  }\n  \n  // Function that gets executed if user clicks a provider filter\n  const clickFilter = id => {\n    console.log(\"clickfilter [%s]<\", filterMarkersExclude);\n    // If no filters were set, only show this provider and hide all others\n    if(filterMarkersExclude===\"\") {\n      // Disable all but the selected provider\n      markers.map(x => {\n        if(x.id !== id) {\n          addToFilterMarkersExclude(x.id)\n        }\n        return x;\n      })\n    }\n\n    // If provider was disabled, re-enable provider\n    else {\n      addToFilterMarkersExclude(id)\n    }\n  }\n  \n  \n  return (\n    <div className=\"filter-markers-container\">\n    <div className=\"filter-markers-title-row\">\n      <div className=\"filter-markers-title\">Parkeerduur</div>\n      { filterMarkersExclude!==''?\n          <div className=\"filter-markers-reset cursor-pointer\" onClick={clearFilterMarkersExclude}>\n            reset\n          </div>\n          :\n          null\n      }\n    </div>\n      <div className=\"filter-markers-box-row\">\n        {\n          markers.map(marker => {\n            let excluded = filterMarkersExclude.split(\",\").includes(marker.id.toString());\n            \n            let className = excluded ? \"filter-markers-item-excluded\": \"filter-markers-item\";\n            \n            let handler = excluded ?\n                e=>{ e.stopPropagation(); removeFromFilterMarkersExclude(marker.id)}\n              :\n                e=>{ e.stopPropagation(); clickFilter(marker.id)};\n                \n            return (\n              <div className={className} key={marker.id}>\n                <div className=\"filter-markers-marker\" onClick={handler}>\n                  <svg viewBox='0 0 30 30' >\n                    <circle cx={'50%'} cy={'50%'} r={'40%'} fill={marker.color} />\n                    <circle cx={'50%'} cy={'50%'} r={'34%'} fill={marker.fillcolor} />\n                  </svg>\n                </div>\n                <div className=\"filter-markers-itemlabel\">\n                  { marker.name }\n                </div>\n              </div>)\n          })\n        }\n      </div>\n    </div>\n  )\n  \n  // return (\n  //     <div className=\"filter-item\" onClick={e=>{setShowSelect(!showSelect)}}>\n  //       <div className=\"filter-title\">Markers</div>\n  //       <div className=\"filter-value\">{zonetxt}</div>\n  //       { showSelect ? renderSelectMarkers(zones) : null }\n  //     </div>\n  //   )\n}\n\nexport default FilteritemMarkers;","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport './css/FilteritemVoertuigTypes.css';\n\nfunction FilteritemVoertuigTypes() {\n  const dispatch = useDispatch()\n\n  const voertuigtypes = useSelector(state => {\n    return state.metadata.vehicle_types ? state.metadata.vehicle_types || [] : [];\n  });\n  \n  const filterVoertuigTypesExclude = useSelector(state => {\n    if(Array.isArray(state.filter.voertuigtypesexclude)) {\n      return '';\n    }\n    \n    return state.filter ? state.filter.voertuigtypesexclude : '';\n  }) || '';\n  \n  const addToFilterVoertuigTypesExclude = (voertuigtype) => {\n    const nexcluded = (filterVoertuigTypesExclude || '').split(\",\").length;\n    if(nexcluded===voertuigtypes.length-1) {\n      // console.log(\"needs at least one provider\")\n      return;\n    }\n\n    dispatch({ type: 'ADD_TO_FILTER_VOERTUIGTYPES_EXCLUDE', payload: voertuigtype })\n  }\n  \n  const removeFromFilterVoertuigTypesExclude = (voertuigtype) => {\n    console.log('REMOVE_FROM_FILTER_VOERTUIGTYPES_EXCLUDE %s', voertuigtype)\n    dispatch({ type: 'REMOVE_FROM_FILTER_VOERTUIGTYPES_EXCLUDE', payload: voertuigtype })\n  }\n  \n  const clearFilterVoertuigTypesExclude = () => {\n    dispatch({ type: 'CLEAR_FILTER_VOERTUIGTYPES_EXCLUDE', payload: null })\n  }\n  \n  // Function that gets executed if user clicks a provider filter\n  const clickFilter = type => {\n    console.log(\"clickfilter [%s]<\", filterVoertuigTypesExclude);\n    // If no filters were set, only show this provider and hide all others\n    if(filterVoertuigTypesExclude===\"\") {\n      // Disable all but the selected provider\n      voertuigtypes.map(x => {\n        if(x.id !== type) {\n          addToFilterVoertuigTypesExclude(x.id)\n        }\n        return x;\n      })\n    }\n\n    // If provider was disabled, re-enable provider\n    else {\n      addToFilterVoertuigTypesExclude(type)\n    }\n  }\n  \n  return (\n    <div className=\"filter-voertuigtypes-container\">\n      <div className=\"filter-voertuigtypes-title-row\">\n        <div className=\"filter-voertuigtypes-title\">Vervoerstype</div>\n        { filterVoertuigTypesExclude!==''?\n            <div className=\"filter-voertuigtypes-reset cursor-pointer\" onClick={clearFilterVoertuigTypesExclude}>\n              reset\n            </div>\n            :\n            null\n        }\n      </div>\n      <div className=\"filter-voertuigtypes-box-row\">\n        {\n          voertuigtypes.map((voertuigtype,idx) => {\n            let excluded = (filterVoertuigTypesExclude ? filterVoertuigTypesExclude: '').split(\",\").includes(voertuigtype.id);\n            let handler = excluded ?\n                e=>{ e.stopPropagation(); removeFromFilterVoertuigTypesExclude(voertuigtype.id)}\n              :\n                e=>{ e.stopPropagation(); clickFilter(voertuigtype.id)};\n              \n            let baseClassName = `${excluded ? \"filter-voertuigtypes-item-excluded\": \"filter-voertuigtypes-item\"}`;\n            let extraclass = \"\";\n            switch(voertuigtype.id) {\n              case \"bicycle\": extraclass = \"filter-voertuigtypes-icon-bicycle\"; break;\n              case \"cargo_bicycle\": extraclass = \"filter-voertuigtypes-icon-cargo-bicycle\"; break;\n              case \"moped\": extraclass = \"filter-voertuigtypes-icon-scooter\"; break;\n              case \"car\": extraclass = \"filter-voertuigtypes-icon-car\"; break;\n              case \"unknown\" : extraclass = \"filter-voertuigtypes-icon-other\"; break;\n              default:\n                break;\n            }\n                \n            return (\n              <div className={`${baseClassName}${idx===voertuigtypes.length-1?' filter-voertuigtypes-item-last':''}`} key={voertuigtype.id} onClick={handler}>\n                <div className={`filter-voertuigtypes-icon ${extraclass}`} onClick={handler} />\n                <div className=\"filter-voertuigtypes-itemlabel\">\n                  { voertuigtype.name }\n                </div>\n              </div>)\n          })\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default FilteritemVoertuigTypes;","function Logo() {\n  return (\n    <img alt=\"Logo CROW\" src=\"/images/logo-fietsberaad-crow.svg\" width=\"82\" className=\"mx-2\" />\n  )\n}\n\nexport default Logo;\n","import './css/Filterbar.css';\nimport {useSelector} from 'react-redux';\n// import SlideBox from '../SlideBox/SlideBox.jsx';\nimport FilteritemGebieden from './FilteritemGebieden.jsx';\nimport FilteritemDatum from './FilteritemDatum.jsx';\nimport FilteritemInterval from './FilteritemInterval.jsx';\nimport FilteritemAanbieders from './FilteritemAanbieders.jsx';\nimport FilteritemZones from './FilteritemZones.jsx';\nimport FilteritemMarkers from './FilteritemMarkers.jsx';\nimport FilteritemVoertuigTypes from './FilteritemVoertuigTypes.jsx';\nimport SlideBox from '../SlideBox/SlideBox.jsx';\nimport Logo from '../Logo.jsx';\n\nfunction Filterbar({showinterval=false, visible}) {\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n  \n  return (\n    <div className=\"filter-bar-inner py-2\">\n      <Logo />\n      {isLoggedIn && <div>\n        { showinterval\n          ? <FilteritemInterval />\n          : <FilteritemDatum />\n        }\n      </div>}\n      {isLoggedIn && <FilteritemGebieden />}\n      {isLoggedIn && <FilteritemZones />}\n      {isLoggedIn && <FilteritemMarkers />}\n      {isLoggedIn && <FilteritemVoertuigTypes />}\n      {isLoggedIn && <FilteritemAanbieders />}\n    </div>\n  )\n}\n\nexport default Filterbar;\n","import React from 'react';\n// import { useDispatch, useSelector } from 'react-redux';\nimport SlideBox from '../SlideBox/SlideBox.jsx';\nimport Filterbar from '../Filterbar/Filterbar.jsx';\n\n// import './FilterbarDesktop.css';\n\n// import {\n//   DISPLAYMODE_PARKEERDATA_HEATMAP,\n//   DISPLAYMODE_PARKEERDATA_CLUSTERS,\n//   DISPLAYMODE_PARKEERDATA_VOERTUIGEN\n// } from '../../reducers/layers.js';\n\nfunction FilterbarDesktop({isVisible}) {\n  return (\n    <SlideBox name=\"FilterBar\" direction=\"left\" options={{\n      title: 'Filters',\n      backgroundColor: '#F6F5F4',\n    }} style={{\n      width: '324px',\n      height: '100%',\n      top: 0,\n      position: 'fixed'\n    }}\n    isVisible={isVisible}\n    >\n      <Filterbar />\n    </SlideBox>\n  )\n}\n\nexport default FilterbarDesktop\n","import { useDispatch, useSelector } from 'react-redux';\nimport { Link, useLocation } from \"react-router-dom\";\n\nimport './MobileSlideBox.css';\n// import { IconButtonFilter } from './IconButtons.jsx';\n// import { clearUser } from '../actions/authentication';\n\nfunction MobileSlideBox(props) {\n  return (\n    <div className={`\n      MobileSlideBox w-full sm:hidden absolute left-0\n      ${props.isVisible ? 'block' : 'hidden'}\n    `}>\n\n      <header className=\"flex justify-between\">\n        <h1 className=\"\">{props.title}</h1>\n        <div className=\"text-2xl font-bold\" onClick={props.closeHandler}></div>\n      </header>\n\n      <div className=\"w-full\">\n        {props.children}\n      </div>\n\n    </div>\n  )\n}\n\nexport default MobileSlideBox;\n\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n// import SlideBox from '../SlideBox/SlideBox.jsx';\nimport MobileSlideBox from '../SlideBox/MobileSlideBox.jsx';\nimport Filterbar from '../Filterbar/Filterbar.jsx';\n\n// import './FilterbarMobile.css';\n\n// import {\n//   DISPLAYMODE_PARKEERDATA_HEATMAP,\n//   DISPLAYMODE_PARKEERDATA_CLUSTERS,\n//   DISPLAYMODE_PARKEERDATA_VOERTUIGEN\n// } from '../../reducers/layers.js';\n\nfunction FilterbarMobile(props) {\n  const dispatch = useDispatch()\n\n  const setVisibility = () => {\n    dispatch({\n      type: `SET_VISIBILITY`,\n      payload: {\n        name: 'FilterBar',\n        visibility: false\n      }\n    })\n  };\n\n  return (\n    <MobileSlideBox\n      title=\"Lagen\"\n      isVisible={props.isVisible}\n      closeHandler={() => {\n        setVisibility();\n      }}\n    >\n      <Filterbar />\n    </MobileSlideBox>\n  )\n}\n\nexport default FilterbarMobile;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport SlideBox from '../SlideBox/SlideBox.jsx';\nimport MobileSlideBox from '../SlideBox/MobileSlideBox.jsx';\n\nimport './SelectLayerMobile.css';\n\nimport {\n  DISPLAYMODE_PARKEERDATA_HEATMAP,\n  DISPLAYMODE_PARKEERDATA_CLUSTERS,\n  DISPLAYMODE_PARKEERDATA_VOERTUIGEN\n} from '../../reducers/layers.js';\n\nfunction SelectLayerMobile(props) {\n  const dispatch = useDispatch()\n\n  const isVisible = useSelector(state => {\n    return state.ui ? state.ui['MenuSecondary.layers'] : false;\n  });\n\n  const showZoneOnOff = useSelector(state => {\n    return state.filter ? state.filter.gebied!=='' : false;\n  });\n\n  const zonesVisible = useSelector(state => {\n    return state.layers ? state.layers.zones_visible : false;\n  });\n  \n  const displayMode = useSelector(state => {\n    return state.layers ? state.layers.displaymode : DISPLAYMODE_PARKEERDATA_VOERTUIGEN;\n  });\n\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n\n  const setVisibility = (name, visibility) => {\n    dispatch({\n      type: `SET_VISIBILITY`,\n      payload: {\n        name: name,\n        visibility: visibility\n      }\n    })\n  }\n\n  return (\n    <MobileSlideBox\n      title=\"Lagen\"\n      isVisible={isVisible}\n      closeHandler={() => {\n        setVisibility('MenuSecondary.layers', false);\n      }}\n    >\n      <div className={`\n        SelectLayerMobile\n        flex justify-between\n      `}>\n        <div data-type=\"heat-map\" className={`layer${displayMode!==DISPLAYMODE_PARKEERDATA_HEATMAP ? ' layer-inactive':''}`}\n          onClick={() => { dispatch({ type: 'LAYER_SET_DISPLAYMODE', payload: DISPLAYMODE_PARKEERDATA_HEATMAP }) }}>\n          <span className=\"layer-title\">\n            Heat map\n          </span>\n        </div>\n\n        <div data-type=\"pointers\" className={`layer${displayMode!==DISPLAYMODE_PARKEERDATA_CLUSTERS ? ' layer-inactive':''}`}\n          onClick={() => { dispatch({ type: 'LAYER_SET_DISPLAYMODE', payload: DISPLAYMODE_PARKEERDATA_CLUSTERS }) }}>\n          <span className=\"layer-title\">\n            Clusters\n          </span>\n        </div>\n\n        <div data-type=\"vehicles\"  className={`layer${displayMode!==DISPLAYMODE_PARKEERDATA_VOERTUIGEN ? ' layer-inactive':''}`}\n          onClick={() => { dispatch({ type: 'LAYER_SET_DISPLAYMODE', payload: DISPLAYMODE_PARKEERDATA_VOERTUIGEN }) }}>\n          <span className=\"layer-title\">\n            Voertuigen\n          </span>\n        </div>\n\n        { isLoggedIn && showZoneOnOff ?\n          <div data-type=\"zones\" className={`layer${!zonesVisible ? ' layer-inactive':''}`} onClick={() => {\n              dispatch({ type: 'LAYER_TOGGLE_ZONES_VISIBLE', payload: null })\n          }}>\n            <span className=\"layer-title\">\n              Zones\n            </span>\n          </div> : null\n        }\n      </div>\n    </MobileSlideBox>\n  )\n}\n\nexport {\n  SelectLayerMobile\n}","export const cPollDelayAccessControlList = 60 * 1000;\nexport const cPollDelayMetadataZones = 60 * 1000;\nexport const cPollDelayMetadataZonesGeodata = 60 * 1000;\nexport const cPollDelayParkingData = 60 * 1000;\nexport const cPollDelayTripData = 60 * 1000;\nexport const cPollDelayVerhuringenData = 60 * 1000;\n\nexport const cPollDelayErrorMultiplyer = 2; // wait X times as long after error\nexport const cPollDelayLoading = 500; // short delay while loading\n","import { cPollDelayAccessControlList, cPollDelayErrorMultiplyer } from '../constants.js';\n\nconst cPublicAanbieders = [\n    { value:\"cykl\", system_id:\"cykl\", name:\"Cykl\" },\n    { value:\"flickbike\", system_id:\"flickbike\", name:\"Flickbike\" },\n    { value:\"donkey\", system_id:\"donkey\", name:\"Donkey\" },\n    { value:\"mobike\", system_id:\"mobike\", name:\"Mobike\" },\n    { value:\"htm\", system_id:\"htm\", name:\"HTM\" },\n    { value:\"gosharing\", system_id:\"gosharing\", name:\"GO\" },\n    { value:\"check\", system_id:\"check\", name:\"CHECK\" },\n    { value:\"felyx\", system_id:\"felyx\", name:\"Felyx\" },\n    { value:\"deelfietsnederland\", system_id:\"deelfietsnederland\", name:\"Deelfiets\" },\n    { value:\"keobike\", system_id:\"keobike\", name:\"Keobike\" },\n    { value:\"lime\", system_id:\"lime\", name:\"Lime\" },\n    { value:\"baqme\", system_id:\"baqme\", name:\"BAQME\" },\n    { value:\"cargoroo\", system_id:\"cargoroo\", name:\"Cargoroo\" },\n    { value:\"uwdeelfiets\", system_id:\"uwdeelfiets\", name:\"uwdeelfiets\" },\n    { value:\"hely\", system_id:\"hely\", name:\"Hely\" }\n  ];\n  \nconst cPublicGebieden = [\n  { gm_code:\"\", name:\"Alle Gebieden\" }, { gm_code:\"GM0518\", name:\"'s-Gravenhage\" }, { gm_code:\"GM0796\", name:\"'s-Hertogenbosch\" }, { gm_code:\"GM0613\", name:\"Albrandswaard\" }, { gm_code:\"GM0141\", name:\"Almelo\" }, { gm_code:\"GM0034\", name:\"Almere\" }, { gm_code:\"GM0484\", name:\"Alphen aan den Rijn\" }, { gm_code:\"GM0307\", name:\"Amersfoort\" }, { gm_code:\"GM0362\", name:\"Amstelveen\" }, { gm_code:\"GM0363\", name:\"Amsterdam\" }, { gm_code:\"GM0200\", name:\"Apeldoorn\" }, { gm_code:\"GM0202\", name:\"Arnhem\" }, { gm_code:\"GM0106\", name:\"Assen\" }, { gm_code:\"GM0489\", name:\"Barendrecht\" }, { gm_code:\"GM0203\", name:\"Barneveld\" }, { gm_code:\"GM0373\", name:\"Bergen (NH\" }, { gm_code:\"GM0753\", name:\"Best\" }, { gm_code:\"GM0375\", name:\"Beverwijk\" }, { gm_code:\"GM0377\", name:\"Bloemendaal\" }, { gm_code:\"GM0758\", name:\"Breda\" }, { gm_code:\"GM0312\", name:\"Bunnik\" }, { gm_code:\"GM0313\", name:\"Bunschoten\" }, { gm_code:\"GM0502\", name:\"Capelle aan den IJssel\" }, { gm_code:\"GM0310\", name:\"De Bilt\" }, { gm_code:\"GM0736\", name:\"De Ronde Venen\" }, { gm_code:\"GM0503\", name:\"Delft\" }, { gm_code:\"GM0150\", name:\"Deventer\" }, { gm_code:\"GM0384\", name:\"Diemen\" }, { gm_code:\"GM0505\", name:\"Dordrecht\" }, { gm_code:\"GM0228\", name:\"Ede\" }, { gm_code:\"GM0772\", name:\"Eindhoven\" }, { gm_code:\"GM0153\", name:\"Enschede\" }, { gm_code:\"GM0232\", name:\"Epe\" }, { gm_code:\"GM1771\", name:\"Geldrop-Mierlo\" }, { gm_code:\"GM1942\", name:\"Gooise Meren\" }, { gm_code:\"GM0014\", name:\"Groningen\" }, { gm_code:\"GM0392\", name:\"Haarlem\" }, { gm_code:\"GM0394\", name:\"Haarlemmermeer\" }, { gm_code:\"GM0243\", name:\"Harderwijk\" }, { gm_code:\"GM0246\", name:\"Heerde\" }, { gm_code:\"GM0794\", name:\"Helmond\" }, { gm_code:\"GM0164\", name:\"Hengelo\" }, { gm_code:\"GM0798\", name:\"Hilvarenbeek\" }, { gm_code:\"GM0402\", name:\"Hilversum\" }, { gm_code:\"GM0353\", name:\"IJsselstein\" }, { gm_code:\"GM0166\", name:\"Kampen\" }, { gm_code:\"GM0542\", name:\"Krimpen aan den IJssel\" }, { gm_code:\"GM1621\", name:\"Lansingerland\" }, { gm_code:\"GM0080\", name:\"Leeuwarden\" }, { gm_code:\"GM1916\", name:\"Leidschendam-Voorburg\" }, { gm_code:\"GM0327\", name:\"Leusden\" }, { gm_code:\"GM0809\", name:\"Loon op Zand\" }, { gm_code:\"GM0556\", name:\"Maassluis\" }, { gm_code:\"GM1842\", name:\"Midden-Delfland\" }, { gm_code:\"GM1952\", name:\"Midden-Groningen\" }, { gm_code:\"GM0356\", name:\"Nieuwegein\" }, { gm_code:\"GM0267\", name:\"Nijkerk\" }, { gm_code:\"GM0268\", name:\"Nijmegen\" }, { gm_code:\"GM1930\", name:\"Nissewaard\" }, { gm_code:\"GM0820\", name:\"Nuenen, Gerwen en Nederwetten\" }, { gm_code:\"GM0302\", name:\"Nunspeet\" }, { gm_code:\"GM0826\", name:\"Oosterhout\" }, { gm_code:\"GM0431\", name:\"Oostzaan\" }, { gm_code:\"GM1926\", name:\"Pijnacker-Nootdorp\" }, { gm_code:\"GM0273\", name:\"Putten\" }, { gm_code:\"GM0597\", name:\"Ridderkerk\" }, { gm_code:\"GM0603\", name:\"Rijswijk\" }, { gm_code:\"GM1674\", name:\"Roosendaal\" }, { gm_code:\"GM0599\", name:\"Rotterdam\" }, { gm_code:\"GM0606\", name:\"Schiedam\" }, { gm_code:\"GM0848\", name:\"Son en Breugel\" }, { gm_code:\"GM0855\", name:\"Tilburg\" }, { gm_code:\"GM1730\", name:\"Tynaarlo\" }, { gm_code:\"GM0344\", name:\"Utrecht\" }, { gm_code:\"GM1581\", name:\"Utrechtse Heuvelrug\" }, { gm_code:\"GM0861\", name:\"Veldhoven\" }, { gm_code:\"GM0622\", name:\"Vlaardingen\" }, { gm_code:\"GM0865\", name:\"Vught\" }, { gm_code:\"GM0866\", name:\"Waalre\" }, { gm_code:\"GM0867\", name:\"Waalwijk\" }, { gm_code:\"GM0289\", name:\"Wageningen\" }, { gm_code:\"GM0629\", name:\"Wassenaar\" }, { gm_code:\"GM1960\", name:\"West Betuwe\" }, { gm_code:\"GM1783\", name:\"Westland\" }, { gm_code:\"GM0637\", name:\"Zoetermeer\" }, { gm_code:\"GM0642\", name:\"Zwijndrecht\" }, { gm_code:\"GM0193\", name:\"Zwolle\" }\n]\n\n// id should correspond to the api filter values\nconst cPublicVoertuigTypes = [\n    { id: 'bicycle', name: 'Fiets'},\n    { id: 'cargo_bicycle', name: 'Bakfiets'},\n    { id: 'moped', name: 'Scooter'},\n    { id: 'car', name: 'Auto'},\n    { id: 'unknown', name: 'Onbekend'},\n]\n\nvar store_accesscontrollist = undefined;\n\nconst isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nvar timerid_gebiedenaanbieders = undefined;\n\nconst updateAccessControlList = ()  => {\n  let delay = cPollDelayAccessControlList;\n  try {\n    if(undefined===store_accesscontrollist) {\n      // console.log(\"no redux state available yet - skipping metadata update\");\n      return false;\n    }\n    \n    const state = store_accesscontrollist.getState();\n    if(!isLoggedIn(state)) {\n      // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n      store_accesscontrollist.dispatch({ type: 'SET_GEBIEDEN', payload: cPublicGebieden});\n      \n      // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n      store_accesscontrollist.dispatch({ type: 'SET_AANBIEDERS', payload: cPublicAanbieders});\n\n      store_accesscontrollist.dispatch({ type: 'SET_METADATA_LOADED', payload: true});\n    } else {\n      let url=\"https://api.deelfietsdashboard.nl/dashboard-api/menu/acl\";\n      let options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      \n      fetch(url, options).then((response) => {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n\n        response.json()\n          .then((metadata) => {\n            // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n            // console.log(\"dispatch gebieden \", metadata.municipalities);\n            store_accesscontrollist.dispatch({ type: 'SET_GEBIEDEN', payload: metadata.municipalities});\n            if(metadata.municipalities.length===1) {\n              store_accesscontrollist.dispatch({ type: 'SET_FILTER_GEBIED', payload: metadata.municipalities[0].gm_code});\n            }\n            \n            // items -> {\"name\": \"Cykl\",\"system_id\": \"cykl\"}\n            store_accesscontrollist.dispatch({ type: 'SET_AANBIEDERS', payload: metadata.operators});\n\n            // items -> {\"id\": 1, \"name\": \"asdfasdfadfa\" }\n            let types = cPublicVoertuigTypes; // TODO: get from ACL once implemented\n            store_accesscontrollist.dispatch({ type: 'SET_VEHICLE_TYPES', payload: types});\n            \n            store_accesscontrollist.dispatch({ type: 'SET_METADATA_LOADED', payload: true});\n          })\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n        });\n        return true;\n      }\n  } catch(ex) {\n    console.error(\"Unable to update ACL\", ex)\n    delay = cPollDelayAccessControlList * cPollDelayErrorMultiplyer;\n    \n    return false;\n  } finally {\n    timerid_gebiedenaanbieders = setTimeout(updateAccessControlList, delay);\n  }\n}\n\nexport const forceUpdateAccessControlList = () => {\n  if(undefined!==timerid_gebiedenaanbieders) { clearTimeout(timerid_gebiedenaanbieders); }\n  updateAccessControlList();\n}\n\nexport const initUpdateAccessControlList = (_store) => {\n  store_accesscontrollist = _store;\n}\n\nforceUpdateAccessControlList();","import { cPollDelayMetadataZonesGeodata, cPollDelayErrorMultiplyer, cPollDelayLoading } from '../constants.js';\n\nvar store = undefined;\n\nconst isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nvar timerid_zonesgeodata = undefined;\n\n// const cTestFeatureNL = {\n//    \"type\":\"Feature\",\n//    \"geometry\": {\n//      \"type\": \"Polygon\",\n//      \"coordinates\":\n//       [\n//         [[4,53],[6, 53],[6, 52],[4,52],[4,53]]\n//       ]\n//   }\n// }\n\nexport const getEmptyZonesGeodataPayload = () => {\n  return  {\n    \"data\": {\n      \"type\":\"FeatureCollection\",\n      \"features\":[]\n    },\n    \"filter\": \"\"\n  }\n}\n\nconst updateZonesGeodata = ()  => {\n  let delay = cPollDelayMetadataZonesGeodata;\n  try {\n    if(undefined===store) {\n      // console.log(\"no redux state available yet - skipping zones geodata update\");\n      return false;\n    }\n    \n    const state = store.getState();\n    if(state.metadata.zones_loaded===false) {\n      delay = cPollDelayLoading;\n      // console.log(\"no zone metadata available yet - skipping zones geodata update\");\n      return false;\n    }\n\n    let zone_ids=\"\";\n    if(!isLoggedIn(state)||!state) {\n      // no filter data available\n      zone_ids = \"\";\n    } else if (state.filter.gebied===\"\") {\n      // get bounds of all municipalities\n      zone_ids = state.metadata.zones.filter(zone=>(zone.zone_type===\"municipality\")).map(zone=>zone.zone_id).join(\",\");\n    } else if (state.filter.zones.length===0) {\n      // get bounds of single municipality zone\n      let list_g = state.metadata.gebieden.filter(gebied=>gebied.gm_code===state.filter.gebied).map(gebied=>gebied.gm_code);\n      let list_z = state.metadata.zones.filter(zone=>(zone.zone_type===\"municipality\"&&list_g.includes(zone.municipality)));\n      zone_ids = list_z.map(zone=>zone.zone_id).join(\",\");\n    } else {\n      // get bounds of all selected zones\n      zone_ids = state.filter.zones; // use selected zones\n    }\n\n    if(zone_ids===\"\") {\n      store.dispatch({ type: 'SET_ZONES_GEODATA', payload: getEmptyZonesGeodataPayload()});\n      return;\n    }\n    \n    // https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code=GM0518\n    let url_zonesgeodata = \"https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids=\"+zone_ids+\"&&include_geojson=true\";\n    // let url_geodata=\"https://api.deelfietsdashboard.nl/dashboard-api/menu/acl\"\n    // https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids=34217&include_geojson=true\n    let options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n    fetch(url_zonesgeodata, options).then((response) => {\n      if(!response.ok) {\n        console.error(\"unable to fetch: %o\", response);\n        return false\n      }\n    \n      response.json()\n        .then((metadata) => {\n          const st = require('geojson-bounds');\n          \n          // convert to standard geojson here\n          let geojson = {\n             \"type\":\"FeatureCollection\",\n             \"features\":[]\n          }\n          \n          let fullextent = undefined;\n\n          metadata.zones.forEach((zonedata, idx) => {\n            switch(zonedata.geojson.type) {\n              case \"MultiPolygon\":\n              case \"Polygon\":\n                let feature = {\n                   \"type\":\"Feature\",\n                   \"geometry\": zonedata.geojson\n                }\n                geojson.features.push(feature);\n                \n                let extent = st.extent(feature)\n                if(undefined===fullextent) {\n                  fullextent=extent;\n                } else {\n                  fullextent[0]=Math.min(extent[0],fullextent[0]);\n                  fullextent[1]=Math.min(extent[1],fullextent[1]);\n                  fullextent[2]=Math.max(extent[2],fullextent[2]);\n                  fullextent[3]=Math.max(extent[3],fullextent[3]);\n                }\n\n                break;\n              default:\n                console.warn(\"pollMetadataZonesgeodata - don't know how to handle %s\", zonedata.type, zonedata);\n                break\n            }\n          })\n          \n          let payload = { data: geojson, filter: state.filter.zones, bounds: fullextent};\n          store.dispatch({ type: 'SET_ZONES_GEODATA', payload});\n          store.dispatch({ type: 'LAYER_SET_ZONES_EXTENT', payload: fullextent })\n          \n        }).catch(ex=>{ console.error(\"unable to decode JSON\", ex); });\n      }).catch(ex=>{ console.error(\"unable to fetch zone geodata\"); });\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = cPollDelayMetadataZonesGeodata * cPollDelayErrorMultiplyer;\n  } finally {\n    timerid_zonesgeodata = setTimeout(updateZonesGeodata, delay);\n  }\n}\n\nexport const forceUpdateZonesgeodata = () => {\n  if(undefined!==timerid_zonesgeodata) { clearTimeout(timerid_zonesgeodata); }\n  updateZonesGeodata();\n}\n\nexport const initUpdateZonesgeodata = (_store) => {\n  store = _store;\n}\n","import { cPollDelayMetadataZones, cPollDelayErrorMultiplyer, cPollDelayLoading } from '../constants.js';\nimport { getEmptyZonesGeodataPayload } from './pollMetadataZonesgeodata';\n\nvar store_zones = undefined;\n\nconst isLoggedIn = (state) => {\n  return state.authentication.user_data ? true : false;\n};\n\nvar timerid_zones = undefined;\n\nconst updateZones = ()  => {\n  let delay = cPollDelayMetadataZones;\n  try {\n    if(undefined===store_zones) {\n      // console.log(\"no redux state available yet - skipping zones update\");\n      return false;\n    }\n    \n    const state = store_zones.getState();\n    if(state.metadata.metadata_loaded===false) {\n      delay = cPollDelayLoading;\n      // console.log(\"no metadata available yet - skipping zones update\");\n      return false;\n    }\n    \n    let url_zones=\"\";\n    if(!isLoggedIn(state)||!state) { // ||state.filter.gebied===\"\"\n      store_zones.dispatch({ type: 'SET_ZONES', payload: []});\n      store_zones.dispatch({ type: 'SET_ZONES_GEODATA', payload: getEmptyZonesGeodataPayload()});\n      store_zones.dispatch({ type: 'SET_ZONES_LOADED', payload: true});\n      \n      return;\n    } if(state.filter.gebied===\"\") {\n      store_zones.dispatch({ type: 'SET_ZONES', payload: []});\n      store_zones.dispatch({ type: 'SET_ZONES_GEODATA', payload: getEmptyZonesGeodataPayload()});\n      store_zones.dispatch({ type: 'SET_ZONES_LOADED', payload: true});\n      return;\n      \n      // later: show outlines for all municipalities\n      // url_zones=\"https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_type=municipality\";\n    } else {\n      // https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code=GM0518\n      url_zones=\"https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code=\"+state.filter.gebied;\n    }\n\n    // let url_geodata=\"https://api.deelfietsdashboard.nl/dashboard-api/menu/acl\"\n    // https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids=34217&include_geojson=true\n    let options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n    \n    fetch(url_zones, options).then((response) => {\n      if(!response.ok) {\n        console.error(\"unable to fetch: %o\", response);\n        return false\n      }\n\n      response.json()\n        .then((metadata) => {\n          // items: { \"municipality\": \"GM0785\", \"name\": \"Goirle\", \"owner\": null, \"zone_id\": 34278, \"zone_type\": \"municipality\"}\n          store_zones.dispatch({ type: 'SET_ZONES', payload: metadata.zones});\n          store_zones.dispatch({ type: 'SET_ZONES_LOADED', payload: true});\n        })\n      }).catch(ex=>{\n        console.error(\"unable to decode JSON\");\n      });\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = cPollDelayMetadataZones * cPollDelayErrorMultiplyer;\n  } finally {\n    timerid_zones = setTimeout(updateZones, delay);\n  }\n}\n\nexport const forceUpdateZones = () => {\n  if(undefined!==timerid_zones) { clearTimeout(timerid_zones); }\n  updateZones();\n}\n\nexport const initUpdateZones = (_store) => {\n  // console.log(\"initUpdateZones\")\n  store_zones = _store;\n  forceUpdateZones();\n}\n\n","import moment from 'moment';\nimport { createFilterparameters, isLoggedIn, convertDurationToBin } from './pollTools.js';\nimport { cPollDelayParkingData, cPollDelayErrorMultiplyer, cPollDelayLoading } from '../constants.js';\n\nvar store_parkingdata = undefined;\n\nvar timerid_parkingdata = undefined;\n\nconst updateParkingData = ()  => {\n  // console.log(\"updateParkingData\")\n  let delay = cPollDelayParkingData;\n  try {\n    if(undefined===store_parkingdata) {\n      // console.log(\"no redux state available yet - skipping zones update\");\n      return false;\n    }\n    \n    const state = store_parkingdata.getState();\n    if(state.metadata.zones_loaded===false) {\n      delay = cPollDelayLoading;\n      // console.log(\"no zone metadata available yet - skipping parking data update\");\n      return false;\n    }\n    \n    const canfetchdata = isLoggedIn(state)&&state&&state.filter&&state.authentication.user_data.token;\n    let url = \"https://api.deelfietsdashboard.nl/dashboard-api/public/vehicles_in_public_space\";\n    let options = {};\n    if(!canfetchdata) {\n      // store_parkingdata.dispatch({type: 'SET_PARKINGDATA', payload: []});\n      let filterparams = createFilterparameters(true, state.filter, state.metadata);\n      if(filterparams.length>0) {\n        url += \"?\" + filterparams.join(\"&\");\n      }\n    } else {\n      if(null!==state.filter&&null!==state.authenticationdata) {\n        // url = \"https://api.deelfietsdashboard.nl/dashboard-api/park_events?timestamp=2021-10-22T15:46:20Z\"+aanbiedersfilter; // + \"&zone_ids=34234\";\n        url = \"https://api.deelfietsdashboard.nl/dashboard-api/park_events\";\n        let filterparams = createFilterparameters(true, state.filter, state.metadata);\n        if(filterparams.length>0) {\n          url += \"?\" + filterparams.join(\"&\");\n        }\n        options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      }\n    }\n    fetch(url, options).then(function(response) {\n      if(!response.ok) {\n        console.error(\"unable to fetch: %o\", response);\n        return false\n      }\n      \n      response.json().then(function(vehicles) {\n        if(isLoggedIn(state)) {\n          vehicles = vehicles.park_events\n        }\n        let geoJson = {\n           \"type\":\"FeatureCollection\",\n           \"features\":[]\n        }\n        \n        let operatorcolors = {};\n        state.metadata.aanbieders.forEach(o => {\n          operatorcolors[o.system_id || o.value]=o.color;\n        });\n    \n        const md5 = require('md5');\n        var start_time = moment(state.filter.datum);\n        \n        let markersexclude = state.filter.markersexclude.split(\",\");\n\n        vehicles.forEach(v => {\n          let in_public_space_since = isLoggedIn(state) ? v.start_time : v.in_public_space_since;\n    \n          var minutes = start_time.diff(moment(in_public_space_since), 'minutes');\n          const duration_bin = convertDurationToBin(minutes);\n          \n          let feature = {\n             \"type\":\"Feature\",\n             \"properties\":{\n                \"id\":md5(v.location.latitude+v.location.longitude),\n                \"system_id\": v.system_id || v.value,// v.value is used in the public map\n                \"in_public_space_since\": in_public_space_since,\n                \"duration_bin\": duration_bin,\n             },\n             \"geometry\":{\n                \"type\":\"Point\",\n                \"coordinates\":[\n                   v.location.longitude,\n                   v.location.latitude,\n                   0.0\n                ]\n             }\n          }\n          \n          let markerVisible = !markersexclude.includes(duration_bin.toString());\n          if(markerVisible) {\n            geoJson.features.push(feature);\n          }\n          // new maplibregl.Marker({color: \"#FF0000\"})\n          //   .setLngLat([x.location.longitude, x.location.latitude])\n          //   .addTo(map.current);\n          //\n          // return;\n        })\n\n        console.log('geoJson in pollParkingData', geoJson)\n    \n        store_parkingdata.dispatch({\n          type: 'SET_VEHICLES',\n          payload: geoJson\n        })\n    \n        // setJson(json);\n        // setTimestamp(new Date());\n      }).catch(ex=>{\n        console.error(\"unable to decode JSON\");\n        // setJson(false);\n      });\n    }).catch(ex=>{\n      console.error(\"fetch error - unable to fetch JSON from %s\", url);\n      // setJson(false);\n    });\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = cPollDelayParkingData * cPollDelayErrorMultiplyer;\n  } finally {\n    timerid_parkingdata = setTimeout(updateParkingData, delay);\n  }\n}\n\nexport const forceUpdateParkingData = () => {\n  if(undefined!==timerid_parkingdata) { clearTimeout(timerid_parkingdata); }\n  updateParkingData();\n}\n\nexport const initUpdateParkingData = (_store) => {\n  store_parkingdata = _store;\n  forceUpdateParkingData();\n}\n","// import moment from 'moment';\nimport { createFilterparameters, isLoggedIn } from './pollTools.js';\nimport { cPollDelayTripData, cPollDelayErrorMultiplyer } from '../constants.js';\n\nvar store_tripdata = undefined;\nvar timerid_tripdata = undefined;\n\n// Function that gets trip data and saves it into store\nconst updateTripData = ()  => {\n  let delay = cPollDelayTripData;\n  try {\n    if(undefined===store_tripdata) {\n      console.log(\"no redux state available yet - skipping zones update\");\n      return false;\n    }\n\n    const state = store_tripdata.getState();\n    const canfetchdata = isLoggedIn(state)&&state&&state.filter&&state.authentication.user_data.token;\n    if(!canfetchdata) {\n      store_tripdata.dispatch({ type: 'SET_TRIPDATA', payload: []});\n    } else {\n      let url = \"https://api.deelfietsdashboard.nl/dashboard-api/public/trips_in_public_space\";\n      let options = {};\n      if(null!==state.filter&&null!==state.authenticationdata) {\n        url = \"https://api.deelfietsdashboard.nl/dashboard-api/trips\";\n        let filterparams = createFilterparameters(false, state.filter, state.metadata);\n        if(filterparams.length>0) {\n          url += \"?\" + filterparams.join(\"&\");\n        }\n        options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      }\n      fetch(url, options).then(function(response) {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n        \n        response.json().then(function(data) {\n          // console.log(data);\n          // return;\n          \n          let trips = [];\n          if(isLoggedIn) {\n            trips = data.trips\n          }\n          let geoJson = {\n             \"type\":\"FeatureCollection\",\n             \"features\":[]\n          }\n      \n          const md5 = require('md5');\n          // var current_time = moment();\n          trips.forEach(t => {\n            // let in_public_space_since = isLoggedIn ? v.start_time : v.in_public_space_since;\n            //\n            // var minutes = current_time.diff(moment(in_public_space_since), 'minutes');\n            // const color = convertDurationToColor(minutes);\n            \n            // {\n            //     \"bike_id\": \"check:e2b733e9-ac8f-459e-9904-19775ff730d7\",\n            //     \"end_location\": {\n            //         \"latitude\": 51.92392,\n            //         \"longitude\": 4.46867\n            //     },\n            //     \"end_time\": \"2021-11-01T18:13:01.927898Z\",\n            //     \"start_location\": {\n            //         \"latitude\": 51.91227,\n            //         \"longitude\": 4.46921\n            //     },\n            //     \"start_time\": \"2021-11-01T17:52:31.595659Z\",\n            //     \"system_id\": \"check\",\n            //     \"trip_id\": 17179722\n            // }\n      \n            let feature = {\n               \"type\":\"Feature\",\n               \"properties\":{\n                  \"id\":md5(t.start_location.latitude+t.start_location.longitude),\n                  \"system_id\": t.system_id,\n                  // \"in_public_space_since\": in_public_space_since,\n                  \"color\": \"#38ff71\" // color\n               },\n               \"geometry\":{\n                  \"type\":\"Point\",\n                  \"coordinates\":[\n                     t.start_location.longitude,\n                     t.start_location.latitude,\n                     0.0\n                  ]\n               }\n            }\n      \n            geoJson.features.push(feature);\n\n            let feature2 = {\n               \"type\":\"Feature\",\n               \"properties\":{\n                  \"id\":md5(t.end_location.latitude+t.end_location.longitude),\n                  \"system_id\": t.system_id,\n                  // \"in_public_space_since\": in_public_space_since,\n                  \"color\": \"#cc0000\" // color\n               },\n               \"geometry\":{\n                  \"type\":\"Point\",\n                  \"coordinates\":[\n                     t.end_location.longitude,\n                     t.end_location.latitude,\n                     0.0\n                  ]\n               }\n            }\n      \n            geoJson.features.push(feature2);\n            // new maplibregl.Marker({color: \"#FF0000\"})\n            //   .setLngLat([x.location.longitude, x.location.latitude])\n            //   .addTo(map.current);\n            //\n            // return;\n          })\n      \n          store_tripdata.dispatch({\n            type: 'SET_TRIPS',\n            payload: geoJson\n          })\n        \n          // setJson(json);\n          // setTimestamp(new Date());\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n          // setJson(false);\n        });\n      }).catch(ex=>{\n        console.error(\"fetch error - unable to fetch JSON from %s\", url);\n        // setJson(false);\n      });\n    }\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = cPollDelayTripData * cPollDelayErrorMultiplyer;\n  } finally {\n    timerid_tripdata = setTimeout(updateTripData, delay);\n  }\n}\n\nexport const forceUpdateTripData = () => {\n  if(undefined!==timerid_tripdata) { clearTimeout(timerid_tripdata); }\n  updateTripData();\n}\n\nexport const initUpdateTripData = (_store) => {\n  // console.log(\"initUpdateTripData\")\n  store_tripdata = _store;\n  forceUpdateTripData();\n}\n","// import moment from 'moment';\nimport { createFilterparameters, isLoggedIn } from './pollTools.js';\nimport { cPollDelayVerhuringenData, cPollDelayErrorMultiplyer } from '../constants.js';\n\nvar store_verhuringendata = undefined;\nvar timerid_verhuringendata = undefined;\n\n// Function that gets trip data and saves it into store\nconst updateVerhuringenData = ()  => {\n  let delay = cPollDelayVerhuringenData;\n  try {\n    if(undefined===store_verhuringendata) {\n      console.log(\"no redux state available yet - skipping zones update\");\n      return false;\n    }\n\n    const state = store_verhuringendata.getState();\n    const canfetchdata = isLoggedIn(state)&&state&&state.filter&&state.authentication.user_data.token;\n    if(!canfetchdata) {\n      store_verhuringendata.dispatch({ type: 'SET_VERHUURDATA', payload: []});\n    } else {\n      let url = \"https://api.deelfietsdashboard.nl/dashboard-api/rentals\";\n      // ?start_time=2021-12-06T09:15:00Z&end_time=2021-12-07T09:15:00Z&operators=cykl,flickbike,donkey,mobike,htm,gosharing,check,felyx,deelfietsnederland,keobike,lime,baqme,cargoroo,uwdeelfiets,hely&zone_ids=34217\n      let options = {};\n      if(null!==state.filter&&null!==state.authenticationdata) {\n        url = \"https://api.deelfietsdashboard.nl/dashboard-api/rentals\";\n        let filterparams = createFilterparameters(true, state.filter, state.metadata);\n        if(filterparams.length>0) {\n          url += \"?\" + filterparams.join(\"&\");\n        }\n        options = { headers : { \"authorization\": \"Bearer \" + state.authentication.user_data.token }}\n      }\n      fetch(url, options).then(function(response) {\n        if(!response.ok) {\n          console.error(\"unable to fetch: %o\", response);\n          return false\n        }\n        \n        response.json().then(function(data) {\n          console.log(\"update verhuringen data - response json\", data)\n          // return;\n          \n          let verhuringen = [];\n          if(isLoggedIn) {\n            verhuringen = data.verhuringen\n          }\n          let geoJson = {\n             \"type\":\"FeatureCollection\",\n             \"features\":[]\n          }\n      \n          // const md5 = require('md5');\n          // var current_time = moment();\n          // verhuringen.start_rentals / verhuringen.end_rentals\n          verhuringen.start_rentals.forEach(v => {\n            \n            // ***********************************\n            // TODO\n            // ***********************************\n            \n            // // let in_public_space_since = isLoggedIn ? v.start_time : v.in_public_space_since;\n            // //\n            // // var minutes = current_time.diff(moment(in_public_space_since), 'minutes');\n            // // const color = convertDurationToColor(minutes);\n            //\n            // // {\n            // //     \"bike_id\": \"check:e2b733e9-ac8f-459e-9904-19775ff730d7\",\n            // //     \"end_location\": {\n            // //         \"latitude\": 51.92392,\n            // //         \"longitude\": 4.46867\n            // //     },\n            // //     \"end_time\": \"2021-11-01T18:13:01.927898Z\",\n            // //     \"start_location\": {\n            // //         \"latitude\": 51.91227,\n            // //         \"longitude\": 4.46921\n            // //     },\n            // //     \"start_time\": \"2021-11-01T17:52:31.595659Z\",\n            // //     \"system_id\": \"check\",\n            // //     \"trip_id\": 17179722\n            // // }\n            //\n            // let feature = {\n            //    \"type\":\"Feature\",\n            //    \"properties\":{\n            //       \"id\":md5(v.start_location.latitude+v.start_location.longitude),\n            //       \"system_id\": v.system_id,\n            //       // \"in_public_space_since\": in_public_space_since,\n            //       \"color\": \"#38ff71\" // color\n            //    },\n            //    \"geometry\":{\n            //       \"type\":\"Point\",\n            //       \"coordinates\":[\n            //          v.start_location.longitude,\n            //          v.start_location.latitude,\n            //          0.0\n            //       ]\n            //    }\n            // }\n            //\n            // geoJson.features.push(feature);\n            //\n            // let feature2 = {\n            //    \"type\":\"Feature\",\n            //    \"properties\":{\n            //       \"id\":md5(v.end_location.latitude+v.end_location.longitude),\n            //       \"system_id\": v.system_id,\n            //       // \"in_public_space_since\": in_public_space_since,\n            //       \"color\": \"#cc0000\" // color\n            //    },\n            //    \"geometry\":{\n            //       \"type\":\"Point\",\n            //       \"coordinates\":[\n            //          v.end_location.longitude,\n            //          v.end_location.latitude,\n            //          0.0\n            //       ]\n            //    }\n            // }\n            //\n            // geoJson.features.push(feature2);\n            // // new maplibregl.Marker({color: \"#FF0000\"})\n            // //   .setLngLat([x.location.longitude, x.location.latitude])\n            // //   .addTo(map.current);\n            // //\n            // // return;\n            \n            // ***********************************\n            // END TODO\n            // ***********************************\n          })\n      \n          store_verhuringendata.dispatch({\n            type: 'SET_VERHURINGEN',\n            payload: geoJson\n          })\n        \n          // setJson(json);\n          // setTimestamp(new Date());\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n          // setJson(false);\n        });\n      }).catch(ex=>{\n        console.error(\"fetch error - unable to fetch JSON from %s\", url);\n        // setJson(false);\n      });\n    }\n  } catch(ex) {\n    console.error(\"Unable to update zones\", ex)\n    delay = cPollDelayVerhuringenData * cPollDelayErrorMultiplyer;\n  } finally {\n    timerid_verhuringendata = setTimeout(updateVerhuringenData, delay);\n  }\n}\n\nexport const forceUpdateVerhuringenData = () => {\n  if(undefined!==timerid_verhuringendata) { clearTimeout(timerid_verhuringendata); }\n  updateVerhuringenData();\n}\n\nexport const initUpdateVerhuringenData = (_store) => {\n  // console.log(\"initUpdateVerhuringenData\")\n  store_verhuringendata = _store;\n  forceUpdateVerhuringenData();\n}\n","import { useEffect, useRef } from 'react';\nimport {\n BrowserRouter as Router,\n Switch,\n Route,\n Redirect\n} from \"react-router-dom\";\nimport { store } from './AppProvider.js';\n\nimport Menu from './components/Menu.jsx';\nimport MenuSecondary from './components/Menu/MenuSecondary.jsx';\nimport MapPage from './pages/MapPage.jsx';\nimport ContentPage from './pages/ContentPage.jsx';\nimport StatsPage from './pages/StatsPage.jsx';\nimport Login from './pages/Login.jsx';\nimport Monitoring from './pages/Monitoring.jsx';\nimport FilterbarDesktop from './components/Filterbar/FilterbarDesktop.jsx';\nimport FilterbarMobile from './components/Filterbar/FilterbarMobile.jsx';\nimport {SelectLayerMobile} from './components/SelectLayer/SelectLayerMobile.jsx';\n\nimport { useSelector } from 'react-redux';\n\nimport { initUpdateAccessControlList, forceUpdateAccessControlList } from './poll-api/pollMetadataAccessControlList.js';\nimport { initUpdateZones, forceUpdateZones } from './poll-api/pollMetadataZones.js';\nimport { initUpdateParkingData, forceUpdateParkingData } from './poll-api/pollParkingData.js';\nimport { initUpdateTripData, forceUpdateTripData } from './poll-api/pollTripData.js';\nimport { initUpdateZonesgeodata, forceUpdateZonesgeodata } from './poll-api/pollMetadataZonesgeodata.js';\nimport { initUpdateVerhuringenData, forceUpdateVerhuringenData } from './poll-api/pollVerhuringenData.js';\n\nimport './App.css';\n\nfunction App() {\n  const mapContainer = useRef(null);\n\n  // let [json, setJson] = useState(false);\n  // let [timestamp, setTimestamp] = useState(false);\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n  \n  const showfilter = useSelector(state => {\n    return state.filter ? state.filter.visible : false;\n  });\n\n  const isFilterBarVisible = useSelector(state => {\n    return state.ui ? state.ui['FilterBar'] : false;\n  });\n\n  const filter = useSelector(state => {\n    return state.filter;\n  });\n\n  // Init polling scripts\n  useEffect(() => {\n    initUpdateZones(store);\n    initUpdateZonesgeodata(store);\n    initUpdateAccessControlList(store);\n    initUpdateParkingData(store);\n    initUpdateTripData(store);\n    initUpdateVerhuringenData(store);\n    forceUpdateZones();\n    forceUpdateZonesgeodata();\n    forceUpdateAccessControlList();\n  });\n\n  // update scripts\n  useEffect(() => {\n    forceUpdateTripData();\n    forceUpdateParkingData();\n    forceUpdateVerhuringenData();\n  }, [filter]);\n\n  // Mobile menu: Filters / Layers\n  const renderMobileMenus = () => {\n    return <>\n      <div className=\"hidden sm:block\">\n        <FilterbarDesktop isVisible={isLoggedIn && isFilterBarVisible} showinterval={false} />\n      </div>\n      <div className=\"block sm:hidden\">\n        <FilterbarMobile isVisible={isLoggedIn && isFilterBarVisible} showinterval={false} />\n      </div>\n      <SelectLayerMobile />\n    </>\n  }\n\n  const renderMapElements = () => {\n    return <>\n      <div ref={mapContainer} className=\"map-layer\"></div>\n      <MenuSecondary />\n      {renderMobileMenus()}\n    </>\n  }\n\n  return (\n    <Router>\n\n      {/*<Redirect exact from=\"/\" to=\"/map/park\" />*/}\n\n      <div className=\"app\">\n        <div className=\"gui-layer\">\n\n          <Switch>\n            <Route exact path=\"/\">\n              <MapPage mapContainer={mapContainer} />\n              {renderMapElements()}\n            </Route>\n            <Route exact path=\"/login\">\n              <Login />\n            </Route>\n            <Route exact path=\"/map/park\">\n              <MapPage mapContainer={mapContainer} />\n              {renderMapElements()}\n            </Route>\n            <Route exact path=\"/map/rentals\">\n              <MapPage mapContainer={mapContainer} />\n              {renderMapElements()}\n            </Route>\n            <Route exact path=\"/stats/overview\">\n              <ContentPage>\n                <StatsPage />\n              </ContentPage>\n              {renderMobileMenus()}\n            </Route>\n            <Route exact path=\"/monitoring\">\n              <Monitoring />\n            </Route>\n          </Switch>\n\n          <Menu />\n\n         </div>\n       </div>\n\n     </Router>\n  );\n}\n\nexport default App;\n","import React, { Component } from 'react';\n// import { bindActionCreators } from 'redux';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport moment from 'moment';\nimport thunk from 'redux-thunk';\n\nimport appReducer from './reducers';\nimport App from './App';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst md5 = require('md5');\n\n// Get persistentState from localStorage\nconst theState = localStorage.getItem('CROWDD_reduxState')\nconst persistedState = theState ? JSON.parse(theState) : {};\n\nexport const store = createStore(\n  appReducer,\n  persistedState,\n  composeEnhancers(applyMiddleware(thunk)),\n);\n\n// Store Redux state into localStorage\nstore.subscribe(() => {\n  const storeState = store.getState();\n\n  const oldFilterHash = localStorage.getItem('CROWDD_filterhash') || false;\n  const newFilterHash = md5(JSON.stringify(storeState.filter))\n  if(newFilterHash!==oldFilterHash) {\n    // console.log(\"filter changed - invalidate data and zones here!\");\n    localStorage.setItem('CROWDD_filterhash', newFilterHash)\n    \n    store.dispatch({ type: 'CLEAR_ZONES', payload: null});\n    store.dispatch({ type: 'CLEAR_VEHICLES', payload: null});\n  }\n  \n  const storeStateToSaveInLocalStorage = {\n    last_update: moment().unix(),\n    authentication: storeState.authentication,\n    filter: storeState.filter,\n    layers: storeState.layers,\n    ui: storeState.ui\n  }\n  localStorage.setItem('CROWDD_reduxState', JSON.stringify(storeStateToSaveInLocalStorage))\n})\n\nclass AppProvider extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <App content={this.props.content} />\n      </Provider>\n    )\n  }\n}\n\nfunction connectWithStore(store, WrappedComponent, ...args) {\n  let ConnectedWrappedComponent = connect(...args)(WrappedComponent)\n  return function (props) {\n    return <ConnectedWrappedComponent {...props} store={store} />\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    // config: getConfig(state),\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    // actions: bindActionCreators(actions, dispatch),\n  }\n}\n\nexport default AppProvider = connectWithStore(\n  store,\n  AppProvider,\n  mapStateToProps,\n  mapDispatchToProps\n)\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppProvider from './AppProvider';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}