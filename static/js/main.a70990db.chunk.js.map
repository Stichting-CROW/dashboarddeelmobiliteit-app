{"version":3,"sources":["reducers/vehicles.js","reducers/filter.js","reducers/authentication.js","reducers/index.js","components/Menu.jsx","actions/authentication.js","actions/actionTypes.js","components/Map/layers/index.js","components/Map/layers/vehicles-heatmap.js","components/Map/layers/vehicles-point.js","components/Map/layers/vehicles-heatmap-city-level.js","components/Map/Map.jsx","pages/Map.jsx","pages/logo.svg","customHooks/useInterval.js","pages/Demo.jsx","pages/Login.jsx","components/Filterbar.jsx","App.js","AppProvider.js","reportWebVitals.js","index.js"],"names":["initialState","data","visible","gebied","zones","datum","aanbieders","user_data","combineReducers","vehicles","state","action","type","payload","vehicle","uuid","filtered","filter","x","push","console","log","split","includes","join","item","authentication","user","Menu","dispatch","useDispatch","isLoggedIn","useSelector","showfilter","className","to","onClick","e","layers","Map","props","mapContainer","useRef","useState","lng","lat","zoom","counter","setCounter","map","useEffect","current","maplibregl","container","style","accessToken","process","center","addControl","NavigationControl","on","isStyleLoaded","getSource","addSource","setTimeout","addDataSources","getStyle","id","indexOf","removeLayer","getLayer","addLayer","addLayers","ref","setLayers","useInterval","callback","delay","savedCallback","setInterval","clearInterval","Demo","url","json","setJson","timestamp","setTimestamp","fetch","then","response","Date","catch","ex","error","src","logo","alt","Object","keys","length","toLocaleTimeString","href","target","rel","Login","emailaddress","setEmailaddress","password","setPassword","recoverPassword","setRecoverPassword","loggedIn","setLoggedIn","login","preventDefault","loginId","applicationId","method","body","JSON","stringify","headers","res","message","recover","htmlFor","autoCapitalize","placeholder","name","required","onChange","value","Filterbar","filterGebied","filterAanbieders","showSelectGebied","setShowSelectGebied","showSelectAanbieder","setShowSelectAanbieder","gebieden","class","g","viewBox","d","clip-rule","fill-rule","find","renderSelectGebied","content","a","i","aanbieder","stopPropagation","closeFunction","all","renderSelectAanbieders","App","userdata","options","aanbiedersfilter","ts","toISOString","replace","token","fetchVehiclesInPublicSpace","ok","park_events","geoJson","md5","require","current_time","moment","forEach","v","duration","in_public_space_since","start_time","minutes","diff","color","feature","location","latitude","longitude","system_id","features","path","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistedState","localStorage","getItem","parse","store","createStore","appReducer","applyMiddleware","thunk","subscribe","storeState","getState","storeStateToSaveInLocalStorage","lastUpdate","unix","setItem","AppProvider","this","Component","WrappedComponent","args","ConnectedWrappedComponent","connect","connectWithStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a70990db.chunk.js","sourcesContent":["const initialState = {\n  data: null\n}\n\nexport default function vehicles(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_VEHICLES': {\n      const vehicles = action.payload\n      return {\n        data: vehicles\n      }\n    }\n    case 'SET_VEHICLE': {\n      const vehicle = action.payload\n      // Validate input\n      if(! vehicle.uuid) {\n        return {}\n      }\n      // Remove changed vehicle\n      const filtered = state.data.filter(function(x) {\n        return x.uuid !== vehicle.uuid;\n      });\n      // Add vehicle to vehicles set\n      filtered.push(vehicle)\n      // Set store\n      return { data: filtered }\n    }\n    case 'CLEAR_VEHICLES': {\n      return {\n        data: []\n      }\n    }\n    default:\n      return state;\n  }\n\n}\n","const initialState = {\n  visible: false,\n  gebied: \"\",\n  zones: [],\n  datum: null,\n  aanbieders: \"\"\n}\n\nexport default function filter(state = initialState, action) {\n  switch(action.type) {\n    case 'SET_FILTER_VISIBLE': {\n      console.log('reducer filter set filter visible %s', action.payload)\n      return {\n          ...state,\n          visible: action.payload\n      };\n    }\n    case 'SET_FILTER_GEBIED': {\n      console.log('reducer filter set gebied to %s', action.payload)\n      return {\n          ...state,\n          gebied: action.payload,\n          zones: []\n      };\n    }\n    // case 'ADD_TO_FILTER_ZONES': {\n    //   console.log('add item %s to zones filter', action.payload)\n    //   if(!state.filter.zones.includes(action.payload)) {\n    //     state.filter.zones.push(action.payload);\n    //   }\n    //\n    //   return {\n    //       ...state,\n    //       zones: state.filter.zones\n    //   };\n    // }\n    // case 'REMOVE_FROM_FILTER_ZONES': {\n    //   console.log('remove item %s to zones filter', action.payload)\n    //   let zones = state.filter.zones.filter((item) => { return item !== action.payload });\n    //\n    //   return {\n    //       ...state,\n    //       zones\n    //   };\n    // }\n    // case 'CLEAR_FILTER_ZONES': {\n    //   console.log('clear zones filter')\n    //\n    //   return {\n    //       ...state,\n    //       zones: []\n    //   };\n    // }\n    case 'ADD_TO_FILTER_AANBIEDERS': {\n      console.log('add item %s to aanbieders filter %o', action.payload, state)\n      let aanbieders = [];\n      if(state.aanbieders) {\n        console.log(\"filter exists %o\", state.aanbieders)\n        aanbieders = state.aanbieders.split(\",\") || []\n      }\n      console.log(\"aanbieders before %o\", aanbieders)\n      if(!aanbieders.includes(action.payload)) {\n        aanbieders.push(action.payload);\n      }\n      console.log(\"aanbieders after %o\", aanbieders)\n    \n      return {\n          ...state,\n          aanbieders: aanbieders.join(\",\")\n      };\n    }\n    case 'REMOVE_FROM_FILTER_AANBIEDERS': {\n      console.log('remove item %s to aanbieders filter', action.payload)\n      let aanbieders = state.aanbieders.split(\",\") || [];\n      aanbieders = aanbieders.filter((item) => { return item !== action.payload });\n    \n      return {\n          ...state,\n          aanbieders: aanbieders.join(\",\")\n      };\n    }\n    case 'CLEAR_FILTER_AANBIEDERS': {\n      console.log('clear aanbieders filter')\n    \n      return {\n          ...state,\n          aanbieders: []\n      };\n    }\n    default:\n      return state;\n  }\n}\n","const initialState = {\n  user_data: null\n}\n  \nexport default function vehicles(state = initialState, action) {\n    switch(action.type) {\n        case 'SET_USER': {\n            const user = action.payload\n            return {\n                user_data: user\n            }\n        }\n        case 'CLEAR_USER': {\n            return { user_data: null }\n        }\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport vehicles from './vehicles';\nimport filter from './filter';\nimport authentication from './authentication';\n\nexport default combineReducers({\n  vehicles,\n  filter,\n  authentication\n})\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport { clearUser } from '../actions/authentication';\nimport './Menu.css';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction Menu() {\n  const dispatch = useDispatch();\n\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n\n  const logOut = () => {\n    if (isLoggedIn) {\n      dispatch( clearUser() );\n    }\n  }\n\n  //Get the value of a State variable, and store it to a const, to use it later\n  const showfilter = useSelector(state => {\n    return state.filter ? state.filter.visible : false;\n  });\n\n  const toggleFilter = e => {\n    dispatch({\n      type: 'SET_FILTER_VISIBLE',\n      payload: !showfilter\n    })\n  }\n\n  return <ul className=\"flex\">\n    <li className=\"mr-6\">\n      <Link className=\"text-blue-500 hover:text-blue-800\" to=\"/\">\n        Home\n      </Link>\n    </li>\n    <li className=\"mr-6\">\n      <Link className=\"text-blue-500 hover:text-blue-800\" to=\"/demo\">\n        Demo\n      </Link>\n    </li>\n    <li className=\"mr-6\">\n      <Link className=\"text-blue-500 hover:text-blue-800\" to=\"/map/park\">\n        Parkeerdata\n      </Link>\n    </li>\n    {isLoggedIn ?\n        <li className={showfilter?\"mr-6 toggleactive\":\"mr-6 togglenotactive\"} onClick={toggleFilter}>\n          {showfilter?\"Hide\":\"Show\"} Filter\n        </li>\n        :\n        null }\n    {isLoggedIn\n      ?\n      <li className=\"mr-6\">\n        <Link className=\"text-blue-500 hover:text-blue-800\" onClick={logOut} to=\"/\">\n          Log uit\n        </Link>\n      </li>\n      :\n      <li className=\"mr-6\">\n        <Link className=\"text-blue-500 hover:text-blue-800\" to=\"/login\">\n          Log in\n        </Link>\n      </li>\n    }\n  </ul>\n\n  // <nav class=\"flex items-center justify-around flex-wrap bg-teal-500 p-6\">\n  // </nav>\n}\n\nexport default Menu;\n\n","import { SET_USER, CLEAR_USER } from \"./actionTypes\";\n\nexport const setUser = (user) => ({\n  type: SET_USER,\n  payload: user\n})\n\nexport const clearUser = () => ({\n  type: CLEAR_USER,\n  payload: null\n})\n","// vehicles\nexport const SET_VEHICLES = 'SET_VEHICLES';\nexport const SET_VEHICLE = 'SET_VEHICLE';\nexport const CLEAR_VEHICLES = 'CLEAR_VEHICLES';\n\n// authentication\nexport const SET_USER = 'SET_USER';\nexport const CLEAR_USER = 'CLEAR_USER';\n","import vehiclesPoint from './vehicles-point.js';\nimport vehiclesHeatmap from './vehicles-heatmap.js';\nimport vehiclesHeatmapCityLevel from './vehicles-heatmap-city-level.js';\n\nexport const layers = {\n  'vehicles-heatmap': vehiclesHeatmap,\n  'vehicles-point': vehiclesPoint,\n  'vehicles-heatmap-city-level': vehiclesHeatmapCityLevel\n}\n","export default {\n  'id': 'vehicles-heatmap',\n  'type': 'heatmap',\n  'source': 'vehicles',\n  'maxzoom': 9,\n  'paint': {\n    // Increase the heatmap weight based on frequency and property magnitude\n    'heatmap-weight': [\n      'interpolate',\n      ['linear'],\n      ['get', 'mag'],\n      0,\n      0,\n      6,\n      1\n    ],\n    // Increase the heatmap color weight weight by zoom level\n    // heatmap-intensity is a multiplier on top of heatmap-weight\n    'heatmap-intensity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      1,\n      9,\n      3\n    ],\n    // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n    // Begin color ramp at 0-stop with a 0-transparancy color\n    // to create a blur-like effect.\n    'heatmap-color': [\n      'interpolate',\n      ['linear'],\n      ['heatmap-density'],\n      0,\n      'rgba(33,102,172,0)',\n      0.2,\n      'rgb(103,169,207)',\n      0.4,\n      'rgb(209,229,240)',\n      0.6,\n      'rgb(253,219,199)',\n      0.8,\n      'rgb(239,138,98)',\n      1,\n      'rgb(178,24,43)'\n    ],\n    // Adjust the heatmap radius by zoom level\n    'heatmap-radius': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      2,\n      9,\n      20\n    ],\n    // Transition from heatmap to circle layer by zoom level\n    'heatmap-opacity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      7,\n      1,\n      9,\n      0\n    ]\n  }\n}","export default {\n  'id': 'vehicles-point',\n  'type': 'circle',\n  'source': 'vehicles',\n  'minzoom': 7,\n  'paint': {\n  // Size circle radius by earthquake magnitude and zoom level\n  'circle-radius': [\n    'interpolate', ['linear'], ['zoom'],\n    12, 1,\n    16, ['*', 2, ['get', 'amount']]\n  ],\n  // Color circle by earthquake magnitude\n  // 'circle-color': [\n  //   'interpolate',\n  //   ['linear'],\n  //   ['get', 'mag'],\n  //   1,\n  //   'rgba(33,102,172,0)',\n  //   2,\n  //   'rgb(103,169,207)',\n  //   3,\n  //   'rgb(209,229,240)',\n  //   4,\n  //   'rgb(253,219,199)',\n  //   5,\n  //   'rgb(239,138,98)',\n  //   6,\n  //   'rgb(178,24,43)'\n  // ],\n  // 'circle-stroke-color': 'white',\n  // 'circle-stroke-width': 1,\n  // Transition from heatmap to circle layer by zoom level\n    'circle-opacity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      7,\n      0,\n      8,\n      1\n    ],\n    'circle-color': ['get', 'color']\n  }\n}","export default {\n  'id': 'vehicles-heatmap-city-level',\n  'type': 'heatmap',\n  'source': 'vehicles',\n  'paint': {\n    // Increase the heatmap weight based on frequency and property magnitude\n    'heatmap-weight': [\n      'interpolate',\n      ['linear'],\n      ['get', 'mag'],\n      0,\n      0,\n      6,\n      1\n    ],\n    // Increase the heatmap color weight weight by zoom level\n    // heatmap-intensity is a multiplier on top of heatmap-weight\n    'heatmap-intensity': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      1,\n      9,\n      3\n    ],\n\n    // Color ramp for heatmap.  Domain is 0 (low) to 1 (high).\n    // Begin color ramp at 0-stop with a 0-transparancy color\n    // to create a blur-like effect.\n    'heatmap-color': [\n      'interpolate',\n      ['linear'],\n      ['heatmap-density'],\n      0,\n      'rgba(0, 0, 255, 0)',\n      0.1,\n      'royalblue',\n      0.3,\n      'cyan',\n      0.5,\n      'lime',\n      0.7,\n      'yellow',\n      1,\n      'red'\n    ],\n\n    // Adjust the heatmap radius by zoom level\n    'heatmap-radius': [\n      'interpolate',\n      ['linear'],\n      ['zoom'],\n      0,\n      2,\n      9,\n      20\n    ],\n    // 'heatmap-opacity': [\n    //   'interpolate',\n    //   ['linear'],\n    //   ['zoom'],\n    //   7,\n    //   1,\n    //   9,\n    //   4\n    // ]\n  }\n}","import React, { useRef, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport maplibregl from 'maplibre-gl';\n\nimport './Map.css';\n\nimport {layers} from './layers';\n// import {sources} from './sources.js';\n\nfunction Map(props) {\n  //Get the value of a State variable, and store it to a const, to use it later\n  const vehicles = useSelector(state => {\n    return state.vehicles ? state.vehicles.data : null;\n  });\n\n  const mapContainer = useRef(null);\n  const [lng] = useState(4.4671854);\n  const [lat] = useState(51.9250836);\n  const [zoom] = useState(15);\n  const [counter, setCounter] = useState(0);\n  let map = useRef(null);\n\n  // Docs: https://maptiler.zendesk.com/hc/en-us/articles/4405444890897-Display-MapLibre-GL-JS-map-using-React-JS\n  useEffect(() => {\n    // Init MapLibre map\n    const initMap = () => {\n      if (map.current) return;\n      map.current = new maplibregl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n        center: [lng, lat],\n        zoom: zoom\n      });\n      // Add controls\n      map.current.addControl(new maplibregl.NavigationControl(), 'top-right');\n\n      map.current.on('load', function() {\n        setCounter(counter + 1)\n      })\n    }\n    initMap();\n  }, [vehicles, lng, lat, zoom, counter])\n\n  useEffect(() => {\n    const addDataSources = (vehicles) => {\n      if (! map.current || ! map.current.isStyleLoaded()) {\n        // Refresh state, so that addDataSources runs again\n        setTimeout(() => {\n          setCounter(counter + 1)\n        }, 250)\n        return;\n      }\n      if (! vehicles) {\n        return;\n      }\n      // Check if source exists\n      const doesSourceExist = map.current.getSource('vehicles');\n      if(doesSourceExist) {\n        // console.log('source does exist. setting vehicles', vehicles)\n        // map.current.getSource('vehicles').setData(vehicles);\n      } else {\n        map.current.addSource('vehicles', {\n          'type': 'geojson',\n          'data': vehicles\n        });\n      }\n    }\n    addDataSources(vehicles);\n  }, [vehicles, counter])\n\n  useEffect(() => {\n    const addLayers = (vehicles) => {\n      if (! map.current || ! map.current.isStyleLoaded()) {\n        setTimeout(() => {\n          setCounter(counter + 1)\n        }, 250)\n        return;\n      }\n      if (! vehicles) return;\n\n      // Remove 'old' layers\n      const allLayers = map.current.getStyle().layers;\n      allLayers.map(x => {\n        // Check if this is one of our layers\n        if(x.id.indexOf('vehicles-') > -1) {\n          // If so, remove\n          map.current.removeLayer(x.id)\n        }\n      })\n      // Add selected layers to the map\n      props.layers.map(x => {\n        if(props.layers.indexOf(x) >= -1) {\n          const doesLayerExist = map.current.getLayer(x);\n          if(! doesLayerExist) map.current.addLayer(layers[x]);\n        }\n      })\n    }\n    addLayers(vehicles);\n  }, [vehicles, counter, props.layers]);\n\n  return <div className=\"Map\">\n    <div ref={mapContainer} className=\"map\" />\n  </div>\n}\n\nexport {Map};\n","import React, {useState} from 'react';\nimport {Map as MapComponent} from '../components/Map/Map.jsx';\n\nfunction Map(props) {\n  const [layers, setLayers] = useState([\n    'vehicles-heatmap',\n    'vehicles-point'\n  ]);\n  const [sources, setSources] = useState([\n    'vehicles'\n  ]);\n\n  return <div>\n    Map type:\n    <button onClick={() => {\n      setLayers([\n        'vehicles-heatmap',\n        'vehicles-point',\n      ])\n    }}>\n      Vehicles\n    </button> | \n    <button onClick={() => {\n      setLayers([\n        'vehicles-heatmap-city-level'\n      ])\n    }}>\n      Heatmap\n    </button><br />\n    <MapComponent\n      layers={layers}\n    />\n  </div>\n}\n\nexport default Map;\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { useEffect, useRef } from 'react';\n\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n\nexport default useInterval;","import { useState } from 'react';\n\nimport logo from './logo.svg';\nimport useInterval from '../customHooks/useInterval.js';\nimport './Demo.css';\n\nfunction Demo() {\n  const url = \"https://api.deelfietsdashboard.nl/dashboard-api/public/vehicles_in_public_space\";\n  \n  let [json, setJson] = useState(false);\n  let [timestamp, setTimestamp] = useState(false);\n  \n  useInterval(() => {\n      // Your custom logic here\n      fetch(url).then(function(response) {\n        response.json().then(function(json) {\n          setJson(json);\n          setTimestamp(new Date());\n        }).catch(ex=>{\n          console.error(\"unable to decode JSON\");\n          setJson(false);\n        });\n      }).catch(ex=>{\n        console.error(\"fetch error - unable to fetch JSON from %s\", url);\n        setJson(false);\n      });\n    }, 5000);\n      \n  return (\n    <div className=\"Demo\">\n      <header className=\"Demo-header\">\n        <img src={logo} className=\"Demo-logo\" alt=\"logo\" />\n        <p>\n          Got {Object.keys(json).length} vehicles at {timestamp ? timestamp.toLocaleTimeString() : '-/-'}\n        </p>\n        <a\n          className=\"Demo-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default Demo;\n","import React, { useState } from 'react';\nimport { setUser } from '../actions/authentication';\nimport { useDispatch } from 'react-redux';\nimport {\n  Redirect\n } from \"react-router-dom\";\n\nconst Login = () => {\n  const [emailaddress, setEmailaddress] = useState('');\n  const [password, setPassword] = useState('');\n  const [recoverPassword, setRecoverPassword] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const dispatch = useDispatch();\n\n  const login = e => {\n    \n    e.preventDefault();\n\n    const url = process.env.REACT_APP_FUSIONAUTH_SERVER + \"/login\";\n    var data = {\n        loginId: emailaddress,\n        password: password,\n        applicationId: process.env.REACT_APP_FUSIONAUTH_APPLICATION_ID\n    };\n    \n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json())\n      .then(response => {\n        dispatch( setUser(response) );\n        setLoggedIn(true);\n      }).catch(error => {\n        console.error(\"Login failed! (%s)\", error.message);\n        setLoggedIn(false);\n    });\n  };\n  \n  const recover = e => {\n    e.preventDefault();\n    \n    const url = process.env.REACT_APP_FUSIONAUTH_SERVER + \"/user/forgot-password\"\n    var data = {\n      loginId: emailaddress,\n    };\n\n    return fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(data),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => res.json())\n      .then(response => {\n        console.log(response);\n        return true;\n      }).catch(error => {\n        return false;\n      });\n\n    // do login here\n  };\n\n  const renderLogin = () => {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n        <div className=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\n          <h3 className=\"text-2xl font-bold text-center\">Login</h3>\n          <form>\n            <label className=\"block\" htmlFor=\"emailaddress\">Email</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              autoCapitalize=\"off\"\n              placeholder=\"email\"\n              name=\"emailaddress\"\n              required\n              onChange={e => setEmailaddress(e.target.value)}\n            />\n\n            <label className=\"block\" htmlFor=\"password\">Wachtwoord</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              type=\"password\"\n              placeholder=\"Wachtwoord\"\n              name=\"password\"\n              required\n              onChange={e => setPassword(e.target.value)}\n            />\n          \n            <div className=\"flex items-baseline justify-between\">\n                <button className=\"px-6 py-2 mr-4 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={login}>Login</button>\n                <button className=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={()=>setRecoverPassword(true)}>Wachtwoord vergeten</button>\n            </div>\n          </form>\n        </div>\n      </div>)\n  }\n  \n  const renderRecoverPassword = () => {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gray-100\">\n        <div className=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\n          <h3 className=\"text-2xl font-bold text-center\">Wachtwoord herstellen</h3>\n          <form>\n            <label className=\"block\" htmlFor=\"emailaddress\">Email</label>\n            <input\n              className=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n              autoCapitalize=\"off\"\n              placeholder=\"Email\"\n              name=\"emailaddress\"\n              required\n              onChange={e => setEmailaddress(e.target.value)}\n            />\n          \n            <div className=\"flex items-baseline justify-between\">\n                <button className=\"px-6 py-2 mr-4 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={recover}>Herstel</button>\n                <button className=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\" onClick={()=>setRecoverPassword(false)}>Annuleer</button>\n            </div>\n          </form>\n        </div>\n      </div>)\n  }\n  const renderRedirect = () => {\n    return (\n        <Redirect to=\"/\" />\n    );\n  }\n \n  if (loggedIn) {\n    return renderRedirect();\n  }\n\n  return recoverPassword ? renderRecoverPassword() : renderLogin();\n};\n\nexport default Login;","import { useState } from 'react';\nimport './Filterbar.css';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction Filterbar() {\n  const dispatch = useDispatch()\n  \n  const filterGebied = useSelector(state => {\n    return state.filter ? state.filter.gebied : 0;\n  });\n  \n  const filterAanbieders = useSelector(state => {\n    return state.filter ? state.filter.aanbieders : [];\n  });\n  \n  let [showSelectGebied, setShowSelectGebied] = useState(false);\n  // let [showSelectZone, setShowSelectZone] = useState(false);\n  // let [showSelectDatum, setShowSelectDatum] = useState(false);\n  let [showSelectAanbieder, setShowSelectAanbieder] = useState(false);\n  \n  const setFilterGebied = (gebied) => {\n    dispatch({\n      type: 'SET_FILTER_GEBIED',\n      payload: gebied\n    })\n  }\n  \n  const addToFilterAanbieders = (aanbieder) => {\n    dispatch({ type: 'ADD_TO_FILTER_AANBIEDERS', payload: aanbieder })\n  }\n  const removeFromFilterAanbieders = (aanbieder) => {\n    dispatch({ type: 'REMOVE_FROM_FILTER_AANBIEDERS', payload: aanbieder })\n  }\n    \n  const renderModal = (content, closeFunction) => {\n    return (\n      <>\n        <div\n          className=\"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none\"\n           onClick={() => closeFunction(false)}\n        >\n          <div className=\"relative w-auto my-6 mx-auto max-w-3xl\">\n            {/*content*/}\n            <div className=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\">\n              { content }\n              <div className=\"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b\">\n                <button\n                  className=\"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\"\n                  type=\"button\"\n                  onClick={() => closeFunction(false)}\n                >\n                  Close\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"opacity-25 fixed inset-0 z-40 bg-black\" />\n      </>\n    )\n  }\n  \n  const renderSelectGebied = () => {\n    let gebieden = [\n        { value:\"\", name:\"Alle Gebieden\" }, { value:\"GM0518\", name:\"'s-Gravenhage\" }, { value:\"GM0796\", name:\"'s-Hertogenbosch\" }, { value:\"GM0613\", name:\"Albrandswaard\" }, { value:\"GM0141\", name:\"Almelo\" }, { value:\"GM0034\", name:\"Almere\" }, { value:\"GM0484\", name:\"Alphen aan den Rijn\" }, { value:\"GM0307\", name:\"Amersfoort\" }, { value:\"GM0362\", name:\"Amstelveen\" }, { value:\"GM0363\", name:\"Amsterdam\" }, { value:\"GM0200\", name:\"Apeldoorn\" }, { value:\"GM0202\", name:\"Arnhem\" }, { value:\"GM0106\", name:\"Assen\" }, { value:\"GM0489\", name:\"Barendrecht\" }, { value:\"GM0203\", name:\"Barneveld\" }, { value:\"GM0373\", name:\"Bergen (NH\" }, { value:\"GM0753\", name:\"Best\" }, { value:\"GM0375\", name:\"Beverwijk\" }, { value:\"GM0377\", name:\"Bloemendaal\" }, { value:\"GM0758\", name:\"Breda\" }, { value:\"GM0312\", name:\"Bunnik\" }, { value:\"GM0313\", name:\"Bunschoten\" }, { value:\"GM0502\", name:\"Capelle aan den IJssel\" }, { value:\"GM0310\", name:\"De Bilt\" }, { value:\"GM0736\", name:\"De Ronde Venen\" }, { value:\"GM0503\", name:\"Delft\" }, { value:\"GM0150\", name:\"Deventer\" }, { value:\"GM0384\", name:\"Diemen\" }, { value:\"GM0505\", name:\"Dordrecht\" }, { value:\"GM0228\", name:\"Ede\" }, { value:\"GM0772\", name:\"Eindhoven\" }, { value:\"GM0153\", name:\"Enschede\" }, { value:\"GM0232\", name:\"Epe\" }, { value:\"GM1771\", name:\"Geldrop-Mierlo\" }, { value:\"GM1942\", name:\"Gooise Meren\" }, { value:\"GM0014\", name:\"Groningen\" }, { value:\"GM0392\", name:\"Haarlem\" }, { value:\"GM0394\", name:\"Haarlemmermeer\" }, { value:\"GM0243\", name:\"Harderwijk\" }, { value:\"GM0246\", name:\"Heerde\" }, { value:\"GM0794\", name:\"Helmond\" }, { value:\"GM0164\", name:\"Hengelo\" }, { value:\"GM0798\", name:\"Hilvarenbeek\" }, { value:\"GM0402\", name:\"Hilversum\" }, { value:\"GM0353\", name:\"IJsselstein\" }, { value:\"GM0166\", name:\"Kampen\" }, { value:\"GM0542\", name:\"Krimpen aan den IJssel\" }, { value:\"GM1621\", name:\"Lansingerland\" }, { value:\"GM0080\", name:\"Leeuwarden\" }, { value:\"GM1916\", name:\"Leidschendam-Voorburg\" }, { value:\"GM0327\", name:\"Leusden\" }, { value:\"GM0809\", name:\"Loon op Zand\" }, { value:\"GM0556\", name:\"Maassluis\" }, { value:\"GM1842\", name:\"Midden-Delfland\" }, { value:\"GM1952\", name:\"Midden-Groningen\" }, { value:\"GM0356\", name:\"Nieuwegein\" }, { value:\"GM0267\", name:\"Nijkerk\" }, { value:\"GM0268\", name:\"Nijmegen\" }, { value:\"GM1930\", name:\"Nissewaard\" }, { value:\"GM0820\", name:\"Nuenen, Gerwen en Nederwetten\" }, { value:\"GM0302\", name:\"Nunspeet\" }, { value:\"GM0826\", name:\"Oosterhout\" }, { value:\"GM0431\", name:\"Oostzaan\" }, { value:\"GM1926\", name:\"Pijnacker-Nootdorp\" }, { value:\"GM0273\", name:\"Putten\" }, { value:\"GM0597\", name:\"Ridderkerk\" }, { value:\"GM0603\", name:\"Rijswijk\" }, { value:\"GM1674\", name:\"Roosendaal\" }, { value:\"GM0599\", name:\"Rotterdam\" }, { value:\"GM0606\", name:\"Schiedam\" }, { value:\"GM0848\", name:\"Son en Breugel\" }, { value:\"GM0855\", name:\"Tilburg\" }, { value:\"GM1730\", name:\"Tynaarlo\" }, { value:\"GM0344\", name:\"Utrecht\" }, { value:\"GM1581\", name:\"Utrechtse Heuvelrug\" }, { value:\"GM0861\", name:\"Veldhoven\" }, { value:\"GM0622\", name:\"Vlaardingen\" }, { value:\"GM0865\", name:\"Vught\" }, { value:\"GM0866\", name:\"Waalre\" }, { value:\"GM0867\", name:\"Waalwijk\" }, { value:\"GM0289\", name:\"Wageningen\" }, { value:\"GM0629\", name:\"Wassenaar\" }, { value:\"GM1960\", name:\"West Betuwe\" }, { value:\"GM1783\", name:\"Westland\" }, { value:\"GM0637\", name:\"Zoetermeer\" }, { value:\"GM0642\", name:\"Zwijndrecht\" }, { value:\"GM0193\", name:\"Zwolle\" }\n      ];\n      \n      if(!showSelectGebied) {\n        let item = gebieden.find(item=>item.value===filterGebied) || \"\";\n        return item ? <span key={'gebied-'+item.value}>{item.name}</span>: null\n      } else {\n        return  (\n          <div class=\"relative inline-block w-full text-gray-700\">\n            <select class=\"w-full h-10 pl-3 pr-6 text-base placeholder-gray-600 border rounded-lg appearance-none focus:shadow-outline\" placeholder=\"Selecteer Gebied\" name=\"area\"\n              value={filterGebied}\n              onChange={e=>{setShowSelectGebied(false);setFilterGebied(e.target.value);}}>\n              { gebieden.map(g=><option key={'go-'+g.value} value={g.value} id={g.value}>{g.name}</option>) }\n            </select>\n            <div class=\"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none\">\n              <svg class=\"w-4 h-4 fill-current\" viewBox=\"0 0 20 20\"><path d=\"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\" clip-rule=\"evenodd\" fill-rule=\"evenodd\"></path></svg>\n            </div>\n          </div>\n        )\n      }\n  }\n  \n  // const renderSelectZone = () => {\n  //   let content = (\n  //     <>\n  //       <br />\n  //       <span className=\"filter-selected\">Alle zones</span>\n  //       <form className=\"filter-options\" id=\"filter-zone\">\n  //          <span className=\"hint\">Selecteer eerst een gemeente</span>\n  //       </form>\n  //     </>\n  //   )\n  //   return renderModal(content,setShowSelectZone)\n  // }\n  //\n  // const renderSelectDatum = () => {\n  //   let hours = [];\n  //   for(let h=0;h<24;h++) { hours.push(h.toString())};\n  //   let minutes = [\"0\", \"15\", \"30\", \"45\"];\n  //   let months = [\"Jan\",\"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n  //   let dates = [];\n  //   for(let d=1;d<31;d++) { dates.push(d.toString())};\n  //   let years = [];\n  //   for(let y=2000;y<2031;y++) { years.push(y.toString())};\n  //\n  //   let content = (\n  //     <>\n  //     <span className=\"filter-selected\"><span>22-10-2021 11:15</span></span>\n  //     <div className=\"filter-options\">\n  //        <div id=\"date\" className=\" mtr-datepicker\">\n  //           <div className=\"mtr-row\">\n  //              <div className=\"mtr-input-slider\" id=\"date-input-hours\">\n  //                 <div className=\"mtr-arrow up\"><span></span></div>\n  //                 <div className=\"mtr-content\">\n  //                    <input type=\"text\" className=\"mtr-input hours\" data-old-value=\"11\" />\n  //                    <div className=\"mtr-values\">\n  //                    { hours.map(h=>{\n  //                         return (\n  //                           <div className=\"mtr-default-value-holder\" data-value={h}>\n  //                              <div className=\"mtr-default-value\" data-value={h}>{h}</div>\n  //                           </div>\n  //                         )\n  //                    })}\n  //                 </div>\n  //                 <div className=\"mtr-arrow down\"><span></span></div>\n  //              </div>\n  //              <div className=\"mtr-input-slider\" id=\"date-input-minutes\">\n  //                 <div className=\"mtr-arrow up\"><span></span></div>\n  //                 <div className=\"mtr-content\">\n  //                   <input type=\"text\" className=\"mtr-input minutes\" data-old-value=\"15\" />\n  //                   <div className=\"mtr-values\">\n  //                   { minutes.map((m,i)=>{\n  //                        return (\n  //                          <div className=\"mtr-default-value-holder\" data-value={i}>\n  //                             <div className=\"mtr-default-value\" data-value={i}>{m}</div>\n  //                          </div>\n  //                        )\n  //                   })}\n  //                   </div>\n  //                 <div className=\"mtr-arrow down\"><span></span></div>\n  //              </div>\n  //           </div>\n  //           <div className=\"mtr-clearfix\"></div>\n  //           <div className=\"mtr-row\">\n  //              <div className=\"mtr-input-slider\" id=\"date-input-months\">\n  //                 <div className=\"mtr-arrow up\"><span></span></div>\n  //                 <div className=\"mtr-content\">\n  //                    <input type=\"text\" className=\"mtr-input months\" data-old-value=\"9\" />\n  //                    <div className=\"mtr-values\">\n  //                    { months.map((m,i)=>{\n  //                         return (\n  //                           <div className=\"mtr-default-value-holder\" data-value={i}>\n  //                             <div className=\"mtr-default-value has-name\" data-value={i}>{i+1}</div>\n  //                              <div className=\"mtr-default-value-name\" data-value={i}>{m}</div>\n  //                           </div>\n  //                         )\n  //                    })}\n  //                    </div>\n  //                 </div>\n  //                 <div className=\"mtr-arrow down\"><span></span></div>\n  //              </div>\n  //              <div className=\"mtr-input-slider\" id=\"date-input-dates\">\n  //                 <div className=\"mtr-arrow up\"><span></span></div>\n  //                 <div className=\"mtr-content\">\n  //                    <input type=\"text\" className=\"mtr-input dates\" data-old-value=\"22\" />\n  //                    <div className=\"mtr-values\">\n  //                    { dates.map((d,i)=>{\n  //                         return (\n  //                           <div className=\"mtr-default-value-holder\" data-value={i}>\n  //                             <div className=\"mtr-default-value has-name\" data-value={i}>{i+1}</div>\n  //                              <div className=\"mtr-default-value-name\" data-value={i}>{d}</div>\n  //                           </div>\n  //                         )\n  //                    })}\n  //                    </div>\n  //                 </div>\n  //                 <div className=\"mtr-arrow down\"><span></span></div>\n  //              </div>\n  //              <div className=\"mtr-input-slider\" id=\"date-input-years\">\n  //                 <div className=\"mtr-arrow up\"><span></span></div>\n  //                 <div className=\"mtr-content\">\n  //                    <input type=\"text\" className=\"mtr-input years\" data-old-value=\"2021\" />\n  //                    <div className=\"mtr-values\">\n  //                        { dates.map((d,i)=>{\n  //                             return (\n  //                               <div className=\"mtr-default-value-holder\" data-value={d}>\n  //                                 <div className=\"mtr-default-value\" data-value={d}>{d}</div>\n  //                               </div>\n  //                             )\n  //                        })}\n  //                    </div>\n  //                 </div>\n  //                 <div className=\"mtr-arrow down\"><span></span></div>\n  //              </div>\n  //           </div>\n  //           <div className=\"mtr-clearfix\"></div>\n  //         </div>\n  //       </div>\n  //       </div>\n  //       </div>\n  //     </>\n  //   )\n  //\n  //   return renderModal(content,setShowSelectDatum)\n  // }\n  \n  const renderSelectAanbieders = () => {\n    let aanbieders = [\n      { value:\"cykl\", name:\"Cykl\" },\n      { value:\"flickbike\", name:\"Flickbike\" },\n      { value:\"donkey\", name:\"Donkey\" },\n      { value:\"mobike\", name:\"Mobike\" },\n      { value:\"htm\", name:\"HTM\" },\n      { value:\"gosharing\", name:\"GO\" },\n      { value:\"check\", name:\"CHECK\" },\n      { value:\"felyx\", name:\"Felyx\" },\n      { value:\"deelfietsnederland\", name:\"Deelfiets\" },\n      { value:\"keobike\", name:\"Keobike\" },\n      { value:\"lime\", name:\"Lime\" },\n      { value:\"baqme\", name:\"BAQME\" },\n      { value:\"cargoroo\", name:\"Cargoroo\" },\n      { value:\"uwdeelfiets\", name:\"uwdeelfiets\" },\n      { value:\"hely\", name:\"Hely\" }\n    ]\n    \n    if(!showSelectAanbieder) {\n      let all = aanbieders\n                  .filter(a=>filterAanbieders.includes(a.value))\n                  .map(a=><span key={'sa-'+a.value}>{a.name}</span>)\n      if(all.length===0) {\n        all.push(\"Alle aanbieders\");\n      }\n      return all;\n    } else {\n      return  renderModal(\n        <div className=\"filter-options\" id=\"filter-operator\">\n            { aanbieders.map((a,i)=>{\n                let isSelected = filterAanbieders.includes(a.value);\n                if(isSelected) {\n                  return (<div key={'item-'+a.value} className=\"checkbox\" onClick={e=>{ e.stopPropagation(); removeFromFilterAanbieders(a.value)}}>{a.name} (Selected)</div>)\n                } else {\n                  return (<div key={'item-'+a.value} className=\"checkbox\" onClick={e=>{ e.stopPropagation(); addToFilterAanbieders(a.value)}}>{a.name}</div>)\n                }\n              })\n            }\n        </div>, setShowSelectAanbieder)\n    }\n  }\n  \n  // <div className=\"filter select-box multiple filter-zone\">\n  //    <div className=\"filter-name\"  onClick={e=>{setShowSelectZone(!showSelectZone)}}>\n  //      <span>Zone</span>\n  //      { showSelectZone ? renderSelectZone() : null }\n  //    </div>\n  // </div>\n  // <div className=\"filter date\">\n  //    <div className=\"filter-name\"  onClick={e=>{setShowSelectDatum(!showSelectDatum)}}>\n  //      <span>Datum &amp; tijd</span>\n  //      { showSelectDatum ? renderSelectDatum() : null }\n  //    </div>\n  // </div>\n  \n  return (\n    <div className=\"filter-bar\">\n       <div className=\"filter radio-box filter-area\">\n          <div className=\"filter-name\" onClick={e=>{setShowSelectGebied(!showSelectGebied)}}>\n            <span>Gebieden</span>\n          </div>\n          { renderSelectGebied() }\n       </div>\n       <div className=\"filter select-box multiple filter-operator\">\n          <div className=\"filter-name\"  onClick={e=>{setShowSelectAanbieder(!showSelectAanbieder)}}>\n            <span>Aanbieders</span><br />\n            { renderSelectAanbieders() }\n          </div>\n       </div>\n    </div>\n    )\n}\n\nexport default Filterbar;\n","import { useEffect } from 'react';\nimport {\n BrowserRouter as Router,\n Switch,\n Route\n} from \"react-router-dom\";\n\nimport Menu from './components/Menu.jsx';\nimport Map from './pages/Map.jsx';\nimport Demo from './pages/Demo.jsx';\nimport Login from './pages/Login.jsx';\nimport Filterbar from './components/Filterbar.jsx';\nimport moment from 'moment';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport useInterval from './customHooks/useInterval.js';\n\nimport './App.css';\n\nfunction App() {\n  const dispatch = useDispatch()\n  \n  \n  // let [json, setJson] = useState(false);\n  // let [timestamp, setTimestamp] = useState(false);\n  const isLoggedIn = useSelector(state => {\n    return state.authentication.user_data ? true : false;\n  });\n  \n  const userdata = useSelector(state => {\n    return state.authentication.user_data ;\n  });\n\n  const filter = useSelector(state => {\n    if(!isLoggedIn||!state.filter)  {\n      return null;\n    }\n    \n    return state.filter;\n  });\n\n  const showfilter = useSelector(state => {\n    return state.filter ? state.filter.visible : false;\n  });\n\n  const convertDurationToColor = (duration) => {\n    if (duration <= 60) {\n      return \"#38ff71\";\n    }\n    if (duration <= 24 * 60) {\n      return \"#008c28\";\n    }\n    if (duration <= 24 * 60 * 4) {\n      return \"#fff700\";\n    }\n    return \"#cc0000\";\n  }\n\n  let url = \"https://api.deelfietsdashboard.nl/dashboard-api/public/vehicles_in_public_space\";\n  let options = {};\n  if(null!==filter) {\n    let aanbiedersfilter = filter.aanbieders!==\"\"?\"&operators=\" + filter.aanbieders:\"\";\n    \n    let ts = new Date().toISOString().replace(/.\\d+Z$/g, \"Z\"); // use current time without decimals\n    // url = \"https://api.deelfietsdashboard.nl/dashboard-api/park_events?timestamp=2021-10-22T15:46:20Z\"+aanbiedersfilter; // + \"&zone_ids=34234\";\n    url = \"https://api.deelfietsdashboard.nl/dashboard-api/park_events?timestamp=\"+ts+aanbiedersfilter; // + \"&zone_ids=34234\";\n    options = { headers : { \"authorization\": \"Bearer \" + userdata.token }}\n  }\n\n  const fetchVehiclesInPublicSpace = () => {\n    fetch(url, options).then(function(response) {\n      if(!response.ok) {\n        console.error(\"unable to fetch: %o\", response);\n        return false\n      }\n\n      response.json().then(function(vehicles) {\n        if(isLoggedIn) {\n          vehicles = vehicles.park_events\n        }\n        let geoJson = {\n           \"type\":\"FeatureCollection\",\n           \"crs\":{\n              \"type\":\"name\",\n              \"properties\":{\n                 \"name\":\"urn:ogc:def:crs:OGC:1.3:CRS84\"\n              }\n           },\n           \"features\":[]\n        }\n        \n        const md5 = require('md5');\n        var current_time = moment();\n        vehicles.forEach(v => {\n          let in_public_space_since = isLoggedIn ? v.start_time : v.in_public_space_since;\n\n          var minutes = current_time.diff(moment(in_public_space_since), 'minutes');\n          const color = convertDurationToColor(minutes);\n          \n          let feature = {\n             \"type\":\"Feature\",\n             \"properties\":{\n                \"id\":md5(v.location.latitude+v.location.longitude),\n                \"system_id\": v.system_id,\n                \"in_public_space_since\": in_public_space_since,\n                \"color\": color\n             },\n             \"geometry\":{\n                \"type\":\"Point\",\n                \"coordinates\":[\n                   v.location.longitude,\n                   v.location.latitude,\n                   0.0\n                ]\n             }\n          }\n\n          geoJson.features.push(feature);\n          // new maplibregl.Marker({color: \"#FF0000\"})\n          //   .setLngLat([x.location.longitude, x.location.latitude])\n          //   .addTo(map.current);\n          //\n          // return;\n        })\n        \n        dispatch({\n          type: 'SET_VEHICLES',\n          payload: geoJson\n        })\n        \n        // setJson(json);\n        // setTimestamp(new Date());\n      }).catch(ex=>{\n        console.error(\"unable to decode JSON\");\n        // setJson(false);\n      });\n    }).catch(ex=>{\n      console.error(\"fetch error - unable to fetch JSON from %s\", url);\n      // setJson(false);\n    });\n  }\n  \n  useInterval(() => {\n    fetchVehiclesInPublicSpace();\n  }, 30 * 1000);// every 30 seconds\n\n  useEffect(x => {\n    fetchVehiclesInPublicSpace();\n  })\n  \n\n  return (\n    <Router>\n       <div className=\"App\">\n        <Menu />\n        { isLoggedIn && showfilter ? <Filterbar /> : null }\n\n         <Switch>\n           <Route path=\"/demo\">\n            <Demo />\n           </Route>\n           <Route path=\"/login\">\n              <Login />\n           </Route>\n           <Route path=\"/\">\n            <Map />\n           </Route>\n         </Switch>\n       </div>\n     </Router>\n  );\n}\n\nexport default App;\n","import React, { Component } from 'react';\n// import { bindActionCreators } from 'redux';\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport moment from 'moment';\nimport thunk from 'redux-thunk';\n\nimport appReducer from './reducers';\nimport App from './App';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n// Get persistentState from localStorage\nconst persistedState = localStorage.getItem('CROWDD_reduxState')\n  ? JSON.parse(localStorage.getItem('CROWDD_reduxState'))\n  : {}\n\nconst store = createStore(\n  appReducer,\n  persistedState,\n  composeEnhancers(applyMiddleware(thunk)),\n);\n\n// Store Redux state into localStorage\nstore.subscribe(() => {\n  const storeState = store.getState();\n  const storeStateToSaveInLocalStorage = {\n    lastUpdate: moment().unix(),\n    authentication: storeState.authentication,\n    filter: storeState.filter\n  }\n  localStorage.setItem('CROWDD_reduxState', JSON.stringify(storeStateToSaveInLocalStorage))\n})\n\nclass AppProvider extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <App content={this.props.content} />\n      </Provider>\n    )\n  }\n}\n\nfunction connectWithStore(store, WrappedComponent, ...args) {\n  let ConnectedWrappedComponent = connect(...args)(WrappedComponent)\n  return function (props) {\n    return <ConnectedWrappedComponent {...props} store={store} />\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    // config: getConfig(state),\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    // actions: bindActionCreators(actions, dispatch),\n  }\n}\n\nexport default AppProvider = connectWithStore(\n  store,\n  AppProvider,\n  mapStateToProps,\n  mapDispatchToProps\n)\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport AppProvider from './AppProvider';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}