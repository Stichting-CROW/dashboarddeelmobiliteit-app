(this["webpackJsonpdashboarddeelmobiliteit-app"]=this["webpackJsonpdashboarddeelmobiliteit-app"]||[]).push([[0],{216:function(e,t,a){},268:function(e,t,a){},274:function(e,t,a){},281:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},286:function(e,t,a){},287:function(e,t,a){},288:function(e,t,a){},289:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){},446:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},489:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},492:function(e,t,a){},493:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},505:function(e,t,a){},506:function(e,t,a){},507:function(e,t,a){},508:function(e,t,a){},509:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(36),o=a.n(r),c=(a(268),a(6)),l=a(68),s=a(69),d=a(101),u=a(108),p=a(27),m=a(5),b=a(89),f=a(16),h=a.n(f),j=a(252);var g=a(77),y={aanbieders:[],gebieden:[],zones:[],vehicle_types:[],metadata_loaded:!1,zones_loaded:!1},O=function(e){for(var t=[],a=Math.trunc(360/(e+1)),n=0;n<e;n++){var i=n*a,r=n%2===0?35:65,o=n%2===1?40:60;t.push("hsla(".concat(i,",").concat(o,"%,").concat(r,"%,").concat(1,")"))}return t};var x={data:[],operatorstats:[]};var v={origins:{},destinations:{},origins_operatorstats:[],destinations_operatorstats:[]};var _={visible:!0,gebied:"",zones:"",datum:(new Date).toISOString(),intervalduur:36e5,aanbiedersexclude:"",parkeerduurexclude:"",voertuigtypesexclude:"",afstandexclude:"",herkomstbestemming:"",ontwikkelingvan:h()().subtract(30,"days").toISOString(),ontwikkelingtot:(new Date).toISOString(),ontwikkelingaggregatie:"day"};var w={user_data:null};var k=a(77),E={data:[],filter:""};var S="displaymode-park",N="displaymode-rentals",T="displaymode-zones-admin",D="displaymode-zones-public",A="displaymode-other",C="parkeerdata-heatmap",R="parkeerdata-clusters",I="parkeerdata-voertuigen",z="verhuurdata-heatmap",L="verhuurdata-clusters",M="verhuurdata-voertuigen",F={zones_visible:!1,displaymode:S,view_park:I,view_rentals:M,extent:[],mapextent:[]},G=a(77);var P=a(121),U={FILTERBAR:window.innerWidth>800,SELECTLAYER:!0,SHOWLOADING:!1};var B={operatorstats_verhuringenchart:[],operatorstats_beschikbarevoertuigenchart:[],operatorstats_parkeerduurchart:[]};var H=Object(b.b)({created:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_CREATED"===t.type?t.payload:e},last_update:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_LAST_UPDATE"===t.type?t.payload:e},metadata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AANBIEDERS":var a=e.aanbieders?e.aanbieders:[],n=O(t.payload.length),i={cykl:"#a5e067",flickbike:"#fe431d",mobike:"#ed5144",donkey:"#ed5144",htm:"#db291e",jump:"#fd3e48",gosharing:"#77b136",check:"#8f3af8",felyx:"#064627",lime:"#1bd831",baqme:"#4bdfbb",bird:"#26ccf0",cargoroo:"#ffcb34",hely:"#fd645c",tier:"#0d123f",dott:"#00a8e9"},r=t.payload.map((function(e,t){var a=i[e.system_id]?i[e.system_id]:n[t];return Object.assign(e,{color:a})}));return g(JSON.stringify(a))===g(JSON.stringify(r))?e:Object(c.a)(Object(c.a)({},e),{},{aanbieders:r});case"SET_GEBIEDEN":var o=e.gebieden?e.gebieden:[];return g(JSON.stringify(o))===g(JSON.stringify(t.payload))?e:Object(c.a)(Object(c.a)({},e),{},{gebieden:t.payload});case"SET_ZONES":var l=e.zones?e.zones:[];return g(JSON.stringify(l))===g(JSON.stringify(t.payload))?e:Object(c.a)(Object(c.a)({},e),{},{zones:t.payload});case"CLEAR_ZONES":return Object(c.a)(Object(c.a)({},e),{},{zones:[],zones_loaded:!1});case"SET_VEHICLE_TYPES":var s=e.vehicle_types?e.vehicle_types:[];return JSON.stringify(g(s))===JSON.stringify(g(t.payload))?e:Object(c.a)(Object(c.a)({},e),{},{vehicle_types:t.payload});case"SET_METADATA_LOADED":return Object(c.a)(Object(c.a)({},e),{},{metadata_loaded:t.payload});case"SET_ZONES_LOADED":return Object(c.a)(Object(c.a)({},e),{},{zones_loaded:t.payload});case"LOGIN":case"LOGOUT":return console.log("login/logout - reset metadata"),y;default:return e}},vehicles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VEHICLES":return{data:t.payload,operatorstats:[]};case"SET_VEHICLES_OPERATORSTATS":return Object.assign({},e,{operatorstats:t.payload});case"CLEAR_VEHICLES":return{data:[],operatorstats:[]};case"LOGIN":case"LOGOUT":return x;default:return e}},rentals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_RENTALS_ORIGINS":return Object.assign({},e,{origins:t.payload,origins_operatorstats:[]});case"SET_RENTALS_DESTINATIONS":return Object.assign({},e,{destinations:t.payload,destinations_operatorstats:[]});case"CLEAR_RENTALS_ORIGINS":return Object.assign({},e,{origins:[],origins_operatorstats:[]});case"CLEAR_RENTALS_DESTINATIONS":return Object.assign({},e,{destinations:[],destinations_operatorstats:[]});case"LOGIN":case"LOGOUT":return v;case"SET_RENTALS_ORIGINS_OPERATORSTATS":return Object.assign({},e,{origins_operatorstats:t.payload});case"SET_RENTALS_DESTINATIONS_OPERATORSTATS":return Object.assign({},e,{destinations_operatorstats:t.payload});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER_VISIBLE":return Object(c.a)(Object(c.a)({},e),{},{visible:t.payload});case"SET_FILTER_GEBIED":return e.gebied===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{gebied:t.payload,zones:""});case"SET_FILTER_DATUM":return Object(c.a)(Object(c.a)({},e),{},{datum:t.payload});case"SET_FILTER_INTERVAL_START":return Object(c.a)(Object(c.a)({},e),{},{intervalstart:t.payload});case"SET_FILTER_INTERVAL_END":return Object(c.a)(Object(c.a)({},e),{},{intervalend:t.payload});case"SET_FILTER_INTERVAL_DUUR":return Object(c.a)(Object(c.a)({},e),{},{intervalduur:t.payload});case"SET_FILTER_HERKOMSTBESTEMMING":return Object(c.a)(Object(c.a)({},e),{},{herkomstbestemming:t.payload});case"ADD_TO_FILTER_ZONES":var a=[];if(e.zones)try{a=e.zones.split(",")||[]}catch(m){a=[]}return a.includes(t.payload)||a.push(t.payload),Object(c.a)(Object(c.a)({},e),{},{zones:a.join(",")});case"REMOVE_FROM_FILTER_ZONES":var n=e.zones.split(",")||[];return n=n.filter((function(e){return e.toString()!==t.payload.toString()})),Object(c.a)(Object(c.a)({},e),{},{zones:n.join(",")});case"CLEAR_FILTER_ZONES":return Object(c.a)(Object(c.a)({},e),{},{zones:""});case"ADD_TO_FILTER_MARKERS_EXCLUDE":var i=[];try{if(e.parkeerduurexclude)try{i=e.parkeerduurexclude.split(",")||[]}catch(m){i=[]}i.includes(t.payload)||i.push(t.payload)}catch(m){i=[]}return Object(c.a)(Object(c.a)({},e),{},{parkeerduurexclude:i.join(",")});case"REMOVE_FROM_FILTER_MARKERS_EXCLUDE":var r=[];try{r=(r=e.parkeerduurexclude.split(",")||[]).filter((function(e){return e.toString()!==t.payload.toString()}))}catch(m){r=[]}return Object(c.a)(Object(c.a)({},e),{},{parkeerduurexclude:r.join(",")});case"CLEAR_FILTER_MARKERS_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{parkeerduurexclude:""});case"ADD_TO_FILTER_AFSTAND_EXCLUDE":var o=[];try{if(e.afstandexclude)try{o=e.afstandexclude.split(",")||[]}catch(m){o=[]}o.includes(t.payload)||o.push(t.payload)}catch(m){o=[]}return Object(c.a)(Object(c.a)({},e),{},{afstandexclude:o.join(",")});case"REMOVE_FROM_FILTER_AFSTAND_EXCLUDE":var l=[];try{l=(l=e.afstandexclude.split(",")||[]).filter((function(e){return e.toString()!==t.payload.toString()}))}catch(m){l=[]}return Object(c.a)(Object(c.a)({},e),{},{afstandexclude:l.join(",")});case"CLEAR_FILTER_AFSTAND_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{afstandexclude:""});case"ADD_TO_FILTER_VOERTUIGTYPES_EXCLUDE":var s=[];try{if(e.voertuigtypesexclude)try{s=e.voertuigtypesexclude.split(",")||[]}catch(m){s=[]}s.includes(t.payload)||s.push(t.payload)}catch(m){s=[]}return Object(c.a)(Object(c.a)({},e),{},{voertuigtypesexclude:s.join(",")});case"REMOVE_FROM_FILTER_VOERTUIGTYPES_EXCLUDE":var d=[];try{d=(d=e.voertuigtypesexclude.split(",")||[]).filter((function(e){return e.toString()!==t.payload.toString()}))}catch(m){d=[]}return Object(c.a)(Object(c.a)({},e),{},{voertuigtypesexclude:d.join(",")});case"CLEAR_FILTER_VOERTUIGTYPES_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{voertuigtypesexclude:""});case"ADD_TO_FILTER_AANBIEDERS_EXCLUDE":var u=[];try{e.aanbiedersexclude&&(u=e.aanbiedersexclude.split(",")||[]),u.includes(t.payload)||u.push(t.payload)}catch(m){u=[]}return Object(c.a)(Object(c.a)({},e),{},{aanbiedersexclude:u.join(",")});case"REMOVE_FROM_FILTER_AANBIEDERS_EXCLUDE":var p=[];try{p=(p=e.aanbiedersexclude.split(",")||[]).filter((function(e){return e!==t.payload}))}catch(m){p=[]}return Object(c.a)(Object(c.a)({},e),{},{aanbiedersexclude:p.join(",")});case"CLEAR_FILTER_AANBIEDERS_EXCLUDE":return Object(c.a)(Object(c.a)({},e),{},{aanbiedersexclude:""});case"SET_FILTER_ONTWIKKELING_VANTOT":return Object(c.a)(Object(c.a)({},e),{},{ontwikkelingvan:t.payload.van,ontwikkelingtot:t.payload.tot});case"SET_FILTER_ONTWIKKELING_AGGREGATIE":return Object(c.a)(Object(c.a)({},e),{},{ontwikkelingaggregatie:t.payload});case"LOGIN":case"LOGOUT":case"RESET_FILTER":return _;case"IMPORT_STATE":return Object(c.a)(Object(c.a)({},e),t.payload.filter);default:return e}},authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":var a=t.payload;return{user_data:a};case"CLEAR_USER":return{user_data:null};default:return e}},zones_geodata:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ZONES_GEODATA":var a=e.data?e.data:[],n=k(JSON.stringify(a))!==k(JSON.stringify(t.payload.data)),i=e.filter!==t.payload.filter;return n||i?Object(c.a)(Object(c.a)({},e),{},{data:t.payload.data,filter:t.payload.filter}):e;case"LOGIN":case"LOGOUT":return E;default:return e}},layers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LAYER_SET_DISPLAYMODE":return e.displaymode===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{displaymode:t.payload});case"LAYER_SET_VIEW_PARK":return e.view_park===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{view_park:t.payload});case"LAYER_SET_VIEW_RENTALS":return e.view_rentals===t.payload?e:Object(c.a)(Object(c.a)({},e),{},{view_rentals:t.payload});case"LAYER_TOGGLE_ZONES_VISIBLE":return Object(c.a)(Object(c.a)({},e),{},{zones_visible:!e.zones_visible});case"LAYER_SET_MAP_STYLE":return Object(c.a)(Object(c.a)({},e),{},{map_style:t.payload});case"LAYER_SET_ZONES_EXTENT":return G(JSON.stringify(t.payload||[]))!==G(JSON.stringify(e.extent||[]))?Object(c.a)(Object(c.a)({},e),{},{extent:t.payload||[]}):e;case"LAYER_SET_MAP_EXTENT":return G(JSON.stringify(t.payload))!==G(JSON.stringify(e.mapextent||!1))?Object(c.a)(Object(c.a)({},e),{},{mapextent:t.payload}):e;case"LAYER_SET_MAP_ZOOM":return G(JSON.stringify(t.payload))!==G(JSON.stringify(e.zoom||!1))?Object(c.a)(Object(c.a)({},e),{},{zoom:t.payload}):e;case"IMPORT_STATE":return console.log("import layers"),Object(c.a)(Object(c.a)({},e),t.payload.layers);case"LOGIN":case"LOGOUT":return F;default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY":return Object(c.a)(Object(c.a)({},e),{},Object(P.a)({},t.payload.name,t.payload.visibility));case"IMPORT_STATE":return console.log("import ui"),Object(c.a)(Object(c.a)({},e),t.payload.ui);case"SHOW_LOADING":return Object(c.a)(Object(c.a)({},e),{},{showloading:t.payload});case"LOGIN":case"LOGOUT":return U;default:return e}},statsreducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OPERATORSTATS_VERHURINGENCHART":return Object.assign({},e,{operatorstats_verhuringenchart:t.payload});case"SET_OPERATORSTATS_BESCHIKBAREVOERTUIGENCHART":return Object.assign({},e,{operatorstats_beschikbarevoertuigenchart:t.payload});case"SET_OPERATORSTATS_PARKEERDUURCHART":return Object.assign({},e,{operatorstats_parkeerduurchart:t.payload});case"CLEAR_STATS":case"LOGIN":case"LOGOUT":return B;default:return e}}}),W=a(9),Y=a(31),V=(a(274),a(0));function Z(e){var t=e.pathName,a=t===e.path||t===e.href||"/"===t&&"/map/park"===e.path,n=a?e.icon.replace(".svg","-active.svg"):e.icon;return Object(V.jsxs)(V.Fragment,{children:[e.path&&Object(V.jsxs)(p.b,{className:"\n          text-menu\n          text-center\n          ".concat(a?"is-active":"","\n        "),to:e.path,href:e.href,onClick:e.onClick,title:e.title,children:[n?Object(V.jsx)("img",{alt:e.text,src:n}):"",e.text&&Object(V.jsx)("span",{className:"".concat(a||!n?"inline-block":"hidden"," sm:inline-block  ml-2"),children:e.text})]}),!e.path&&Object(V.jsxs)("a",{className:"\n          text-menu\n          text-center\n          inline-block cursor-pointer\n          ".concat(a?"is-active":"","\n        "),href:e.href,onClick:e.onClick,title:e.title,children:[n?Object(V.jsx)("img",{alt:e.text,src:n}):"",e.text&&Object(V.jsx)("span",{className:"".concat(a||!n?"inline-block":"hidden"," sm:inline-block  ml-2"),children:e.text})]})]})}function J(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),i=a[0],r=a[1];return Object(V.jsxs)(V.Fragment,{children:[e.path&&Object(V.jsx)(p.b,{className:"text-link",to:e.path,href:e.href,onClick:e.onClick,children:Object(V.jsx)("span",{className:"block",children:i?e.message:e.text})}),!e.path&&Object(V.jsx)("a",{className:"text-link inline-block cursor-pointer",href:e.href,onClick:function(t){console.log("show message"),r(!0),setTimeout((function(){console.log("hide message"),r(!1)}),3e3),e.onClick(t)},children:Object(V.jsx)("span",{className:"block",children:i?e.message:e.text})})]})}var K=function(e){var t=e.pathName,a=Object(n.useState)(!1),i=Object(W.a)(a,2),r=i[0],o=i[1],c=Object(m.c)(),l=Object(m.d)((function(e){return e.authentication.user_data})),s=Object(m.d)((function(e){return!!e.authentication.user_data})),d=Object(m.d)((function(e){return{filter:e.filter,layers:e.layers,ui:e.ui}})),u=function(){var e=window.location;!function(e){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",e);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(a){return console.warn("Copy to clipboard failed.",a),prompt("Copy to clipboard: Ctrl+C, Enter",e)}finally{document.body.removeChild(t)}}}(e.protocol+"//"+e.host+e.pathname+"?view="+encodeURIComponent(JSON.stringify(d))),window.notify("Link gekopieerd. Gebruik de link om direct naar deze weergave van de kaart te verwijzen.")},b="Menu fixed w-full mx-0 bottom-0 bg-white";return b+=" sm:bg-transparent sm:w-full",d&&d.ui&&d.ui.FILTERBAR&&(b+=" filter-open"),Object(V.jsx)("div",{className:b,children:Object(V.jsxs)("div",{className:" Menu-inner px-0 mx-auto bg-white box-border w-full flex flex-col justify-center sm:px-4 sm:shadow-lg sm:m-4 sm:mb-1 sm:rounded-3xl ",children:[Object(V.jsxs)("div",{className:" whitespace-nowrap text-center ",children:[s&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Z,{pathName:t,text:"Aanbod",path:"/map/park",icon:"/images/components/Menu/aanbod.svg"}),Object(V.jsx)(Z,{pathName:t,text:"Verhuringen",path:"/map/rentals",icon:"/images/components/Menu/verhuringen.svg"}),!1,function(){return l&&l.user&&["mail@bartroorda.nl","rinse.gorter@denhaag.nl","otto.vanboggelen@crow.nl","sven.boor@gmail.com"].indexOf(l.user.email)>-1}&&Object(V.jsx)(Z,{pathName:t,text:"Zones",path:"/admin/zones",icon:"https://i.imgur.com/GrF8KBA.png"}),Object(V.jsx)(Z,{pathName:t,text:"Ontwikkeling",path:"/stats/overview",icon:"/images/components/Menu/ontwikkeling.svg"}),Object(V.jsx)(Z,{title:"Kopieer link",text:"",icon:"/images/components/Menu/share.svg",onClick:function(e){e.preventDefault(),u()}}),Object(V.jsx)(Z,{pathName:t,path:"/misc",text:"",icon:"/images/components/Menu/settings.svg"})]}),!s&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(p.b,{className:"text-menu",to:"/login",children:"Log in"}),Object(V.jsx)(p.b,{className:"text-menu",to:"/over",children:"Over"}),Object(V.jsx)(p.b,{className:"text-menu",to:"/rondleiding",children:"Rondleiding"})]}),s&&!1]}),r&&Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{className:" Menu-subMenu absolute ",children:[Object(V.jsx)(J,{text:"Log uit",onClick:function(e){e.preventDefault(),o(!r),function(){try{s&&(c({type:"CLEAR_USER",payload:null}),c({type:"LOGOUT",payload:null}))}catch(e){console.error("Menu.logout - error ",e)}}()}}),Object(V.jsx)(J,{text:"Exporteer aanzicht",message:"Aanzicht gekopieerd",onClick:function(e){u()},children:Object(V.jsx)("span",{children:"Tekst hier"})}),Object(V.jsx)(J,{text:"Feedback \ud83d\udce8",href:"mailto:info@deelfietsdashboard.nl?subject=Feedback Dashboard Deelmobiliteit&body=Ik heb feedback: ",onClick:function(e){o(!r)}})]})})]})})};a(281);function X(e){return Object(V.jsx)("a",{href:"goForIt",className:"MenuSecondaryItem cursor-pointer mx-2",onClick:e.onClick,children:e.text})}var $=function(){var e=Object(m.c)(),t=Object(n.useState)(document.location.pathname),a=Object(W.a)(t,2),i=a[0],r=a[1],o=Object(Y.g)();Object(n.useEffect)((function(){r(o?o.pathname:null)}),[o]);var c=function(t,a){e({type:"SET_VISIBILITY",payload:{name:t,visibility:a}})};return Object(V.jsxs)("div",{className:"MenuSecondary block sm:hidden absolute left-0 z-10",children:[Object(V.jsx)(X,{text:"Filters",onClick:function(e){e.preventDefault(),c("FILTERBAR",!0)}}),"/stats/overview"!==i&&Object(V.jsx)(X,{text:"Lagen",onClick:function(e){e.preventDefault(),c("MenuSecondary.layers",!0)}})]})},q=a(10),Q=a(18),ee=a(90),te=a.n(ee),ae=a(124),ne=a.n(ae),ie=a(227),re={version:8,sources:{mapbox:{type:"vector",attribution:"Mapbox",tiles:["https://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v7/{z}/{x}/{y}.vector.pbf?access_token=pk.eyJ1IjoibWF0dCIsImEiOiJTUHZkajU0In0.oB-OGTMFtpkga8vC48HjIg"]}},glyphs:"https://a.tiles.mapbox.com/v4/fontstack/{fontstack}/{range}.pbf?access_token=pk.eyJ1IjoibWF0dCIsImEiOiJTUHZkajU0In0.oB-OGTMFtpkga8vC48HjIg",layers:[{id:"background",type:"background",paint:{"background-color":"#f8f4f0"},interactive:!0},{id:"landuse_overlay_national_park",type:"fill",source:"mapbox","source-layer":"landuse_overlay",filter:["==","class","national_park"],paint:{"fill-color":"#d8e8c8","fill-opacity":.75},metadata:{"mapbox:group":"1444849388993.3071"},interactive:!0},{id:"landuse_park",type:"fill",source:"mapbox","source-layer":"landuse",filter:["==","class","park"],paint:{"fill-color":"#d8e8c8"},metadata:{"mapbox:group":"1444849388993.3071"},interactive:!0},{id:"landuse_cemetery",type:"fill",source:"mapbox","source-layer":"landuse",filter:["==","class","cemetery"],paint:{"fill-color":"#e0e4dd"},metadata:{"mapbox:group":"1444849388993.3071"},interactive:!0},{id:"landuse_hospital",type:"fill",source:"mapbox","source-layer":"landuse",filter:["==","class","hospital"],paint:{"fill-color":"#fde"},metadata:{"mapbox:group":"1444849388993.3071"},interactive:!0},{id:"landuse_school",type:"fill",source:"mapbox","source-layer":"landuse",filter:["==","class","school"],paint:{"fill-color":"#f0e8f8"},metadata:{"mapbox:group":"1444849388993.3071"},interactive:!0},{id:"landuse_wood",type:"fill",source:"mapbox","source-layer":"landuse",filter:["==","class","wood"],paint:{"fill-color":"#6a4","fill-opacity":.1},metadata:{"mapbox:group":"1444849388993.3071"},interactive:!0},{interactive:!0,layout:{"line-cap":"round"},metadata:{"mapbox:group":"1444849382550.77"},filter:["all",["!=","class","river"],["!=","class","stream"],["!=","class","canal"]],type:"line",source:"mapbox",id:"waterway",paint:{"line-color":"#a0c8f0","line-width":{base:1.3,stops:[[13,.5],[20,2]]}},"source-layer":"waterway"},{interactive:!0,layout:{"line-cap":"round"},metadata:{"mapbox:group":"1444849382550.77"},filter:["==","class","river"],type:"line",source:"mapbox",id:"waterway_river",paint:{"line-color":"#a0c8f0","line-width":{base:1.2,stops:[[11,.5],[20,6]]}},"source-layer":"waterway"},{interactive:!0,layout:{"line-cap":"round"},metadata:{"mapbox:group":"1444849382550.77"},filter:["in","class","stream","canal"],type:"line",source:"mapbox",id:"waterway_stream_canal",paint:{"line-color":"#a0c8f0","line-width":{base:1.3,stops:[[13,.5],[20,6]]}},"source-layer":"waterway"},{id:"water",type:"fill",source:"mapbox","source-layer":"water",paint:{"fill-color":"#a0c8f0"},metadata:{"mapbox:group":"1444849382550.77"},interactive:!0},{id:"water_offset",paint:{"fill-color":"white","fill-opacity":.3,"fill-translate":[0,2.5]},metadata:{"mapbox:group":"1444849382550.77"},interactive:!0,ref:"water"},{id:"water_pattern",paint:{"fill-translate":[0,2.5],"fill-pattern":"wave"},metadata:{"mapbox:group":"1444849382550.77"},interactive:!0,ref:"water"},{interactive:!0,minzoom:11,metadata:{"mapbox:group":"1444849371739.5945"},filter:["==","$type","Polygon"],type:"fill",source:"mapbox",id:"aeroway_fill",paint:{"fill-color":"#f0ede9","fill-opacity":.7},"source-layer":"aeroway"},{interactive:!0,minzoom:11,metadata:{"mapbox:group":"1444849371739.5945"},filter:["all",["==","$type","LineString"],["==","type","runway"]],type:"line",source:"mapbox",id:"aeroway_runway",paint:{"line-color":"#f0ede9","line-width":{base:1.2,stops:[[11,3],[20,16]]}},"source-layer":"aeroway"},{interactive:!0,minzoom:11,metadata:{"mapbox:group":"1444849371739.5945"},filter:["all",["==","$type","LineString"],["==","type","taxiway"]],type:"line",source:"mapbox",id:"aeroway_taxiway",paint:{"line-color":"#f0ede9","line-width":{base:1.2,stops:[[11,.5],[20,6]]}},"source-layer":"aeroway"},{id:"building",type:"fill",source:"mapbox","source-layer":"building",paint:{"fill-color":{base:1,stops:[[15.5,"#f2eae2"],[16,"#dfdbd7"]]}},metadata:{"mapbox:group":"1444849364238.8171"},interactive:!0},{id:"building_top",paint:{"fill-color":"#f2eae2","fill-opacity":{base:1,stops:[[15,0],[16,1]]},"fill-translate":{stops:[[15,[0,0]],[16,[-2,-2]]],base:1},"fill-outline-color":"#dfdbd7"},metadata:{"mapbox:group":"1444849364238.8171"},interactive:!0,ref:"building"},{interactive:!0,layout:{"line-join":"round",visibility:"visible"},metadata:{"mapbox:group":"1444849354174.1904"},filter:["all",["==","structure","tunnel"],["==","class","motorway_link"]],type:"line",source:"mapbox",id:"tunnel_motorway_link_casing",paint:{"line-color":"#e9ac77","line-dasharray":[.5,.25],"line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849354174.1904"},filter:["all",["==","structure","tunnel"],["in","class","service","track"]],type:"line",source:"mapbox",id:"tunnel_service_track_casing",paint:{"line-color":"#cfcdca","line-dasharray":[.5,.25],"line-width":{base:1.2,stops:[[15,1],[16,4],[20,11]]}},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849354174.1904"},filter:["all",["==","structure","tunnel"],["==","class","link"]],type:"line",source:"mapbox",id:"tunnel_link_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849354174.1904"},filter:["all",["==","structure","tunnel"],["in","class","street","street_limited"]],type:"line",source:"mapbox",id:"tunnel_street_casing",paint:{"line-color":"#cfcdca","line-width":{base:1.2,stops:[[12,.5],[13,1],[14,4],[20,15]]},"line-opacity":{stops:[[12,0],[12.5,1]]}},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849354174.1904"},filter:["all",["==","structure","tunnel"],["in","class","secondary","tertiary"]],type:"line",source:"mapbox",id:"tunnel_secondary_tertiary_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[8,1.5],[20,17]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849354174.1904"},filter:["all",["==","structure","tunnel"],["in","class","trunk","primary"]],type:"line",source:"mapbox",id:"tunnel_trunk_primary_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.6],[7,1.5],[20,22]]}},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round",visibility:"visible"},metadata:{"mapbox:group":"1444849354174.1904"},filter:["all",["==","structure","tunnel"],["==","class","motorway"]],type:"line",source:"mapbox",id:"tunnel_motorway_casing",paint:{"line-color":"#e9ac77","line-dasharray":[.5,.25],"line-width":{base:1.2,stops:[[5,.4],[6,.6],[7,1.5],[20,22]]}},"source-layer":"road"},{id:"tunnel_path_pedestrian",type:"line",source:"mapbox","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","tunnel"],["in","class","path","pedestrian"]]],paint:{"line-color":"#cba","line-dasharray":[1.5,.75],"line-width":{base:1.2,stops:[[15,1.2],[20,4]]}},metadata:{"mapbox:group":"1444849354174.1904"},interactive:!0},{interactive:!0,metadata:{"mapbox:group":"1444849354174.1904"},id:"tunnel_motorway_link",paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}},ref:"tunnel_motorway_link_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849354174.1904"},id:"tunnel_service_track",paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[15.5,0],[16,2],[20,7.5]]}},ref:"tunnel_service_track_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849354174.1904"},id:"tunnel_link",paint:{"line-color":"#fff4c6","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}},ref:"tunnel_link_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849354174.1904"},id:"tunnel_street",paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[13.5,0],[14,2.5],[20,11.5]]},"line-opacity":1},ref:"tunnel_street_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849354174.1904"},id:"tunnel_secondary_tertiary",paint:{"line-color":"#fff4c6","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,10]]}},ref:"tunnel_secondary_tertiary_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849354174.1904"},id:"tunnel_trunk_primary",paint:{"line-color":"#fff4c6","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,18]]}},ref:"tunnel_trunk_primary_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849354174.1904"},id:"tunnel_motorway",paint:{"line-color":"#ffdaa6","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,18]]}},ref:"tunnel_motorway_casing"},{id:"tunnel_major_rail",type:"line",source:"mapbox","source-layer":"road",filter:["all",["==","structure","tunnel"],["in","class","major_rail","minor_rail"]],paint:{"line-color":"#bbb","line-width":{base:1.4,stops:[[14,.4],[15,.75],[20,2]]}},metadata:{"mapbox:group":"1444849354174.1904"},interactive:!0},{id:"tunnel_major_rail_hatching",paint:{"line-color":"#bbb","line-dasharray":[.2,8],"line-width":{base:1.4,stops:[[14.5,0],[15,3],[20,8]]}},metadata:{"mapbox:group":"1444849354174.1904"},interactive:!0,ref:"tunnel_major_rail"},{interactive:!0,minzoom:12,layout:{"line-cap":"round","line-join":"round"},metadata:{"mapbox:group":"1444849345966.4436"},filter:["all",["==","class","motorway_link"],["!in","structure","bridge","tunnel"]],type:"line",source:"mapbox",id:"road_motorway_link_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round"},metadata:{"mapbox:group":"1444849345966.4436"},filter:["all",["in","class","service","track"],["!in","structure","bridge","tunnel"]],type:"line",source:"mapbox",id:"road_service_track_casing",paint:{"line-color":"#cfcdca","line-width":{base:1.2,stops:[[15,1],[16,4],[20,11]]}},"source-layer":"road"},{interactive:!0,minzoom:13,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},metadata:{"mapbox:group":"1444849345966.4436"},filter:["all",["==","class","link"],["!in","structure","bridge","tunnel"]],type:"line",source:"mapbox",id:"road_link_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round"},metadata:{"mapbox:group":"1444849345966.4436"},filter:["all",["==","$type","LineString"],["all",["in","class","street","street_limited"],["!in","structure","bridge","tunnel"]]],type:"line",source:"mapbox",id:"road_street_casing",paint:{"line-color":"#cfcdca","line-width":{base:1.2,stops:[[12,.5],[13,1],[14,4],[20,15]]},"line-opacity":{stops:[[12,0],[12.5,1]]}},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},metadata:{"mapbox:group":"1444849345966.4436"},filter:["all",["in","class","secondary","tertiary"],["!in","structure","bridge","tunnel"]],type:"line",source:"mapbox",id:"road_secondary_tertiary_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[8,1.5],[20,17]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},metadata:{"mapbox:group":"1444849345966.4436"},filter:["all",["in","class","trunk","primary"],["!in","structure","bridge","tunnel"]],type:"line",source:"mapbox",id:"road_trunk_primary_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.6],[7,1.5],[20,22]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,minzoom:5,layout:{"line-cap":"round","line-join":"round",visibility:"visible"},metadata:{"mapbox:group":"1444849345966.4436"},filter:["all",["==","class","motorway"],["!in","structure","bridge","tunnel"]],type:"line",source:"mapbox",id:"road_motorway_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.6],[7,1.5],[20,22]]}},"source-layer":"road"},{id:"road_path_pedestrian",type:"line",source:"mapbox","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["in","class","path","pedestrian"],["!in","structure","bridge","tunnel"]]],paint:{"line-color":"#cba","line-dasharray":[1.5,.75],"line-width":{base:1.2,stops:[[15,1.2],[20,4]]}},metadata:{"mapbox:group":"1444849345966.4436"},interactive:!0},{interactive:!0,metadata:{"mapbox:group":"1444849345966.4436"},id:"road_motorway_link",paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}},ref:"road_motorway_link_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849345966.4436"},id:"road_service_track",paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[15.5,0],[16,2],[20,7.5]]}},ref:"road_service_track_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849345966.4436"},id:"road_link",paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}},ref:"road_link_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849345966.4436"},id:"road_street",paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[13.5,0],[14,2.5],[20,11.5]]},"line-opacity":1},ref:"road_street_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849345966.4436"},id:"road_secondary_tertiary",paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[6.5,0],[8,.5],[20,13]]}},ref:"road_secondary_tertiary_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849345966.4436"},id:"road_trunk_primary",paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,18]]}},ref:"road_trunk_primary_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849345966.4436"},id:"road_motorway",paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,18]]}},ref:"road_motorway_casing"},{id:"road_major_rail",type:"line",source:"mapbox","source-layer":"road",filter:["all",["==","class","major_rail"],["!in","structure","bridge","tunnel"]],paint:{"line-color":"#bbb","line-width":{base:1.4,stops:[[14,.4],[15,.75],[20,2]]}},metadata:{"mapbox:group":"1444849345966.4436"},interactive:!0},{id:"road_major_rail_hatching",paint:{"line-color":"#bbb","line-dasharray":[.2,8],"line-width":{base:1.4,stops:[[14.5,0],[15,3],[20,8]]}},metadata:{"mapbox:group":"1444849345966.4436"},interactive:!0,ref:"road_major_rail"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849334699.1902"},filter:["all",["==","structure","bridge"],["==","class","motorway_link"]],type:"line",source:"mapbox",id:"bridge_motorway_link_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849334699.1902"},filter:["all",["==","structure","bridge"],["in","class","service","track"]],type:"line",source:"mapbox",id:"bridge_service_track_casing",paint:{"line-color":"#cfcdca","line-width":{base:1.2,stops:[[15,1],[16,4],[20,11]]}},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849334699.1902"},filter:["all",["==","structure","bridge"],["==","class","link"]],type:"line",source:"mapbox",id:"bridge_link_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[12,1],[13,3],[14,4],[20,15]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849334699.1902"},filter:["all",["==","structure","bridge"],["in","class","street","street_limited"]],type:"line",source:"mapbox",id:"bridge_street_casing",paint:{"line-color":"#cfcdca","line-width":{base:1.2,stops:[[12,.5],[13,1],[14,4],[20,15]]},"line-opacity":{stops:[[12,0],[12.5,1]]}},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849334699.1902"},filter:["all",["==","structure","bridge"],["in","class","secondary","tertiary"]],type:"line",source:"mapbox",id:"bridge_secondary_tertiary_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[8,1.5],[20,17]]},"line-opacity":1},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849334699.1902"},filter:["all",["==","structure","bridge"],["in","class","trunk","primary"]],type:"line",source:"mapbox",id:"bridge_trunk_primary_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.6],[7,1.5],[20,22]]}},"source-layer":"road"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849334699.1902"},filter:["all",["==","structure","bridge"],["==","class","motorway"]],type:"line",source:"mapbox",id:"bridge_motorway_casing",paint:{"line-color":"#e9ac77","line-width":{base:1.2,stops:[[5,.4],[6,.6],[7,1.5],[20,22]]}},"source-layer":"road"},{id:"bridge_path_pedestrian",type:"line",source:"mapbox","source-layer":"road",filter:["all",["==","$type","LineString"],["all",["==","structure","bridge"],["in","class","path","pedestrian"]]],paint:{"line-color":"#cba","line-dasharray":[1.5,.75],"line-width":{base:1.2,stops:[[15,1.2],[20,4]]}},metadata:{"mapbox:group":"1444849334699.1902"},interactive:!0},{interactive:!0,metadata:{"mapbox:group":"1444849334699.1902"},id:"bridge_motorway_link",paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}},ref:"bridge_motorway_link_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849334699.1902"},id:"bridge_service_track",paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[15.5,0],[16,2],[20,7.5]]}},ref:"bridge_service_track_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849334699.1902"},id:"bridge_link",paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[12.5,0],[13,1.5],[14,2.5],[20,11.5]]}},ref:"bridge_link_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849334699.1902"},id:"bridge_street",paint:{"line-color":"#fff","line-width":{base:1.2,stops:[[13.5,0],[14,2.5],[20,11.5]]},"line-opacity":1},ref:"bridge_street_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849334699.1902"},id:"bridge_secondary_tertiary",paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,10]]}},ref:"bridge_secondary_tertiary_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849334699.1902"},id:"bridge_trunk_primary",paint:{"line-color":"#fea","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,18]]}},ref:"bridge_trunk_primary_casing"},{interactive:!0,metadata:{"mapbox:group":"1444849334699.1902"},id:"bridge_motorway",paint:{"line-color":"#fc8","line-width":{base:1.2,stops:[[6.5,0],[7,.5],[20,18]]}},ref:"bridge_motorway_casing"},{id:"bridge_major_rail",type:"line",source:"mapbox","source-layer":"road",filter:["all",["==","structure","bridge"],["==","class","major_rail"]],paint:{"line-color":"#bbb","line-width":{base:1.4,stops:[[14,.4],[15,.75],[20,2]]}},metadata:{"mapbox:group":"1444849334699.1902"},interactive:!0},{id:"bridge_major_rail_hatching",paint:{"line-color":"#bbb","line-dasharray":[.2,8],"line-width":{base:1.4,stops:[[14.5,0],[15,3],[20,8]]}},metadata:{"mapbox:group":"1444849334699.1902"},interactive:!0,ref:"bridge_major_rail"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849307123.581"},filter:["all",[">=","admin_level",3],["==","maritime",0]],type:"line",source:"mapbox",id:"admin_level_3",paint:{"line-color":"#9e9cab","line-dasharray":[3,1,1,1],"line-width":{base:1,stops:[[4,.4],[5,1],[12,3]]}},"source-layer":"admin"},{interactive:!0,layout:{"line-join":"round","line-cap":"round"},metadata:{"mapbox:group":"1444849307123.581"},filter:["all",["==","admin_level",2],["==","disputed",0],["==","maritime",0]],type:"line",source:"mapbox",id:"admin_level_2",paint:{"line-color":"#9e9cab","line-width":{base:1,stops:[[4,1.4],[5,2],[12,8]]}},"source-layer":"admin"},{interactive:!0,layout:{"line-cap":"round"},metadata:{"mapbox:group":"1444849307123.581"},filter:["all",["==","admin_level",2],["==","disputed",1],["==","maritime",0]],type:"line",source:"mapbox",id:"admin_level_2_disputed",paint:{"line-color":"#9e9cab","line-dasharray":[2,2],"line-width":{base:1,stops:[[4,1.4],[5,2],[12,8]]}},"source-layer":"admin"},{interactive:!0,layout:{"line-join":"round"},metadata:{"mapbox:group":"1444849307123.581"},filter:["all",[">=","admin_level",3],["==","maritime",1]],type:"line",source:"mapbox",id:"admin_level_3_maritime",paint:{"line-color":"#a0c8f0","line-opacity":.5,"line-dasharray":[3,1,1,1],"line-width":{base:1,stops:[[4,.4],[5,1],[12,3]]}},"source-layer":"admin"},{interactive:!0,layout:{"line-cap":"round"},metadata:{"mapbox:group":"1444849307123.581"},filter:["all",["==","admin_level",2],["==","maritime",1]],type:"line",source:"mapbox",id:"admin_level_2_maritime",paint:{"line-color":"#a0c8f0","line-opacity":.5,"line-width":{base:1,stops:[[4,1.4],[5,2],[12,8]]}},"source-layer":"admin"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-max-width":5,"text-size":12},metadata:{"mapbox:group":"1444849320558.5054"},filter:["==","$type","Point"],type:"symbol",source:"mapbox",id:"water_label",paint:{"text-color":"#74aee9","text-halo-width":1.5,"text-halo-color":"rgba(255,255,255,0.7)"},"source-layer":"water_label"},{interactive:!0,minzoom:16,layout:{"icon-image":"{maki}-11","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":9,"text-padding":2,"text-offset":[0,.6],"text-anchor":"top","text-size":12},metadata:{"mapbox:group":"1444849297111.495"},filter:["all",["==","$type","Point"],["==","scalerank",4]],type:"symbol",source:"mapbox",id:"poi_label_4",paint:{"text-color":"#666","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5},"source-layer":"poi_label"},{interactive:!0,minzoom:15,layout:{"icon-image":"{maki}-11","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":9,"text-padding":2,"text-offset":[0,.6],"text-anchor":"top","text-size":12},metadata:{"mapbox:group":"1444849297111.495"},filter:["all",["==","$type","Point"],["==","scalerank",3]],type:"symbol",source:"mapbox",id:"poi_label_3",paint:{"text-color":"#666","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5},"source-layer":"poi_label"},{interactive:!0,minzoom:14,layout:{"icon-image":"{maki}-11","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":9,"text-padding":2,"text-offset":[0,.6],"text-anchor":"top","text-size":12},metadata:{"mapbox:group":"1444849297111.495"},filter:["all",["==","$type","Point"],["==","scalerank",2]],type:"symbol",source:"mapbox",id:"poi_label_2",paint:{"text-color":"#666","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5},"source-layer":"poi_label"},{layout:{"text-size":12,"icon-image":"{maki}-11","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-padding":2,visibility:"visible","text-offset":[0,.6],"text-anchor":"top","text-field":"{name_en}","text-max-width":9},metadata:{"mapbox:group":"1444849297111.495"},type:"symbol",source:"mapbox",id:"rail_station_label",paint:{"text-color":"#666","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5},"source-layer":"rail_station_label",interactive:!0},{interactive:!0,minzoom:13,layout:{"icon-image":"{maki}-11","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":9,"text-padding":2,"text-offset":[0,.6],"text-anchor":"top","text-size":12},metadata:{"mapbox:group":"1444849297111.495"},filter:["all",["==","$type","Point"],["==","scalerank",1]],type:"symbol",source:"mapbox",id:"poi_label_1",paint:{"text-color":"#666","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5},"source-layer":"poi_label"},{interactive:!0,minzoom:11,layout:{"icon-image":"{maki}-11","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":9,"text-padding":2,"text-offset":[0,.6],"text-anchor":"top","text-size":12},metadata:{"mapbox:group":"1444849297111.495"},filter:["all",["==","$type","Point"],["in","scalerank",1,2,3]],type:"symbol",source:"mapbox",id:"airport_label",paint:{"text-color":"#666","text-halo-color":"#ffffff","text-halo-width":1,"text-halo-blur":.5},"source-layer":"airport_label"},{interactive:!0,layout:{"text-field":"{name_en}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":{base:1,stops:[[13,12],[14,13]]},"symbol-placement":"line"},metadata:{"mapbox:group":"1456163609504.0715"},filter:["!=","class","ferry"],type:"symbol",source:"mapbox",id:"road_label",paint:{"text-color":"#765","text-halo-width":1,"text-halo-blur":.5},"source-layer":"road_label"},{interactive:!0,minzoom:8,layout:{"text-field":"{ref}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":11,"icon-image":"motorway_{reflen}","symbol-placement":{base:1,stops:[[10,"point"],[11,"line"]]},"symbol-spacing":500,"text-rotation-alignment":"viewport","icon-rotation-alignment":"viewport"},metadata:{"mapbox:group":"1456163609504.0715"},filter:["<=","reflen",6],type:"symbol",source:"mapbox",id:"road_label_highway_shield",paint:{},"source-layer":"road_label"},{interactive:!0,layout:{"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-transform":"uppercase","text-letter-spacing":.1,"text-field":"{name_en}","text-max-width":9,"text-size":{base:1.2,stops:[[12,10],[15,14]]}},metadata:{"mapbox:group":"1444849272561.29"},filter:["in","type","hamlet","suburb","neighbourhood","island","islet"],type:"symbol",source:"mapbox",id:"place_label_other",paint:{"text-color":"#633","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2},"source-layer":"place_label"},{interactive:!0,layout:{"text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-field":"{name_en}","text-max-width":8,"text-size":{base:1.2,stops:[[10,12],[15,22]]}},metadata:{"mapbox:group":"1444849272561.29"},filter:["==","type","village"],type:"symbol",source:"mapbox",id:"place_label_village",paint:{"text-color":"#333","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2},"source-layer":"place_label"},{interactive:!0,layout:{"text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-field":"{name_en}","text-max-width":8,"text-size":{base:1.2,stops:[[10,14],[15,24]]}},metadata:{"mapbox:group":"1444849272561.29"},filter:["==","type","town"],type:"symbol",source:"mapbox",id:"place_label_town",paint:{"text-color":"#333","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2},"source-layer":"place_label"},{interactive:!0,layout:{"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":8,"text-size":{base:1.2,stops:[[7,14],[11,24]]}},metadata:{"mapbox:group":"1444849272561.29"},filter:["==","type","city"],type:"symbol",source:"mapbox",id:"place_label_city",paint:{"text-color":"#333","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":1.2},"source-layer":"place_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-letter-spacing":.2,"symbol-placement":"line","text-size":{stops:[[3,11],[4,12]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","LineString"],[">=","labelrank",4]],type:"symbol",source:"mapbox",id:"marine_label_line_4",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-max-width":6,"text-letter-spacing":.2,"symbol-placement":"point","text-size":{stops:[[3,11],[4,12]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","Point"],[">=","labelrank",4]],type:"symbol",source:"mapbox",id:"marine_label_4",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-letter-spacing":.2,"symbol-placement":"line","text-size":{stops:[[3,11],[4,14]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","LineString"],["==","labelrank",3]],type:"symbol",source:"mapbox",id:"marine_label_line_3",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-max-width":5,"text-letter-spacing":.2,"symbol-placement":"point","text-size":{stops:[[3,11],[4,14]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","Point"],["==","labelrank",3]],type:"symbol",source:"mapbox",id:"marine_label_point_3",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-letter-spacing":.2,"symbol-placement":"line","text-size":{stops:[[3,14],[4,16]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","LineString"],["==","labelrank",2]],type:"symbol",source:"mapbox",id:"marine_label_line_2",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-max-width":5,"text-letter-spacing":.2,"symbol-placement":"point","text-size":{stops:[[3,14],[4,16]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","Point"],["==","labelrank",2]],type:"symbol",source:"mapbox",id:"marine_label_point_2",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-letter-spacing":.2,"symbol-placement":"line","text-size":{stops:[[3,18],[4,22]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","LineString"],["==","labelrank",1]],type:"symbol",source:"mapbox",id:"marine_label_line_1",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Italic","Arial Unicode MS Regular"],"text-field":"{name_en}","text-max-width":5,"text-letter-spacing":.2,"text-line-height":1.6,"symbol-placement":"point","text-offset":[0,2.4],"text-size":{stops:[[3,18],[4,22]]}},metadata:{"mapbox:group":"1444849258897.3083"},filter:["all",["==","$type","Point"],["==","labelrank",1]],type:"symbol",source:"mapbox",id:"marine_label_point_1",paint:{"text-color":"#74aee9","text-halo-color":"rgba(255,255,255,0.7)","text-halo-width":.75,"text-halo-blur":.75},"source-layer":"marine_label"},{interactive:!0,layout:{"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":6.25,"text-transform":"uppercase","text-size":{stops:[[4,11],[6,15]]}},metadata:{"mapbox:group":"1444849242106.713"},filter:[">=","scalerank",4],type:"symbol",source:"mapbox",id:"country_label_4",paint:{"text-color":"#334","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":2,"text-halo-blur":1},"source-layer":"country_label"},{interactive:!0,layout:{"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":6.25,"text-transform":"uppercase","text-size":{stops:[[3,11],[7,17]]}},metadata:{"mapbox:group":"1444849242106.713"},filter:["==","scalerank",3],type:"symbol",source:"mapbox",id:"country_label_3",paint:{"text-color":"#334","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":2,"text-halo-blur":1},"source-layer":"country_label"},{interactive:!0,layout:{"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":6.25,"text-transform":"uppercase","text-size":{stops:[[2,11],[5,17]]}},metadata:{"mapbox:group":"1444849242106.713"},filter:["==","scalerank",2],type:"symbol",source:"mapbox",id:"country_label_2",paint:{"text-color":"#334","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":2,"text-halo-blur":1},"source-layer":"country_label"},{interactive:!0,layout:{"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-field":"{name_en}","text-max-width":6.25,"text-transform":"uppercase","text-size":{stops:[[1,11],[4,17]]}},metadata:{"mapbox:group":"1444849242106.713"},filter:["==","scalerank",1],type:"symbol",source:"mapbox",id:"country_label_1",paint:{"text-color":"#334","text-halo-color":"rgba(255,255,255,0.8)","text-halo-width":2,"text-halo-blur":1},"source-layer":"country_label"}]},oe=function(){return{base:re,satelite:"https://api.maptiler.com/maps/hybrid/style.json?key=ZH8yI08EPvuzF57Lyc61"}},ce=a(228),le=function(e,t){var a=e.filter((function(e){return e.system_id===t}));return a&&a[0]?a[0].color:"#666"},se=function(e){return e?Object.keys(e).filter((function(e,t){return"name"!==e&&e})):[]};h.a.updateLocale("nl",ne.a);var de={baqme:"https://www.baqme.com/",bird:"https://www.bird.co/",cykl:"https://www.cykl.nl/",check:"https://ridecheck.app/",cargoroo:"https://cargoroo.nl/",deelfietsnederland:"https://deelfietsnederland.nl/",donkey:"https://www.donkey.bike/",felyx:"https://felyx.com/",flickbike:"https://www.flickbike.nl/",gosharing:"https://go-sharing.com/",hely:"https://hely.com/",htm:"https://www.htm.nl/ons-vervoer/htm-fiets",keobike:"https://keobike.nl/",lime:"https://www.li.me/",tier:"https://www.tier.app/",dott:"https://ridedott.com/",uwdeelfiets:"https://www.uwdeelfiets.nl/"},ue=new ce.a;window.showConfetti=function(){ue.addConfetti(),ue.addConfetti({emojis:["\ud83d\udeb2","\ud83d\udeb2","\ud83d\udeb4\u200d\u2640\ufe0f","\ud83d\udef5","\ud83d\udef4","\ud83d\ude97","\ud83d\ude99","\u2728","\u2728"],emojiSize:30,confettiNumber:100})};var pe=function(){if(!(window.innerWidth>640)){var e=document.getElementsByClassName("mapboxgl-popup");e.length&&e[0].remove()}},me=a(173),be=a.n(me),fe=(a(282),a(229)),he=a.n(fe),je={white:{backgroundColor:"#fff",borderColor:"#CCCCCC",color:"#343E47"},red:{backgroundColor:"#fff",borderColor:"#CCCCCC",color:"#ff0000"},green:{backgroundColor:"#fff",borderColor:"#CCCCCC",color:"darkgreen"},zone:{monitoring:{primaryColor:"#15AEEF"},stop:{primaryColor:"#FD862E"},no_parking:{primaryColor:"#FD3E48"}}},ge=a(230),ye=function(e){return{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json",charset:"utf-8"}}},Oe=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n,i,r;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",[]);case 2:if(a.municipality){e.next=4;break}return e.abrupt("return",[]);case 4:return n="municipality=".concat(a.municipality,"&geography_types=no_parking&geography_types=stop&geography_types=monitoring"),i="https://mds.dashboarddeelmobiliteit.nl/admin/zones?".concat(n),e.next=8,fetch(i,ye(t));case 8:return r=e.sent,e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),xe=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n,i,r;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",[]);case 2:if(a.municipality){e.next=4;break}return e.abrupt("return",[]);case 4:return n="municipality=".concat(a.municipality,"&geography_types=no_parking&geography_types=stop&geography_types=monitoring"),i="https://mds.dashboarddeelmobiliteit.nl/public/zones?".concat(n),e.next=8,fetch(i,ye(t));case 8:return r=e.sent,e.next=11,r.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ve=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mds.dashboarddeelmobiliteit.nl/admin/zone",e.next=3,fetch("https://mds.dashboarddeelmobiliteit.nl/admin/zone",Object.assign({},ye(t),{method:"POST",body:JSON.stringify(a)}));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mds.dashboarddeelmobiliteit.nl/admin/zone",e.next=3,fetch("https://mds.dashboarddeelmobiliteit.nl/admin/zone",Object.assign({},ye(t),{method:"PUT",body:JSON.stringify(a)}));case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),we=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n,i;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://mds.dashboarddeelmobiliteit.nl/admin/zone/".concat(a),e.next=3,fetch(n,Object.assign({},ye(t),{method:"DELETE"}));case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ke=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.CROW_DD){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Oe(t,a);case 4:if(n=e.sent,!(Object.keys(n).length<=0)){e.next=7;break}return e.abrupt("return");case 7:Te(n).forEach((function(e){var t=[];e.forEach((function(e){var a=e;t.push({type:"Feature",properties:{geography_type:a.geography_type},id:a.zone_id,geometry:a.area.geometry})})),window.CROW_DD.theDraw.add({type:"FeatureCollection",features:t})}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.CROW_DD){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,xe(t,a);case 4:if(n=e.sent,!(Object.keys(n).length<=0)){e.next=7;break}return e.abrupt("return");case 7:Te(n).forEach((function(e){var t=[];e.forEach((function(e){var a=e;t.push({type:"Feature",properties:{geography_type:a.geography_type},id:a.zone_id,geometry:a.area.geometry})})),window.CROW_DD.theDraw.add({type:"FeatureCollection",features:t})}));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(e){if(e){e.on("draw.selectionchange",(function(e){if(e&&(e.features&&1===e.features.length)){var t=e.features[0].id,a=new CustomEvent("setSelectedZone",{detail:t});window.dispatchEvent(a)}}))}},Ne=function(e){var t=Te(e),a=[];return t[0].forEach((function(e){a.push(e)})),t[1].forEach((function(e){a.push(e)})),t[2].forEach((function(e){a.push(e)})),a},Te=function(e){return[e.filter((function(e){return"monitoring"===e.geography_type})),e.filter((function(e){return"no_parking"===e.geography_type})),e.filter((function(e){return"stop"===e.geography_type}))]},De=function(e){var t=[];return e.map((function(e){e.id&&"string"===typeof e.id&&t.push(e)})),t},Ae=(a(283),["interpolate",["linear"],["zoom"],0,.0025,5,.005,7.5,.02,10,.1,12,.25,15,.3,17,.5,20,1]),Ce={type:"symbol",filter:["!",["has","point_count"]],layout:{"icon-image":["concat",["get","system_id"],"-p:",["get","duration_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0}},Re={id:"vehicles-heatmap",type:"heatmap",source:"vehicles",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,1e-4,10,1],"heatmap-intensity":Ae,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.25,"#ffd837",.5,"#fe862e",.75,"#fd3e48",1,"#9a231f"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,10,10,12,12,20,15,40,20,60,30,100,40,100],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,.8]}},Ie={id:"rentals-origins-heatmap",type:"heatmap",source:"rentals-origins",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,1e-4,10,1],"heatmap-intensity":Ae,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.25,"#ffd837",.5,"#fe862e",.75,"#fd3e48",1,"#9a231f"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,10,10,12,12,20,15,40,20,60,30,100,40,100],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,.8]}},ze={id:"rentals-destinations-heatmap",type:"heatmap",source:"rentals-destinations",paint:{"heatmap-weight":["interpolate",["linear"],["get","mag"],0,1e-4,10,1],"heatmap-intensity":Ae,"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.25,"#ffd837",.5,"#fe862e",.75,"#fd3e48",1,"#9a231f"],"heatmap-radius":["interpolate",["linear"],["zoom"],0,10,10,12,12,20,15,40,20,60,30,100,40,100],"heatmap-opacity":["interpolate",["linear"],["zoom"],7,1,9,.8]}},Le={"zones-geodata":{id:"zones-geodata",type:"fill",source:"zones-geodata",paint:{"fill-color":"#d1d1e8","fill-opacity":.2}},"zones-geodata-border":{id:"zones-geodata-border",type:"line",source:"zones-geodata",paint:{"line-color":"#001299","line-opacity":.6,"line-dasharray":[2,2]}},"vehicles-point":{id:"vehicles-point",type:"symbol",source:"vehicles",layout:{"icon-image":["concat",["get","system_id"],"-p:",["get","duration_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0},minzoom:6},"vehicles-clusters":{id:"vehicles-clusters",type:"circle",source:"vehicles-clusters",filter:["has","point_count"],paint:{"circle-color":"#1FA024","circle-radius":["step",["get","point_count"],20,100,30,750,40]},maxzoom:18},"vehicles-clusters-count":{id:"vehicles-clusters-count",type:"symbol",source:"vehicles-clusters",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],16,100,20,750,30]},paint:{"text-color":"#fff"},maxzoom:18},"vehicles-clusters-point":Object.assign({},Ce,{id:"vehicles-clusters-point",source:"vehicles-clusters"}),"vehicles-heatmap":Re,"rentals-origins-point":{id:"rentals-origins-point",type:"symbol",source:"rentals-origins",layout:{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0}},"rentals-origins-clusters":{id:"rentals-origins-clusters",type:"circle",source:"rentals-origins-clusters",filter:["has","point_count"],paint:{"circle-color":"#1FA024","circle-radius":["step",["get","point_count"],20,100,30,750,40]},maxzoom:18},"rentals-origins-clusters-count":{id:"rentals-origins-clusters-count",type:"symbol",source:"rentals-origins-clusters",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],16,100,20,750,30]},paint:{"text-color":"#fff"},maxzoom:18},"rentals-origins-clusters-point":Object.assign({},Ce,{id:"rentals-origins-clusters-point",source:"rentals-origins-clusters",layout:Object.assign({},Ce.layout,{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]]})}),"rentals-origins-heatmap":Ie,"rentals-destinations-point":{id:"rentals-destinations-point",type:"symbol",source:"rentals-destinations",layout:{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]],"icon-size":["interpolate",["linear"],["zoom"],11,.2,16,.7],"icon-allow-overlap":!0}},"rentals-destinations-clusters":{id:"rentals-destinations-clusters",type:"circle",source:"rentals-destinations-clusters",filter:["has","point_count"],paint:{"circle-color":"#1FA024","circle-radius":["step",["get","point_count"],20,100,30,750,40]},maxzoom:18},"rentals-destinations-clusters-count":{id:"rentals-destinations-clusters-count",type:"symbol",source:"rentals-destinations-clusters",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":["step",["get","point_count"],16,100,20,750,30]},paint:{"text-color":"#fff"},maxzoom:18},"rentals-destinations-clusters-point":Object.assign({},Ce,{id:"rentals-destinations-clusters-point",source:"rentals-destinations-clusters",layout:Object.assign({},Ce.layout,{"icon-image":["concat",["get","system_id"],"-r:",["get","distance_bin"]]})}),"rentals-destinations-heatmap":ze},Me={vehicles:{type:"geojson"},"vehicles-clusters":{type:"geojson",cluster:!0,clusterRadius:50},"vehicles-heatmap":{type:"geojson"},"rentals-origins":{type:"geojson"},"rentals-origins-clusters":{type:"geojson",cluster:!0,clusterRadius:50},"rentals-origins-heatmap":{type:"geojson"},"rentals-destinations":{type:"geojson"},"rentals-destinations-clusters":{type:"geojson",cluster:!0,clusterRadius:50},"rentals-destinations-heatmap":{type:"geojson"},"zones-geodata":{type:"geojson"}};function Fe(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(Q.a)(Object(q.a)().mark((function e(t){var a,n,i,r,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0,i=["#1FA024","#48E248","#FFD837","#FD3E48"];case 3:if(!(n<i.length)){e.next=12;break}return r=i[n],e.next=7,Be(t,r);case 7:o=e.sent,a.push(o);case 9:n++,e.next=3;break;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(Q.a)(Object(q.a)().mark((function e(t){var a,n,i,r,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=0,i=["#48E248","#44BD48","#3B7747","#343E47"];case 3:if(!(n<i.length)){e.next=12;break}return r=i[n],e.next=7,Be(t,r);case 7:o=e.sent,a.push(o);case 9:n++,e.next=3;break;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t){return He.apply(this,arguments)}function He(){return(He=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n,i,r,o,c,l,s,d,u,p,m,b,f,h,j;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://www.w3.org/2000/svg",n=document.createElementNS("http://www.w3.org/2000/svg","svg"),(i=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","12"),i.setAttribute("cy","12"),i.setAttribute("r","12"),i.setAttribute("fill","12"),i.setAttribute("opacity","0.304"),i.setAttribute("fill",a),n.appendChild(i),(r=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform","translate(2 2)"),r.setAttribute("fill",a),r.setAttribute("stroke","#fff"),r.setAttribute("stroke-width","1"),(o=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","10"),o.setAttribute("cy","10"),o.setAttribute("r","10"),o.setAttribute("stroke","none"),(c=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","10"),c.setAttribute("cy","10"),c.setAttribute("r","9.5"),c.setAttribute("fill","none"),r.appendChild(o),r.appendChild(c),n.appendChild(r),(l=document.createElementNS("http://www.w3.org/2000/svg","circle")).setAttribute("cx","4.5"),l.setAttribute("cy","4.5"),l.setAttribute("r","4.5"),l.setAttribute("transform","translate(14 1)"),l.setAttribute("fill",t),n.appendChild(l),s={},d={},n.setAttribute("viewBox","0 0 24 24"),s.value=50,d.value=50,u=document.createElement("canvas"),n.setAttribute("width",s.value),n.setAttribute("height",d.value),u.width=s.value,u.height=d.value,p=(new XMLSerializer).serializeToString(n),m=window.URL||window.webkitURL||window,b=new Image,f=new Blob([p],{type:"image/svg+xml"}),h=m.createObjectURL(f),b.src=h,e.next=53,b.decode();case 53:return(j=u.getContext("2d")).drawImage(b,0,0),m.revokeObjectURL(h),e.abrupt("return",new Uint8Array(j.getImageData(0,0,b.width,b.height).data.buffer));case 57:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("Map component");var t=Object(n.useState)(document.location.search),a=Object(W.a)(t,2),i=a[0],r=a[1],o=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:null})),c=Object(m.d)((function(e){return e.filter?e.filter.gebied:null})),l=Object(m.c)(),s=Object(m.d)((function(e){return e.vehicles||null})),d=Object(m.d)((function(e){return e.filter||null})),u=Object(m.d)((function(e){return e.rentals||null})),p=Object(m.d)((function(e){return e.layers||null})),b=Object(m.d)((function(e){return!!e.authentication.user_data})),f=Object(m.d)((function(e){return e.metadata&&e.metadata.aanbieders?e.metadata.aanbieders:[]})),j=Object(m.d)((function(e){return e.layers?e.layers.extent:null})),g=Object(m.d)((function(e){return e&&e.zones_geodata?e.zones_geodata:null})),y=e.mapContainer,O=Object(n.useState)(!1),x=Object(W.a)(O,2),v=x[0],_=x[1],w=Object(n.useState)(!1),k=Object(W.a)(w,2),E=k[0],S=k[1],N=Object(n.useState)(p.mapextent&&p.mapextent[0]?(p.mapextent[0]+p.mapextent[2])/2:4.4671854),T=Object(W.a)(N,1)[0],D=Object(n.useState)(p.mapextent&&p.mapextent[1]?(p.mapextent[1]+p.mapextent[3])/2:51.9250836),A=Object(W.a)(D,1)[0],C=Object(n.useState)(p.zoom||15),R=Object(W.a)(C,1)[0],I=Object(n.useState)(!1),z=Object(W.a)(I,2),L=z[0],M=z[1],F=Object(n.useRef)(null),G=Object(Y.g)();Object(n.useEffect)((function(){r(G?G.search:null)}),[G]);var P=Object(n.useCallback)((function(e){var t=e.getBounds(),a=[t._sw.lng,t._sw.lat,t._ne.lng,t._ne.lat];l({type:"LAYER_SET_MAP_EXTENT",payload:a}),l({type:"LAYER_SET_MAP_ZOOM",payload:e.getZoom()})}),[]);return Object(n.useEffect)((function(){if(v&&i){var e=new URLSearchParams(i).get("zone_id");if(e){var t=new CustomEvent("setSelectedZone",{detail:e});window.dispatchEvent(t)}}}),[i,v,E]),Object(n.useEffect)((function(){!function(){var e,t=oe();F.current||(F.current=new te.a.Map({container:y.current,style:t.base,accessToken:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",center:[T,A],zoom:R,maxZoom:19,attributionControl:!1}),(e=F.current).addControl(new te.a.NavigationControl({showCompass:!1}),"bottom-right"),e.addControl(new te.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),"bottom-right"),e.dragRotate.disable(),e.touchZoomRotate.disableRotation(),ie.a.init(F.current),F.current.on("error",(function(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("An error event occurred.",e),l({type:"SHOW_LOADING",payload:!1})})),F.current.on("idle",(function(e){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("An idle event occurred.",e),l({type:"SHOW_LOADING",payload:!1})})),F.current.on("moveend",(function(){P(F.current)})),F.current.on("zoomend",(function(){P(F.current)})),F.current.on("load",(function(){console.log("Map load"),window.ddMap=F.current,_(!0),Object.keys(Me).forEach((function(e,t){F.current.U.addGeoJSON(e,null,Me[e])})),Object.keys(Le).forEach((function(e,t){F.current.U.addLayer(Le[e])})),M(!0)})),F.current.dragRotate.disable(),F.current.touchZoomRotate.disableRotation())}()}),[T,A,R,y,P]),Object(n.useEffect)((function(){v&&F.current&&p&&function(e,t){if(e&&(!window.CROW_DD||!window.CROW_DD.theDraw)){var a=be.a.modes;(a=ge.enable(a)).static=he.a;var n=[{id:"gl-draw-polygon-fill",type:"fill",filter:["all",["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":["match",["get","user_geography_type"],"stop",je.zone.stop.primaryColor,"no_parking",je.zone.no_parking.primaryColor,"monitoring",je.zone.monitoring.primaryColor,je.zone.monitoring.primaryColor],"fill-outline-color":"#3bb2d0","fill-opacity":["match",["get","user_geography_type"],"no_parking",.2,"monitoring",.3,"stop",.8,.5]}}],i=[{id:"gl-draw-polygon-stroke-active",type:"line",layout:{"line-cap":"round","line-join":"round"},filter:["all",["==","$type","Polygon"],["!=","active","false"]],paint:{"line-color":["match",["get","user_geography_type"],"stop",je.zone.stop.primaryColor,"no_parking",je.zone.no_parking.primaryColor,"monitoring",je.zone.monitoring.primaryColor,"#D20C0C"],"line-dasharray":[.2,2],"line-width":3}},{id:"gl-draw-polygon-and-line-vertex-active",type:"circle",filter:["all",["==","meta","vertex"],["!=","meta","midpoint"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":4,"circle-color":["match",["get","user_geography_type"],"stop",je.zone.stop.primaryColor,"no_parking",je.zone.no_parking.primaryColor,"monitoring",je.zone.monitoring.primaryColor,"#D20C0C"]}},{id:"gl-draw-polygon-and-line-midpoint-active",type:"circle",filter:["all",["==","meta","midpoint"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":["match",["get","user_geography_type"],"stop",je.zone.stop.primaryColor,"no_parking",je.zone.no_parking.primaryColor,"monitoring",je.zone.monitoring.primaryColor,"#D20C0C"]},"circle-opacity":.5}],r=new be.a({displayControlsDefault:!1,modes:a,userProperties:!0,styles:t?[].concat(n,i):n});e.addControl(r,"top-left"),window.CROW_DD?window.CROW_DD.theDraw=r:window.CROW_DD={theDraw:r},Se(e)}}(F.current,!0)}),[v,p.displaymode]),Object(n.useEffect)((function(e){if(v&&p.displaymode&&window.ddMap.getSource("vehicles")&&window.ddMap.isSourceLoaded("vehicles"));}),[v,L,p.displaymode]),Object(n.useEffect)((function(e){if(v)if(p&&"displaymode-zones-admin"===p.displaymode){var t=oe();window.ddMap.setStyle(t.satelite),Object(Q.a)(Object(q.a)().mark((function e(){return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.CROW_DD.theDraw.deleteAll(),ke(o,{municipality:c}),S(!0);case 4:case"end":return e.stop()}}),e)})))()}else window.CROW_DD&&window.CROW_DD.theDraw&&window.CROW_DD.theDraw.deleteAll()}),[v,p.displaymode,c]),Object(n.useEffect)((function(e){v&&(p&&"displaymode-zones-public"===p.displaymode?Object(Q.a)(Object(q.a)().mark((function e(){return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.CROW_DD.theDraw.deleteAll(),Ee(o,{municipality:c}),S(!0);case 4:case"end":return e.stop()}}),e)})))():window.CROW_DD&&window.CROW_DD.theDraw&&window.CROW_DD.theDraw.deleteAll())}),[v,p.displaymode,c]),Object(n.useEffect)((function(t){if(L){e.activeSources.forEach((function(e){F.current.U.showSource(e)})),Object.keys(Me).forEach((function(t,a){e.activeSources.indexOf(t)<=-1&&F.current.U.hideSource(t)}))}}),[L,e.activeSources]),Object(n.useEffect)((function(t){if(L){e.layers.forEach((function(e){F.current.U.show(e)})),Object.keys(Le).forEach((function(t,a){e.layers.indexOf(t)<=-1&&F.current.U.hide(t)}))}}),[L,e.layers]),Object(n.useEffect)((function(e){L&&(!s.data||s.data.length<=0||(F.current.getSource("vehicles")&&F.current.U.setData("vehicles",s.data),F.current.getSource("vehicles-clusters")&&F.current.U.setData("vehicles-clusters",s.data)))}),[L,s.data]),Object(n.useEffect)((function(e){L&&(!g||g.data.length<=0||F.current.U.setData("zones-geodata",g.data))}),[L,g,g.data]),Object(n.useEffect)((function(e){L&&(!u||!u.origins||Object.keys(u.origins).length<=0||(F.current.U.setData("rentals-origins",u.origins),F.current.U.setData("rentals-origins-clusters",u.origins)))}),[L,u,u.origins]),Object(n.useEffect)((function(e){L&&(!u||!u.destinations||Object.keys(u.destinations).length<=0||(F.current.U.setData("rentals-destinations",u.destinations),F.current.U.setData("rentals-destinations-clusters",u.destinations)))}),[L,u,u.destinations]),Object(n.useEffect)((function(){F.current&&j&&0!==j.length&&(F.current.fitBounds(j),l({type:"LAYER_SET_ZONES_EXTENT",payload:[]}))}),[j]),Object(n.useEffect)((function(){L&&f&&function(e,t,a,n){var i;["vehicles-point","vehicles-clusters-point","rentals-origins-point","rentals-origins-clusters-point","rentals-destinations-point","rentals-destinations-clusters-point"].forEach((function(a){function r(a){i&&i.remove(),pe();for(var r=a.features[0].properties,o=le(t,r.system_id),c=a.features[0].geometry.coordinates.slice();Math.abs(a.lngLat.lng-c[0])>180;)c[0]+=a.lngLat.lng>c[0]?360:-360;i=(new te.a.Popup).setLngLat(c).setHTML('\n          <h1 class="mb-2">\n            <span\n              class="rounded-full inline-block w-4 h-4"\n              style="background-color: '.concat(o,';position: relative;top: 2px"\n              onClick="window.showConfetti()"\n              >\n            </span>\n            <span class="Map-popup-title ml-1" style="color: ').concat(o,';">\n              ').concat(r.system_id,'\n            </span>\n          </h1>\n          <div class="Map-popup-body">\n            ').concat(r.in_public_space_since?"<div>\n              Staat hier sinds ".concat(h()(r.in_public_space_since).locale("nl").from(n),"<br />\n              Geparkeerd sinds: ").concat(h()(r.in_public_space_since).format("DD-MM-YYYY HH:mm"),"\n            </div>"):"","\n\n            ").concat(r.distance_in_meters?"<div>\n              Dit voertuig is ".concat(r.distance_in_meters," meter verplaatst<br />\n            </div>"):"","\n\n            ").concat(de&&de[r.system_id]?'<div class="mt-2">\n              <a href="'.concat(de[r.system_id],'" rel="external" target="_blank" class="inline-block py-1 px-2 text-white rounded-md hover:opacity-80" style="background-color: ').concat(o,';">\n                website\n              </a>\n            </div>'):"","\n          </div>\n        ")).addTo(e)}e.off("touchend",a,r),e.on("touchend",a,r),e.off("click",a,r),e.on("click",a,r),e.on("mouseenter",a,(function(){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave",a,(function(){e.getCanvas().style.cursor=""})),e.on("zoomstart",a,(function(){pe()})),e.on("movestart",a,(function(){pe()}))}))}(F.current,f,0,d.datum)}),[L,f,b,d.datum]),Object(n.useEffect)((function(){var e;L&&(e=F.current,["vehicles-clusters","rentals-origins-clusters","rentals-destinations-clusters"].forEach((function(t){e.on("click",t,(function(a){var n=e.queryRenderedFeatures(a.point,{layers:[t]}),i=n[0].properties.cluster_id;e.getSource(t).getClusterExpansionZoom(i,(function(t,a){t||e.easeTo({center:n[0].geometry.coordinates,zoom:a})}))})),e.on("mouseenter",t,(function(){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave",t,(function(){e.getCanvas().style.cursor=""}))})))}),[L]),Object(n.useEffect)((function(){var e=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t){var a,n;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.system_id+("displaymode-rentals"===p.displaymode?"-r":"-p"),!F.current.hasImage(a+":0")){e.next=3;break}return e.abrupt("return");case 3:if("displaymode-rentals"!==p.displaymode){e.next=9;break}return e.next=6,Pe(t.color);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,Fe(t.color);case 11:n=e.sent;case 12:n.forEach((function(e,t){F.current.addImage(a+":"+t,{width:50,height:50,data:e})}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();f.forEach((function(t){e(t)}))}),[f,p.displaymode]),null}h.a.updateLocale("nl",ne.a);a(284);var Ye=function(e){var t=Object(m.c)(),a=Object(n.useRef)(null),i=e.name.toUpperCase(),r=Object(m.d)((function(e){return!!e.ui&&e.ui[i]})),o=function(e,a){t({type:"SET_VISIBILITY",payload:{name:e,visibility:a}})},c=(e.options||{}).backgroundColor;return Object(V.jsxs)("div",{className:"\n      SlideBox\n      direction-".concat(e.direction,"\n      relative\n      ").concat(r?"":"is-hidden","\n      z-10\n    "),ref:a,style:e.style||{},children:[Object(V.jsx)("div",{className:" SlideBox-inner h-full ",style:{backgroundColor:c},children:e.children}),Object(V.jsx)("div",{className:"SlideBox-toggle-wrapper z-10 overflow-hidden",children:Object(V.jsx)("div",{className:"SlideBox-toggle",onClick:function(){return r&&o("FILTERBAR_EXTENDED",!1),void o(i,!r)},style:{backgroundColor:c},children:Object(V.jsx)("span",{children:e.options.title||"Lagen"})})})]})};a(285);function Ve(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return!!e.filter&&""!==e.filter.gebied})),n=Object(m.d)((function(e){return!!e.layers&&e.layers.zones_visible})),i=Object(m.d)((function(e){return e.layers?e.layers:null})),r=Object(m.d)((function(e){return e.layers?e.layers.displaymode:S})),o=Object(m.d)((function(e){return e.layers?e.layers.view_park:I})),c=Object(m.d)((function(e){return e.layers?e.layers.view_rentals:M})),l=Object(m.d)((function(e){return!!e.authentication.user_data}));if(r===A)return null;var s=oe();return Object(V.jsx)(Ye,{name:"SelectLayer",direction:"right",options:{title:"Lagen",backgroundColor:"#fff"},style:{position:"absolute",top:"8px",right:0},children:Object(V.jsxs)("div",{className:"SelectLayer pr-1",children:[r===S?Object(V.jsx)("div",{"data-type":"heat-map",className:"layer".concat(o!==C?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:C})},children:Object(V.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,r===S?Object(V.jsx)("div",{"data-type":"pointers",className:"layer".concat(o!==R?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:R})},children:Object(V.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,r===S?Object(V.jsx)("div",{"data-type":"vehicles",className:"layer".concat(o!==I?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:I})},children:Object(V.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,r===N?Object(V.jsx)("div",{"data-type":"heat-map",className:"layer".concat(c!==z?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:z})},children:Object(V.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,r===N?Object(V.jsx)("div",{"data-type":"pointers",className:"layer".concat(c!==L?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:L})},children:Object(V.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,r===N?Object(V.jsx)("div",{"data-type":"vehicles",className:"layer".concat(c!==M?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:M})},children:Object(V.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,r===T&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("div",{"data-type":"map-style-default",className:"layer".concat("default"!==i.map_style?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_MAP_STYLE",payload:"default"}),window.ddMap.setStyle(s.default)},children:Object(V.jsx)("span",{className:"layer-title",children:"Terrein"})}),Object(V.jsx)("div",{"data-type":"map-style-satelite",className:"layer".concat("satelite"!==i.map_style?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_MAP_STYLE",payload:"satelite"}),window.ddMap.setStyle(s.satelite)},children:Object(V.jsx)("span",{className:"layer-title",children:"Sateliet"})})]}),l&&a?Object(V.jsx)("div",{"data-type":"zones",className:"layer".concat(n?"":" layer-inactive"),onClick:function(){t({type:"LAYER_TOGGLE_ZONES_VISIBLE",payload:null})},children:Object(V.jsx)("span",{className:"layer-title",children:"Zones"})}):null]})})}new AbortController;var Ze=function(e,t,a,n){var i=e===S,r=e===N,o=e===A;n=n||{includeOperators:!1};var c=[];if(""!==t.zones)c.push("zone_ids="+t.zones);else if(""!==t.gebied){var l=[],s=a.gebieden.find((function(e){return e.gm_code===t.gebied}));void 0!==s&&(l=a.zones.filter((function(e){return e.municipality===s.gm_code&&e.name===s.name&&"custom"!==e.zone_type}))),1===l.length?c.push("zone_ids="+l[0].zone_id):console.error("zero or multiple multiple zones found for a single municipality (%s)",t.gebied,l)}if(!0===n.includeOperators)if(""!==t.aanbiedersexclude&&void 0!==t.aanbiedersexclude){var d=t.aanbiedersexclude.split(","),u=a.aanbieders.filter((function(e){return!1===d.includes(e.system_id)})).map((function(e){return e.system_id})).join(",");c.push("operators="+u)}else 1===a.aanbieders.length&&c.push("operators="+a.aanbieders[0].system_id);if(1===a.aanbieders.length&&c.push("operators="+a.aanbieders[0].system_id),""!==t.voertuigtypesexclude&&void 0!==t.voertuigtypesexclude){var p=t.voertuigtypesexclude.split(","),m=a.vehicle_types.filter((function(e){return!1===p.includes(e.id)})).map((function(e){return e.id})).join(",");c.push("form_factors="+m)}if(i){var b=(new Date).toISOString().replace(/.\d+Z$/g,"Z");""!==t.datum&&(b=new Date(t.datum).toISOString().replace(/.\d+Z$/g,"Z")),c.push("timestamp="+b)}if(r){var f=(new Date).toISOString().replace(/.\d+Z$/g,"Z"),j=f;t&&""!==t.intervalend&&void 0!==t.intervalend&&(f=h()(t.intervalend).subtract(t.intervalduur/1e3,"seconds").toISOString().replace(/.\d+Z$/g,"Z"),j=h()(t.intervalend).toISOString().replace(/.\d+Z$/g,"Z")),c.push("start_time="+f+"&end_time="+j)}if(o){var g=void 0,y=void 0;t.ontwikkelingvan&&t.ontwikkelingtot&&(g=new Date(t.ontwikkelingvan),y=new Date(h()(t.ontwikkelingtot).add(1,"day"))),g&&y||(g=new Date,y=new Date((new Date).toDateString()),g.setDate(y.getDate()-7));var O=h()(g).format("YYYY-MM-DDTHH:mm:ss")+"Z",x=h()(y).format("YYYY-MM-DDTHH:mm:ss")+"Z";c.push("start_time="+O+"&end_time="+x)}return c};function Je(e,t){var a=new AbortController,n=a.signal;return{abort:function(){return a.abort()},ready:fetch(e,Object(c.a)(Object(c.a)({},t),{},{signal:n}))}}var Ke=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n,i,r,o,c;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.deelfietsdashboard.nl/dashboard-api/v2/park_events/stats?x=1",(i=Ze(S,a.filter,a.metadata)).length>0&&(n+="&"+i.join("&")),r={headers:{authorization:"Bearer ".concat(t)}},e.next=6,fetch(n,r);case 6:return o=e.sent,e.next=9,o.json();case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Xe(e){var t=e.data;if(!t.stats)return Object(V.jsx)(V.Fragment,{});var a=0;return t.stats.forEach((function(e){a+=e})),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{className:"py-1 px-2",children:t.name},t.zone_id+"name"),Object(V.jsx)("td",{className:"py-1 px-2",children:a},t.zone_id+"total"),t.stats.map((function(e,t){return Object(V.jsx)("td",{className:"py-1 px-2 text-center",children:e},"p"+t)}))]},t.zone_id)}function $e(e){var t=Object(m.d)((function(e){return e.layers?e.layers.displaymode:S})),a=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:null})),i=Object(m.d)((function(e){return e.filter})),r=Object(m.d)((function(e){return e.metadata})),o=Object(n.useState)([]),c=Object(W.a)(o,2),l=c[0],s=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(Q.a)(Object(q.a)().mark((function e(){var t;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(a,{filter:i,metadata:r});case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!r||!r.zones||r.zones.length<=0||function(){e.apply(this,arguments)}()}),[a,r,r.zones,i,i.zones]);return t===A||t===N?null:!l||!l.park_event_stats||l.park_event_stats.length<=0?Object(V.jsx)(V.Fragment,{}):Object(V.jsx)(Ye,{name:"MetaStats",direction:"right",options:{title:"Info",backgroundColor:"#fff"},style:{position:"absolute",top:"125px",right:0},children:Object(V.jsx)("div",{className:"MetaStats px-2 py-2",style:{minWidth:"356px",minHeight:"105px"},children:Object(V.jsxs)("table",{className:"text-sm text-left w-full",children:[Object(V.jsx)("thead",{className:"border-b-2 border-gray-200",children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{className:"py-1 px-2 text-left font-normal",children:"Zone"}),Object(V.jsx)("th",{className:"py-1 px-2 pr-4 text-left font-normal",children:"Totaal"}),[{id:0,color:"#1FA024",fillcolor:"#1FA024",name:"< 1 uur"},{id:1,color:"#48E248",fillcolor:"#48E248",name:"< 24 uur"},{id:2,color:"#FFD837",fillcolor:"#FFD837",name:"< 4 d"},{id:3,color:"#FD3E48",fillcolor:"#FD3E48",name:"> 4 d"}].map((function(e,t){return Object(V.jsx)("th",{className:"py-1 px-2 text-center",children:Object(V.jsx)("div",{className:"w-6 h-6 ",children:Object(V.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(V.jsx)("circle",{cx:"50%",cy:"50%",r:"40%",fill:e.color}),Object(V.jsx)("circle",{cx:"50%",cy:"50%",r:"34%",fill:e.fillcolor})]})})},"m"+t)}))]})}),Object(V.jsx)("tbody",{children:l.park_event_stats.map((function(e,t){return Object(V.jsx)(Xe,{data:e},"stat"+t)}))})]})})})}a(286);var qe=function(e){e.mode;var t=e.mapContainer,a=Object(m.d)((function(e){return!!e.layers&&e.layers.zones_visible})),n=Object(m.d)((function(e){return e.filter})),i=Object(m.d)((function(e){return e.layers?e.layers.displaymode:S})),r=Object(m.d)((function(e){return e.layers?e.layers.view_park:I})),o=Object(m.d)((function(e){return e.layers?e.layers.view_rentals:M})),c=[],l=[];if(a&&c.push("zones-geodata","zones-geodata-border"),i===S&&r)switch(r){case C:c.push("vehicles-heatmap"),l.push("vehicles");break;case R:c.push("vehicles-clusters"),c.push("vehicles-clusters-count"),c.push("vehicles-clusters-point"),l.push("vehicles"),l.push("vehicles-clusters");break;case I:c.push("vehicles-point"),l.push("vehicles")}else if(i===N&&o){var s="bestemming"===n.herkomstbestemming?"destinations":"origins";switch(o){case z:c.push("rentals-".concat(s,"-heatmap")),l.push("rentals-".concat(s));break;case L:c.push("rentals-".concat(s,"-clusters")),c.push("rentals-".concat(s,"-clusters-count")),c.push("rentals-".concat(s,"-clusters-point")),l.push("rentals-".concat(s,"-clusters"));break;case M:c.push("rentals-".concat(s,"-point")),l.push("rentals-".concat(s))}}return Object(V.jsxs)("div",{className:"flex flex-col",children:[Object(V.jsxs)("div",{className:"hidden sm:block",children:[Object(V.jsx)(Ve,{}),(i===S||i===N)&&Object(V.jsx)($e,{})]}),Object(V.jsx)("div",{className:"flex-1 bg-red-400",children:Object(V.jsx)(We,{mapContainer:t,layers:c,activeSources:l})})]})};a(287);function Qe(e){var t=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR}));return Object(V.jsx)("div",{className:"ContentPage relative bg-white h-full pb-20 ".concat(t&&!e.forceFullWidth?"":"full-page"),style:{overflowY:"auto",zIndex:1},children:Object(V.jsx)("div",{className:"ContentPage-inner py-3 sm:py-8 pl-3 pr-3 sm:pl-12 sm:pr-12 pb-20",children:e.children})})}a(288);var et=function(e,t){var a={};return t.forEach((function(e){a[e.system_id]=0})),e.forEach((function(e){Object.keys(e).forEach((function(e){"start_interval"!==e&&(e in a===!1&&(a[e]=0),a[e]++)}))})),a},tt=a(522),at=a(526),nt=a(129),it=a(130),rt=a(110),ot=a(107),ct=a(243),lt=a(527),st=a(254),dt=a(528),ut=a(174),pt=a.n(ut),mt=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a,n){var i,r,o,c,l;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="https://api.deelfietsdashboard.nl/dashboard-api/aggregated_stats/".concat(a,"?aggregation_level=").concat(n.aggregationLevel),(r=Ze(A,n.filter,n.metadata)).length>0&&(i+="&"+r.join("&")),o={headers:{authorization:"Bearer ".concat(t)}},e.next=6,fetch(i,o);case 6:return c=e.sent,e.next=9,c.json();case 9:return l=e.sent,e.abrupt("return",l);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),bt=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n,i,r,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.deelfietsdashboard.nl/dashboard-api/stats/generate_report?start_time=".concat(a.startDate,"&end_time=").concat(a.endDate,"&gm_code=").concat(a.gm_code),i={headers:{authorization:"Bearer ".concat(t)}},e.next=4,fetch(n,i);case 4:return r=e.sent,e.next=7,r.blob();case 7:o=e.sent,pt()(o,"rapportage_".concat(a.startDate,"-").concat(a.endDate,"_").concat(a.gm_code,".xlsx"));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ft=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a){var n,i,r,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.deelfietsdashboard.nl/dashboard-api/raw_data?start_time=".concat(a.startDate,"&end_time=").concat(a.endDate),i={headers:{authorization:"Bearer ".concat(t)}},e.next=4,fetch(n,i);case 4:return r=e.sent,e.next=7,r.blob();case 7:o=e.sent,pt()(o,"export_dashboarddeelmobiliteit_".concat(a.startDate,"-").concat(a.endDate,"_").concat(a.gm_code,".zip"));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ht=a(231),jt=["start_interval"],gt=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!t||!t["".concat(e,"_aggregated_stats")]||!t["".concat(e,"_aggregated_stats")].values)return[];var i=function(e){return"day"===e?"DD MMM YYYY":"week"===e?"[w]W, YYYY":"month"===e?"MMM YYYY":void 0};return t["".concat(e,"_aggregated_stats")].values.map((function(e){var t=e.start_interval,r=Object(ht.a)(e,jt),o=Object(c.a)(Object(c.a)({},r),{name:h()(t).format(i(a))});if(""!==n){var l=n.split(",");Object.keys(o).forEach((function(e){l.includes(e)&&delete o[e]}))}return o}))},yt=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return Object(V.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:Object(V.jsx)("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:"#666",transform:"rotate(0)",fontSize:"0.8em",children:n.value})})}}]),a}(n.PureComponent),Ot=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.payload;return Object(V.jsx)("g",{transform:"translate(".concat(t,",").concat(a,")"),children:Object(V.jsx)("text",{x:-4,y:0,dy:3,textAnchor:"end",fill:"#666",transform:"rotate(0)",fontSize:"0.8em",children:n.value})})}}]),a}(n.PureComponent),xt=(a(289),function(e){var t,a=e.active,n=e.payload,i=e.label;if(a&&n&&n.length){return Object(V.jsxs)("div",{className:"CustomizedTooltip",children:[Object(V.jsx)("div",{className:"my-0",children:Object(V.jsx)("b",{children:"".concat(i)})}),Object(V.jsx)("ul",{className:"my-0 py-0",children:(t=n,Object.keys(t).sort().reverse().map((function(e){return Object(c.a)(Object(c.a)({},t[e]),{},{key:e})}))).map((function(e,t){return Object(V.jsxs)("li",{style:{color:e.fill},children:[e.name,": ",e.value]},"c-"+t)}))}),Object(V.jsxs)("div",{className:"my-0",children:["Totaal: ",function(){var e=0;return n.forEach((function(t){e+=t.value})),e}(),Object(V.jsx)("br",{})]})]})}return null});var vt=function(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return e.authentication.user_data&&e.authentication.user_data.token||null})),i=Object(m.d)((function(e){return e.filter})),r=Object(m.d)((function(e){return e.metadata})),o=Object(n.useState)([]),c=Object(W.a)(o,2),l=c[0],s=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(Q.a)(Object(q.a)().mark((function e(){var n,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(a,"rentals",{filter:i,metadata:r,aggregationLevel:i.ontwikkelingaggregatie});case 2:n=e.sent,o=et(n.rentals_aggregated_stats.values,r.aanbieders),t({type:"SET_OPERATORSTATS_VERHURINGENCHART",payload:o}),s(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!r||!r.zones||r.zones.length<=0||function(){e.apply(this,arguments)}()}),[i,i.ontwikkelingaggregatie,r,a,t]);var d=gt("rentals",l,i.ontwikkelingaggregatie,i.aanbiedersexclude),u=l?Object.keys(l).length:0;return Object(V.jsx)("div",{style:{width:"100%",height:"400px",overflowX:"hidden",overflowY:"hidden"},children:Object(V.jsx)(dt.a,{children:u>12?Object(V.jsxs)(tt.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(V.jsx)(at.a,{strokeDasharray:"3 0",vertical:!1}),Object(V.jsx)(nt.a,{dataKey:"name",tick:Object(V.jsx)(yt,{})}),Object(V.jsx)(it.a,{tick:Object(V.jsx)(Ot,{})}),Object(V.jsx)(rt.a,{content:Object(V.jsx)(xt,{})}),Object(V.jsx)(ot.a,{}),"} />",se(d[0]).map((function(e){var t=le(r.aanbieders,e);return Object(V.jsx)(ct.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]}):Object(V.jsxs)(lt.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(V.jsx)(at.a,{strokeDasharray:"3 0",vertical:!1}),Object(V.jsx)(nt.a,{dataKey:"name",tick:Object(V.jsx)(yt,{})}),Object(V.jsx)(it.a,{tick:Object(V.jsx)(Ot,{})}),Object(V.jsx)(rt.a,{content:Object(V.jsx)(xt,{})}),Object(V.jsx)(ot.a,{}),"} />",se(d[0]).map((function(e){var t=le(r.aanbieders,e);return Object(V.jsx)(st.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]})})})};var _t=function(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return e.authentication.user_data&&e.authentication.user_data.token||null})),i=Object(m.d)((function(e){return e.filter})),r=Object(m.d)((function(e){return e.metadata})),o=Object(n.useState)([]),c=Object(W.a)(o,2),l=c[0],s=c[1];Object(n.useEffect)((function(){function e(){return(e=Object(Q.a)(Object(q.a)().mark((function e(){var n,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mt(a,"available_vehicles",{filter:i,metadata:r,aggregationLevel:i.ontwikkelingaggregatie});case 2:n=e.sent,o=et(n.available_vehicles_aggregated_stats.values,r.aanbieders),t({type:"SET_OPERATORSTATS_BESCHIKBAREVOERTUIGENCHART",payload:o}),s(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!r||!r.zones||r.zones.length<=0||function(){e.apply(this,arguments)}()}),[i,i.ontwikkelingaggregatie,r,a,t]);var d=gt("available_vehicles",l,i.ontwikkelingaggregatie,i.aanbiedersexclude),u=d?Object.keys(d).length:0;return Object(V.jsx)("div",{style:{width:"100%",height:"400px",overflowX:"hidden",overflowY:"hidden"},children:Object(V.jsx)(dt.a,{children:u>12?Object(V.jsxs)(tt.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(V.jsx)(at.a,{strokeDasharray:"3 0",vertical:!1}),Object(V.jsx)(nt.a,{dataKey:"name",tick:Object(V.jsx)(yt,{})}),Object(V.jsx)(it.a,{tick:Object(V.jsx)(Ot,{})}),Object(V.jsx)(rt.a,{content:Object(V.jsx)(xt,{})}),Object(V.jsx)(ot.a,{}),se(d[0]).map((function(e){var t=le(r.aanbieders,e);return Object(V.jsx)(ct.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]}):Object(V.jsxs)(lt.a,{data:d,margin:{top:10,right:30,left:0,bottom:0},children:[Object(V.jsx)(at.a,{strokeDasharray:"3 0",vertical:!1}),Object(V.jsx)(nt.a,{dataKey:"name",tick:Object(V.jsx)(yt,{})}),Object(V.jsx)(it.a,{tick:Object(V.jsx)(Ot,{})}),Object(V.jsx)(rt.a,{content:Object(V.jsx)(xt,{})}),Object(V.jsx)(ot.a,{}),se(d[0]).map((function(e){var t=le(r.aanbieders,e);return Object(V.jsx)(st.a,{stackId:"1",type:"monotone",dataKey:e,stroke:t,fill:t,isAnimationActive:!1},e)}))]})})})};var wt=function(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return e.filter})),n=function(e){t({type:"SET_FILTER_ONTWIKKELING_AGGREGATIE",payload:e})};return Object(V.jsxs)("div",{className:"StatsPage",children:[Object(V.jsxs)("div",{className:"agg-button-container",children:[Object(V.jsx)("div",{className:"agg-button "+("day"===a.ontwikkelingaggregatie?" agg-button-active":""),onClick:function(){n("day")},children:"dag"}),Object(V.jsx)("div",{className:"agg-button "+("week"===a.ontwikkelingaggregatie?" agg-button-active":""),onClick:function(){n("week")},children:"week"}),Object(V.jsx)("div",{className:"agg-button "+("month"===a.ontwikkelingaggregatie?" agg-button-active":""),onClick:function(){n("month")},children:"maand"})]}),Object(V.jsxs)("div",{className:"xl:flex",children:[Object(V.jsxs)("div",{className:"xl:flex-1",children:[Object(V.jsx)("h2",{className:"text-4xl my-2",children:"Verhuringen"}),Object(V.jsx)(vt,{})]}),Object(V.jsxs)("div",{className:"xl:flex-1",children:[Object(V.jsx)("h2",{className:"text-4xl my-2",children:"Beschikbare voertuigen"}),Object(V.jsx)(_t,{})]})]})]})};var kt=function(){return Object(V.jsx)("img",{alt:"Logo CROW",src:"/images/logo-fietsberaad-crow.svg",width:"82"})};function Et(e){return Object(V.jsx)("div",{className:"text-2xl font-bold cursor-pointer",onClick:e.onClick,style:e.style,children:"\xd7"})}var St=function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(""),o=Object(W.a)(r,2),c=o[0],l=o[1],s=Object(n.useState)(!1),d=Object(W.a)(s,2),u=d[0],b=d[1],f=Object(n.useState)(null),h=Object(W.a)(f,2),j=h[0],g=h[1],y=Object(n.useState)(null),O=Object(W.a)(y,2),x=O[0],v=O[1],_=Object(n.useState)(!1),w=Object(W.a)(_,2),k=w[0],E=w[1],S=Object(n.useState)(!1),N=Object(W.a)(S,2),T=N[0],D=N[1],A=Object(m.c)(),C=function(e){if(e.preventDefault(),g(null),a)if(c){var t={loginId:a,password:c,applicationId:"bf901170-a2db-4f91-8ca7-24921e961193"};fetch("https://auth.deelfietsdashboard.nl/api/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){A({type:"LOGIN",payload:null}),A({type:"RESET_FILTER",payload:null}),A({type:"SET_USER",payload:e}),E(!0),document.location="/map/park"})).catch((function(e){console.error("Login failed! (%s)",e.message),g("Login mislukt. Heb je het juiste e-mailadres en wachtwoord ingevuld?"),E(!1)}))}else g("Voer alsjeblieft een wachtwoord in");else g("Voer alsjeblieft een e-mailadres in")},R=function(e){e.preventDefault(),g(null);var t={loginId:a};return fetch("https://auth.deelfietsdashboard.nl/api/user/forgot-password",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log(e),v("Als je e-mailadres bij ons bekend is, heb je nu e-mail ontvangen. Hiermee kun je je wachtwoord opnieuw instellen."),!0})).catch((function(e){return console.log(e),v("Als je e-mailadres bij ons bekend is, heb je nu e-mail ontvangen. Hiermee kun je je wachtwoord opnieuw instellen."),!1}))};return k||T?Object(V.jsx)(Y.a,{to:"/"}):Object(V.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(V.jsxs)("div",{className:"mx-auto py-8",style:{width:"100%",maxWidth:"416px"},children:[Object(V.jsx)(Et,{onClick:function(){return D(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(V.jsx)(kt,{}),Object(V.jsx)("h2",{className:"mt-4 mb-4 text-4xl font-bold",children:"Dashboard Deelmobiliteit"}),u?Object(V.jsxs)("div",{children:[Object(V.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Ben je je wachtwoord vergeten? Vul dan hieronder je mailadres in om een nieuw wachtwoord in te stellen."}),Object(V.jsxs)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:["Liever inloggen? Ga dan door naar het ",Object(V.jsx)(p.b,{to:"/login",children:"loginformulier"}),"."]}),Object(V.jsx)("br",{}),Object(V.jsxs)("form",{children:[Object(V.jsx)("label",{className:"block",htmlFor:"emailaddress",children:"E-mailadres"}),Object(V.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",autoCapitalize:"off",placeholder:"E-mailadres",name:"emailaddress",required:!0,onChange:function(e){return i(e.target.value.trim())}}),x&&Object(V.jsx)("div",{className:"mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:Object(V.jsx)("span",{className:"block sm:inline",children:x})}),j&&Object(V.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:Object(V.jsx)("span",{className:"block sm:inline",children:j})}),Object(V.jsxs)("div",{children:[Object(V.jsx)("button",{className:"px-6 py-2 mr-4 mt-4 text-white bg-theme-blue rounded-lg",onClick:R,children:"Herstel"}),Object(V.jsx)("button",{className:"px-6 py-2 mt-4 text-white bg-gray-300 rounded-lg hover:bg-gray-400",onClick:function(){g(null),b(!1)},children:"Annuleer"})]})]})]}):Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Het Dashboard Deelmobiliteit is een webtool van en voor overheden die de ontwikkelingen rond deelmobiliteit op de voeten willen volgen."}),Object(V.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Hoe lang en waar staan deelvoertuigen ongebruikt in de openbare ruimte? Hoe vaak worden de deelvoertuigen verhuurd? In welke wijken en op welke tijdstippen zijn deelvoertuigen populair?"}),Object(V.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Met de informatie uit het Dashboard Deelmobiliteit kunnen overheden hun beleid ontwikkelen, evalueren en bijsturen."}),Object(V.jsxs)("form",{className:"mt-8 mb-4",children:[Object(V.jsx)("label",{className:"block",htmlFor:"emailaddress",children:"Email"}),Object(V.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",autoCapitalize:"off",placeholder:"email",name:"emailaddress",required:!0,onChange:function(e){return i(e.target.value.trim())}}),Object(V.jsx)("label",{className:"mt-4 block",htmlFor:"password",children:"Wachtwoord"}),Object(V.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",type:"password",placeholder:"Wachtwoord",name:"password",required:!0,onChange:function(e){return l(e.target.value)}}),j&&Object(V.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:Object(V.jsx)("span",{className:"block sm:inline",children:j})}),Object(V.jsx)("p",{className:"my-4",children:Object(V.jsx)("a",{href:"#recover",onClick:function(){g(null),b(!0)},className:" text-gray-400 underline text-sm ",children:"Wachtwoord vergeten?"})}),Object(V.jsxs)("div",{className:"flex items-baseline mt-4",children:[Object(V.jsx)("button",{className:"px-6 py-2 mr-4 mt-4 text-white bg-theme-blue rounded-lg",onClick:C,children:"Login"}),Object(V.jsx)("button",{className:"px-6 py-2 mt-4 text-white bg-gray-300 rounded-lg hover:bg-gray-400",onClick:function(){D(!0)},children:"Annuleer"})]})]})]})]})})},Nt=function(){var e=Object(Y.h)().changePasswordCode,t=Object(n.useState)(""),a=Object(W.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(null),c=Object(W.a)(o,2),l=c[0],s=c[1],d=Object(n.useState)(!1),u=Object(W.a)(d,2),m=u[0],b=u[1];return m?Object(V.jsx)(Y.a,{to:"/"}):Object(V.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(V.jsxs)("div",{className:"mx-auto py-8",style:{width:"100%",maxWidth:"416px"},children:[Object(V.jsx)(Et,{onClick:function(){return b(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(V.jsx)(kt,{}),Object(V.jsx)("h2",{className:"mt-4 mb-4 text-4xl font-bold",children:"Dashboard Deelmobiliteit"}),Object(V.jsxs)("p",{className:"mb-4",children:["Op deze pagina kun je je wachtwoord wijzigen. Wil je je wachtwoord niet wijzigen, maar inloggen? Ga dan naar het ",Object(V.jsx)(p.b,{to:"/login",children:"inlogformulier"}),"."]}),Object(V.jsx)("p",{className:"mb-4",children:"Vul hieronder je nieuwe wachtwoord in:"}),Object(V.jsxs)("form",{className:"mt-8 mb-4",children:[Object(V.jsx)("label",{className:"mt-4 block",htmlFor:"password",children:"Wachtwoord"}),Object(V.jsx)("input",{className:"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600",type:"password",placeholder:"Wachtwoord",name:"password",required:!0,onChange:function(e){return r(e.target.value)}}),l&&Object(V.jsx)("div",{className:"mt-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:Object(V.jsx)("span",{className:"block sm:inline",children:l})}),Object(V.jsxs)("div",{className:"flex items-baseline mt-4",children:[Object(V.jsx)("button",{className:"px-6 py-2 mr-4 mt-4 text-white bg-theme-blue rounded-lg",onClick:function(t){t.preventDefault(),s(null);var a="https://auth.deelfietsdashboard.nl/api"+"/user/change-password/".concat(e),n={password:i};return fetch(a,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return!0===e.ok?(window.notify("Je nieuwe wachtwoord is ingesteld. Log nu in met je nieuwe wachtwoord"),document.location="/login",!0):(s("Er ging iets fout bij het instellen van je nieuwe wachtwoord. Mogelijk was de link verlopen. In dat geval: klik hieronder op Annuleer en vraag een nieuwe wachtwoordlink aan."),!1)}))},children:"Wachtwoord opslaan"}),Object(V.jsx)("button",{className:"px-6 py-2 mt-4 text-white bg-gray-300 rounded-lg hover:bg-gray-400",onClick:function(){b(!0)},children:"Annuleer"})]})]})]})})},Tt=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t,a,n){var i,r,o,c,l;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.user_data&&n){e.next=2;break}return e.abrupt("return");case 2:if(a){e.next=4;break}return e.abrupt("return");case 4:return i=h()(n).format("YYYY-MM-DDTHH:mm:ss[Z]"),r="https://api.deelfietsdashboard.nl/dashboard-api/park_events?timestamp="+i+"&operators="+a,o={headers:{authorization:"Bearer "+t.user_data.token}},e.next=9,fetch(r,o);case 9:if((c=e.sent).ok){e.next=13;break}return console.error("unable to fetch: %o",c),e.abrupt("return",!1);case 13:return e.next=15,c.json();case 15:return l=e.sent,e.abrupt("return",l.park_events||!1);case 17:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Dt="tier",At=[],Ct=function(e){var t=[];return e.map((function(e){return t.indexOf(e.bike_id)<=-1&&t.push(e.bike_id),e})),t};var Rt=function(e){var t=Object(n.useState)({}),a=Object(W.a)(t,2),i=a[0],r=a[1],o=Object(m.d)((function(e){return!!e.authentication&&e.authentication}));return Object(n.useEffect)((function(e){var t=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){var t,a,n;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h()().toISOString(),[],a=[],n=0;case 3:if(!(n<=40)){e.next=15;break}return t=h()(t).subtract(6,"hours").toISOString(),e.next=7,Tt(o,Dt,t);case 7:e.sent.map((function(e){return a.push(e),e})),At[n]=Ct(a),r(At),console.table(At[n].length,t);case 12:n++,e.next=3;break;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[o]),console.log(i),Object(V.jsxs)("div",{className:"mt-12",children:[Object(V.jsx)("h1",{className:"text-2xl my-2",children:"Monitoring"}),Object(V.jsxs)("p",{className:"py-2",children:["Voor ",Dt," willen we controleren hoeveel unieke voertuig-IDs er zijn door te de tijd heen."]}),Object(V.jsx)("p",{className:"py-2",children:"Op deze manier kunnen we afleiden of er aan de standaard wordt voldaan. Er moeten statische voertuig-IDs zijn. Als dit niet het geval is, zul je zien dat er na verloop van tijd veel meer voertuig-IDs zijn geregistreerd dan het aantal voertuigen dat de aanbieder heeft. Op die manier weet je dat denog niet voldaan wordt aan de gevraagde datastandaard."}),Object(V.jsx)("p",{className:"py-2",children:"De snapshots zijn steeds gemaakt met 6 uur ertussen."}),Object(V.jsx)("pre",{children:At?At.map((function(e,t){return Object(V.jsxs)("div",{children:["Number of UUIDs after ",Object(V.jsxs)("b",{children:[t," snapshots"]}),": ",Object(V.jsx)("b",{children:e.length})]},t)})):""}),Object(V.jsxs)("table",{className:"table-auto bg-white hidden",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("th",{children:"Datum/tijd"}),Object(V.jsx)("th",{children:"Cumulatief aantal voertuig-IDs"})]})}),Object(V.jsx)("tbody",{children:Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{children:"datumtijd"}),Object(V.jsx)("td",{children:"aantal"})]})})]})]})};a(216),a(422);var It=function(e){var t=e.closeFunction,a=e.title,n=e.children;return Object(V.jsx)("div",{className:"FilterbarExtended",onClick:function(){return t(!1)},children:Object(V.jsxs)("div",{className:"",onClick:function(e){return e.stopPropagation()},children:[Object(V.jsxs)("div",{className:"flex justify-between",children:[Object(V.jsx)("h1",{className:"title flex flex-col justify-center",children:a||""}),Object(V.jsx)("div",{className:"FilterbarExtended-close-button-wrapper",children:Object(V.jsx)(Et,{onClick:function(){return t(!1)}})})]}),Object(V.jsx)("div",{className:"grid-cols-4",children:n})]})})};a(423);var zt=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.metadata&&e.metadata.gebieden?e.metadata.gebieden:[]})),a=Object(m.d)((function(e){return e.filter?e.filter.gebied:""})),i=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR_EXTENDED})),r=Object(n.useState)(""),o=Object(W.a)(r,2),c=o[0],l=o[1],s=function(t){e({type:"SET_FILTER_GEBIED",payload:t})},d=function(e){l(e.target.value)},u=function(e){l("")},p=function(t){e({type:"SET_VISIBILITY",payload:{name:"FILTERBAR_EXTENDED",visibility:t}})},b=t.find((function(e){return e.gm_code===a}))||"";return 1===t.length?Object(V.jsxs)("div",{className:"filter-plaats-container filter-plaats-not-active",children:[Object(V.jsx)("div",{className:"filter-plaats-title",onClick:function(e){p("places")},children:"Plaats"}),Object(V.jsx)("div",{className:"filter-plaats-box-row flex flex-col justify-center",children:Object(V.jsx)("div",{className:"filter-plaats-value ",children:""===b?"Alle plaatsen":b.name})})]}):Object(V.jsxs)("div",{className:"filter-plaats-container",children:[Object(V.jsx)("div",{className:"filter-plaats-title",onClick:function(e){p("places")},children:"Plaats"}),Object(V.jsxs)("div",{className:"filter-plaats-box-row flex flex-col justify-center",children:[Object(V.jsx)("div",{className:"filter-plaats-value ".concat(""===b?"text-black":""),onClick:function(e){p("places")},children:""===b?"Alle plaatsen":b.name}),"places"===i?function(e){var t=e.filter((function(e){return""===c||e.name.toLowerCase().includes(c.toLowerCase())}));return Object(V.jsx)(It,{title:"Selecteer een plaats",closeFunction:function(){return p(!1)},children:Object(V.jsxs)("div",{className:"filter-form-selectie",children:[Object(V.jsxs)("div",{className:"filter-form-search-container mb-3",children:[Object(V.jsxs)("div",{className:"filter-form-search-container-2",children:[Object(V.jsx)("input",{type:"text",className:"filter-form-search",onChange:d,value:c,autoFocus:!0,placeholder:"zoek"}),Object(V.jsx)("div",{className:"ml-3 flex flex-col justify-center h-full",children:""!==c?Object(V.jsx)("div",{className:"filter-plaats-img-cancel",onClick:u}):Object(V.jsx)("div",{className:"filter-plaats-img-search"})})]}),Object(V.jsx)("div",{children:"\xa0"})]}),Object(V.jsxs)("div",{className:"filter-form-values",children:[""===a?Object(V.jsx)("div",{className:"form-item-selected form-item",onClick:function(e){p(!1)},children:"Alle plaatsen"},"item-alle"):Object(V.jsx)("div",{className:"form-item",onClick:function(e){p(!1),s("")},children:"Alle plaatsen"},"item-alle"),t.map((function(e){return a===e.gm_code?Object(V.jsx)("div",{className:"form-item-selected form-item",onClick:function(e){p(!1),s("")},children:e.name},"item-"+e.gm_code):Object(V.jsx)("div",{className:"form-item",onClick:function(t){p(!1),s(e.gm_code)},children:e.name},"item-"+e.gm_code)}))]})]})})}(t):null,""!==a?Object(V.jsx)("div",{className:"filter-plaats-img-cancel",onClick:function(t){t.preventDefault(),e({type:"SET_FILTER_GEBIED",payload:""})}}):null,Object(V.jsx)("div",{className:"flex flex-col justify-center h-full",children:Object(V.jsx)("div",{className:"filter-plaats-img-search",onClick:function(e){p("places")}})})]})]})},Lt=(a(424),a(425),a(426),a(427),a(246)),Mt=a.n(Lt),Ft=a.p+"static/media/calendar.0fe3dc2a.svg";var Gt=function(){var e=Object(m.c)(),t=Object(n.useRef)(null),a=Object(m.d)((function(e){return"displaymode-rentals"===e.layers.displaymode?e.filter&&e.filter.intervalend?e.filter.intervalend:(new Date).toISOString():e.filter&&e.filter.datum?e.filter.datum:(new Date).toISOString()})),i=Object(m.d)((function(e){return e.layers?e.layers.displaymode:null})),r=Object(n.useCallback)((function(a){t&&t.current&&clearTimeout(t.current),t.current=setTimeout((function(t){e("displaymode-rentals"!==i?{type:"SET_FILTER_DATUM",payload:a.toISOString()}:{type:"SET_FILTER_INTERVAL_END",payload:a.toISOString()})}),0)}),[0,i]);return Object(n.useEffect)((function(e){r(new Date(a))}),[a]),Object(V.jsxs)("div",{className:"filter-datum-container",children:[Object(V.jsx)("div",{className:"filter-datum-title",children:"displaymode-rentals"===i?"Eindtijd":"Datum"}),Object(V.jsxs)("div",{className:"filter-datum-box-row",children:[Object(V.jsxs)("div",{className:"filter-datum-box-1",children:[Object(V.jsx)("div",{className:"flex flex-col justify-center",children:Object(V.jsx)("div",{className:"filter-datum-caret",onClick:function(){r(h()(a).subtract(1,"hours"))},children:"\u2039"})}),Object(V.jsx)("div",{className:"filter-datum-dtpicker",children:Object(V.jsx)(Mt.a,{onChange:r,value:new Date(a),clearIcon:null,calendarIcon:Object(V.jsx)("img",{src:Ft,alt:"Logo"}),format:"y-MM-dd H:mm",disableClock:!0})}),Object(V.jsx)("div",{className:"flex flex-col justify-center",children:Object(V.jsx)("div",{className:"filter-datum-caret",onClick:function(){r(h()(a).add(1,"hours"))},children:"\u203a"})})]}),Object(V.jsx)("div",{className:"filter-datum-box-2",onClick:function(){r(new Date)},title:"Toon huidige datum en tijd",children:Object(V.jsx)("div",{className:"filter-datum-img-now"})})]})]})},Pt=(a(446),a(221),a(131)),Ut=a.n(Pt),Bt=a(99),Ht=a(100),Wt=a(514);var Yt=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.filter&&e.filter.ontwikkelingvan?new Date(e.filter.ontwikkelingvan):h()().subtract(30,"days").toDate()})),a=Object(m.d)((function(e){return e.filter&&e.filter.ontwikkelingtot?new Date(e.filter.ontwikkelingtot):new Date})),i=Object(m.d)((function(e){return e.filter&&e.filter.ontwikkelingaggregatie?e.filter.ontwikkelingaggregatie:"day"})),r=Object(n.useState)(t),o=Object(W.a)(r,2),c=o[0],l=o[1],s=Object(n.useState)(a),d=Object(W.a)(s,2),u=d[0],p=d[1],b=Object(n.useState)(!1),f=Object(W.a)(b,2),j=f[0],g=f[1],y=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Date(t.toDateString()),r=new Date(a.toDateString());e({type:"SET_FILTER_ONTWIKKELING_VANTOT",payload:{van:i.toISOString(),tot:r.toISOString()}}),!1!==n&&e({type:"SET_FILTER_ONTWIKKELING_AGGREGATIE",payload:n})},O=function(e){var t=Object(W.a)(e,2),a=t[0],n=t[1];l(a),p(n),null!==n&&(y(a,n),g(!j))},x=function(e){var t=c,a=u;if(e)switch(i){case"week":t=Object(Bt.default)(c,-7);break;case"month":t=Object(Ht.default)(c,-1);break;default:t=Object(Bt.default)(c,-1)}else switch(i){case"week":a=Object(Bt.default)(u,7);break;case"month":a=Object(Ht.default)(u,1);break;default:a=Object(Bt.default)(u,1)}l(t),p(a),y(t,a)},v=function(e){var t,a,n,i=new Date((new Date).toDateString());switch(e){case"laatste7dagen":t=Object(Bt.default)(i,-6),a=i,n="day";break;case"laatste30dagen":t=Object(Bt.default)(i,-30),a=i,n="day";break;case"laatste90dagen":t=Object(Bt.default)(i,-90),a=i,n="day";break;case"laatste12maanden":t=Object(Bt.default)(i,-365),a=i,n="week";break;case"ditjaar":var r=i.getFullYear();t=new Date(r.toString()+"/1/1"),a=i,n="month";break;case"vorigjaar":var o=i.getFullYear()-1;t=new Date(o.toString()+"/1/1"),a=new Date(o.toString()+"/12/31"),n="month";break;default:return}l(t),p(a),y(t,a,n)};return Object(V.jsxs)("div",{className:"filter-datum-van-tot-container",children:[Object(V.jsx)("div",{className:"filter-datum-van-tot-title",children:"Periode"}),Object(V.jsxs)("div",{className:"filter-datum-van-tot-box-row",children:[Object(V.jsx)("div",{className:"flex flex-col justify-center",children:Object(V.jsx)("div",{className:"filter-datum-caret",onClick:function(){x(!0)},children:"\u2039"})}),Object(V.jsxs)("div",{className:"filter-datum-van-tot-input",onClick:function(e){e.preventDefault(),j&&null===u&&(l(t),p(a)),g(!j)},children:[null!==c?Object(Wt.default)(c,"yyyy-MM-dd"):"","\xa0t/m\xa0",null!==u?Object(Wt.default)(u,"yyyy-MM-dd"):""," "]}),Object(V.jsx)("div",{className:"flex flex-col justify-center",children:Object(V.jsx)("div",{className:"filter-datum-caret",onClick:function(){x(!1)},children:"\u203a"})})]}),j&&Object(V.jsxs)("div",{className:"filter-datum-van-tot-pickercontainer",children:[Object(V.jsx)(Ut.a,{className:"filter-datum-van-tot-picker",selected:c,onChange:O,startDate:c,endDate:u,dateFormat:"yyyy-MM-dd",selectsRange:!0,inline:!0},"dp-van-tot"),Object(V.jsxs)("div",{className:"filter-datum-van-tot-picker-options",children:[Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){v("laatste7dagen")},children:"Laatste 7 dagen"},"fdvt-po1"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){v("laatste30dagen")},children:"Laatste 30 dagen"},"fdvt-po2"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){v("laatste90dagen")},children:"Laatste 90 dagen"},"fdvt-po3"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){v("laatste12maanden")},children:"Laatste 12 maanden"},"fdvt-po4"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){v("ditjaar")},children:"Dit jaar"},"fdvt-po5"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){v("vorigjaar")},children:"Vorig jaar "},"fdvt-po6")]})]})]})},Vt=(a(487),36e5);var Zt=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.filter?e.filter.intervalduur:Vt})),a=[{label:"1h",anchor:"start",pos:"0%",value:Vt},{label:"4h",anchor:"middle",pos:"15%",value:144e5},{label:"8h",anchor:"middle",pos:"26.5%",value:288e5},{label:"12h",anchor:"middle",pos:"39%",value:432e5},{label:"16h",anchor:"middle",pos:"50%",value:576e5},{label:"20h",anchor:"middle",pos:"62%",value:72e6},{label:"24h",anchor:"middle",pos:"73.5%",value:864e5},{label:"2d",anchor:"middle",pos:"85.5%",value:1728e5},{label:"3d",anchor:"middle",pos:"96%",value:2592e5}],n=a.map((function(e,t){return Object(V.jsx)("text",{className:"filter-duur-annotation",x:e.pos,y:"14",textAnchor:e.anchor,children:e.label},"fide-"+t)})),i=a.map((function(e,t){return Object(V.jsx)("rect",{className:"filter-duur-tickmark",x:e.pos,y:"0",width:"1",height:"20"},"fidt-"+t)})),r=a.findIndex((function(e){return e.value===t}));return-1===r&&(r=4),Object(V.jsxs)("div",{className:"filter-duur-container",children:[Object(V.jsx)("div",{className:"filter-datum-title",children:"Periode"}),Object(V.jsxs)("div",{className:"filter-duur-box-row",children:[Object(V.jsx)("input",{className:"filter-duur-range",width:"100%",type:"range",min:"0",max:a.length-1,step:"1",onChange:function(t){e({type:"SET_FILTER_INTERVAL_DUUR",payload:a[t.target.value].value})},value:r}),Object(V.jsx)("svg",{className:"filter-duur-tickmarks",role:"presentation",width:"100%",height:"10",xmlns:"http://www.w3.org/2000/svg",children:i}),Object(V.jsx)("svg",{className:"filter-duur-elements",role:"presentation",width:"100%",height:"14",xmlns:"http://www.w3.org/2000/svg",children:n})]})]})};a(488);var Jt=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.metadata&&e.metadata.aanbieders?e.metadata.aanbieders:[]})),a=Object(m.d)((function(e){var t=void 0;if(e.layers)switch(e.layers.displaymode){case S:t=!(!e.vehicles||!e.vehicles.operatorstats)&&e.vehicles.operatorstats;break;case N:if(e.filter&&e.rentals){var a="bestemming"===e.filter.herkomstbestemming?"destinations":"origins";t=e.rentals["".concat(a,"_operatorstats")]?e.rentals["".concat(a,"_operatorstats")]:void 0}break;case A:if(e.metadata&&e.filter&&e.statsreducer){var n={};return e.metadata.aanbieders.forEach((function(e){n[e.system_id]=0})),Object.keys(n).forEach((function(t){t in e.statsreducer.operatorstats_verhuringenchart===!0&&(n[t]+=e.statsreducer.operatorstats_verhuringenchart[t]),t in e.statsreducer.operatorstats_beschikbarevoertuigenchart===!0&&(n[t]+=e.statsreducer.operatorstats_verhuringenchart[t])})),n}}return t})),n=Object(m.d)((function(e){return e.filter?e.filter.aanbiedersexclude:[]})),i=function(a){(n||"").split(",").length!==t.length-1&&e({type:"ADD_TO_FILTER_AANBIEDERS_EXCLUDE",payload:a.system_id})};return Object(V.jsxs)("div",{className:"filter-aanbieders-container",children:[Object(V.jsxs)("div",{className:"filter-aanbieders-title-row",children:[Object(V.jsx)("div",{className:"filter-aanbieders-title",children:"Aanbieders"}),""!==n?Object(V.jsx)("div",{className:"filter-aanbieders-reset cursor-pointer",onClick:function(t){e({type:"CLEAR_FILTER_AANBIEDERS_EXCLUDE",payload:""})},children:"reset"}):null]}),Object(V.jsx)("div",{className:"filter-aanbieders-box-row",children:t.map((function(r,o){if(void 0!==a&&(0===a.length||0===a[r.system_id]))return Object(V.jsxs)("div",{className:"filter-aanbieders-item filter-aanbieders-item-not-active",children:[Object(V.jsx)("div",{className:"filter-aanbieders-marker",children:Object(V.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(V.jsx)("line",{x1:"20%",y1:"20%",x2:"80%",y2:"80%",stroke:"#000000"}),Object(V.jsx)("line",{x1:"20%",y1:"80%",x2:"80%",y2:"20%",stroke:"#000000"})]})}),Object(V.jsx)("div",{className:"filter-aanbieders-itemlabel",children:r.name})]},r.name);var c=!!n&&n.includes(r.system_id),l=c?function(t){t.stopPropagation(),function(t){e({type:"REMOVE_FROM_FILTER_AANBIEDERS_EXCLUDE",payload:t.system_id})}(r)}:function(e){var a;e.stopPropagation(),a=r,""===n?t.map((function(e){return e.system_id!==a.system_id&&i(e),e})):i(a)};return Object(V.jsxs)("div",{className:"filter-aanbieders-item ".concat(c?"filter-aanbieders-item-not-active":""),onClick:l,children:[Object(V.jsx)("div",{className:"filter-aanbieders-marker",children:Object(V.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(V.jsx)("circle",{cx:"50%",cy:"50%",r:"40%",fill:"#000000"}),Object(V.jsx)("circle",{cx:"50%",cy:"50%",r:"35%",fill:"#FFFFFF"}),Object(V.jsx)("circle",{cx:"70%",cy:"25%",r:"25%",fill:r.color.toString()})]})}),Object(V.jsx)("div",{className:"filter-aanbieders-itemlabel",children:r.name})]},r.name)}))})]})};a(489);var Kt=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.metadata&&e.metadata.zones?e.metadata.zones:[]})),a=Object(m.d)((function(e){return e.filter?e.filter.zones:0})),i=Object(m.d)((function(e){return e.filter?e.filter.gebied:0})),r=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR_EXTENDED})),o=Object(n.useState)(""),c=Object(W.a)(o,2),l=c[0],s=c[1],d=function(t){e({type:"REMOVE_FROM_FILTER_ZONES",payload:t})},u=function(t){e({type:"SET_VISIBILITY",payload:{name:"FILTERBAR_EXTENDED",visibility:t}})},p=function(e){s(e.target.value)},b=function(e){s("")},f=[{name:"Stadsdelen",zone_type:"residential_area"},{name:"Maatwerkzones",zone_type:"custom"},{name:"Wijken",zone_type:"neighborhood"}],h=function(t,n){var i=n.filter((function(e){return e.zone_type===t.zone_type}));if(0===i.length)return null;var r=i.sort((function(e,t){return e.name.localeCompare(t.name)}));return Object(V.jsxs)("div",{className:"zone-group-container",children:[Object(V.jsx)("span",{className:"zone-group-title",children:t.name},"zgn-"+t.zone_type),Object(V.jsx)("div",{className:"filter-zones-zonelist",children:r.map((function(t){return a.includes(t.zone_id)?Object(V.jsx)("div",{className:" form-item-selected form-item cursor-pointer ",onClick:function(e){e.stopPropagation(),d(t.zone_id)},children:t.name},"item-"+t.zone_id):Object(V.jsx)("div",{className:" form-item cursor-pointer ",onClick:function(a){var n;a.stopPropagation(),n=t.zone_id,e({type:"ADD_TO_FILTER_ZONES",payload:n})},children:t.name},"item-"+t.zone_id)}))},"zgi-"+t.zone_type)]},"zg-"+t.zone_type)},j=[],g="";try{var y=(j=a.split(",")).length;if(y>1)g=y+" zones";else{var O=t.find((function(e){return e.zone_id.toString()===j[0]}));g=O&&O.name||""}}catch(_){g=""}""===g&&(g="Alle Zones");var x=""!==i,v=t.filter((function(e){return j.includes(e.zone_id.toString())}));return x?Object(V.jsxs)("div",{className:"filter-zones-container ".concat(!0===x?"":"filter-zones-item-not-active"),children:[Object(V.jsx)("div",{className:"filter-zones-title",onClick:function(e){x&&u("zones")},children:"Zones"}),Object(V.jsxs)("div",{className:"filter-zones-box-row",children:[Object(V.jsx)("div",{className:"\n            filter-zones-value flex flex-col justify-center cursor-pointer h-full\n            ".concat("Alle Zones"===g?"text-black":"","\n          "),onClick:function(e){x&&u("zones")},children:g}),""!==a?Object(V.jsx)("div",{className:"filter-zones-img-cancel",onClick:function(){e({type:"CLEAR_FILTER_ZONES",payload:null})}}):null,"zones"===r?function(e){var t=e.filter((function(e){return""===l||e.name.toLowerCase().includes(l.toLowerCase())}));return Object(V.jsx)(It,{title:"Selecteer een zone",closeFunction:function(e){return u(!1)},children:Object(V.jsxs)("div",{className:"filter-form-selectie",children:[Object(V.jsxs)("div",{className:"filter-form-search-container mb-3",children:[Object(V.jsxs)("div",{className:"filter-form-search-container-2",children:[Object(V.jsx)("input",{type:"text",className:"filter-form-search",onChange:p,value:l,autoFocus:!0,placeholder:"zoek"}),Object(V.jsx)("div",{className:"ml-3 flex flex-col justify-center h-full",children:""!==l?Object(V.jsx)("div",{className:"filter-zones-img-cancel cursor-pointer",onClick:b}):Object(V.jsx)("div",{className:"filter-zones-img-search cursor-pointer"})})]}),Object(V.jsx)("div",{children:"\xa0"})]}),Object(V.jsx)("div",{className:"filter-form-values",children:f.map((function(e){return h(e,t)}))})]})})}(t):null,Object(V.jsx)("div",{className:"ml-3 flex flex-col justify-center h-full",children:Object(V.jsx)("div",{className:"filter-zones-img-search cursor-pointer",onClick:function(e){u("zones")}})})]}),Object(V.jsx)("div",{className:"filter-zones-zonelist",children:v.map((function(e){return Object(V.jsxs)("div",{className:"filter-zones-zoneitem",children:[e.name,Object(V.jsx)("div",{className:"filter-zones-img-zoneitem-cancel",onClick:function(t){t.stopPropagation(),d(e.zone_id)},children:"\xd7"})]},e.zone_id)}))})]}):Object(V.jsx)(V.Fragment,{})};a(490);function Xt(){return qt({label:"Parkeerduur",filtername:"parkeerduurexclude",markers:Object(m.d)((function(e){return[{id:0,color:"#1FA024",fillcolor:"#1FA024",name:"< 1 uur"},{id:1,color:"#48E248",fillcolor:"#48E248",name:"< 24 uur"},{id:2,color:"#FFD837",fillcolor:"#FFD837",name:"< 4 d"},{id:3,color:"#FD3E48",fillcolor:"#FD3E48",name:"> 4 d"}]})),addmarker:"ADD_TO_FILTER_MARKERS_EXCLUDE",removemarker:"REMOVE_FROM_FILTER_MARKERS_EXCLUDE",clearmarkers:"CLEAR_FILTER_MARKERS_EXCLUDE"})}function $t(){return qt({label:"Afstand",filtername:"afstandexclude",markers:Object(m.d)((function(e){return[{id:0,color:"#48E248",fillcolor:"#48E248",name:"1km"},{id:1,color:"#44BD48",fillcolor:"#44BD48",name:"2km"},{id:2,color:"#3B7747",fillcolor:"#3B7747",name:"5km"},{id:3,color:"#343E47",fillcolor:"#343E47",name:"> 5km"}]})),addmarker:"ADD_TO_FILTER_AFSTAND_EXCLUDE",removemarker:"REMOVE_FROM_FILTER_AFSTAND_EXCLUDE",clearmarkers:"CLEAR_FILTER_AFSTAND_EXCLUDE"})}function qt(e){var t=e.label,a=e.filtername,n=e.markers,i=e.addmarker,r=e.removemarker,o=e.clearmarkers,c=Object(m.c)(),l=Object(m.d)((function(e){return e.filter?e.filter[a]:""}))||"",s=function(e){console.log("addtofilter %s -> %s",a,e),c({type:i,payload:e})};return Object(V.jsxs)("div",{className:"filter-markers-container",children:[Object(V.jsxs)("div",{className:"filter-markers-title-row",children:[Object(V.jsx)("div",{className:"filter-markers-title",children:t}),""!==l?Object(V.jsx)("div",{className:"filter-markers-reset cursor-pointer",onClick:function(){console.log("clearfilter %s",a),c({type:o,payload:null})},children:"reset"}):null]}),Object(V.jsx)("div",{className:"filter-markers-box-row",children:n.map((function(e){var t=l.split(",").includes(e.id.toString()),i=t?"filter-markers-item-excluded":"filter-markers-item",o=t?function(t){t.stopPropagation(),function(e){console.log("removefromfilter %s -> %s",a,e),c({type:r,payload:e})}(e.id)}:function(t){var a;t.stopPropagation(),a=e.id,console.log("clickfilter [%s]<",l),""===l?n.map((function(e){return e.id!==a&&s(e.id),e})):s(a)};return Object(V.jsxs)("div",{className:i,children:[Object(V.jsx)("div",{className:"filter-markers-marker",onClick:o,children:Object(V.jsxs)("svg",{viewBox:"0 0 30 30",children:[Object(V.jsx)("circle",{cx:"50%",cy:"50%",r:"40%",fill:e.color}),Object(V.jsx)("circle",{cx:"50%",cy:"50%",r:"34%",fill:e.fillcolor})]})}),Object(V.jsx)("div",{className:"filter-markers-itemlabel",children:e.name})]},e.id)}))})]})}a(491);function Qt(){var e=Object(m.c)(),t=function(t){return function(a){e({type:"SET_FILTER_HERKOMSTBESTEMMING",payload:t})}},a="filter-herkomst-bestemming-button",n="filter-herkomst-bestemming-button";return"bestemming"===Object(m.d)((function(e){var t="herkomst";return e.filter&&(t="bestemming"===e.filter.herkomstbestemming?"bestemming":"herkomst"),t}))?n+=" filter-herkomst-bestemming-button-active":a+=" filter-herkomst-bestemming-button-active",Object(V.jsx)("div",{className:"filter-herkomst-bestemming-container",children:Object(V.jsxs)("div",{className:"filter-herkomst-bestemming-box-row",children:[Object(V.jsx)("div",{className:a,onClick:t("herkomst"),children:"Herkomst"}),Object(V.jsx)("div",{className:n,onClick:t("bestemming"),children:"Bestemming"})]})})}a(492);var ea=function(){var e=Object(m.c)(),t=Object(m.d)((function(e){return e.metadata.vehicle_types&&e.metadata.vehicle_types||[]})),a=Object(m.d)((function(e){return Array.isArray(e.filter.voertuigtypesexclude)?"":e.filter?e.filter.voertuigtypesexclude:""}))||"",n=function(n){(a||"").split(",").length!==t.length-1&&e({type:"ADD_TO_FILTER_VOERTUIGTYPES_EXCLUDE",payload:n})};return Object(V.jsxs)("div",{className:"filter-voertuigtypes-container",children:[Object(V.jsxs)("div",{className:"filter-voertuigtypes-title-row",children:[Object(V.jsx)("div",{className:"filter-voertuigtypes-title",children:"Vervoerstype"}),""!==a?Object(V.jsx)("div",{className:"filter-voertuigtypes-reset cursor-pointer",onClick:function(){e({type:"CLEAR_FILTER_VOERTUIGTYPES_EXCLUDE",payload:null})},children:"reset"}):null]}),Object(V.jsx)("div",{className:"filter-voertuigtypes-box-row",children:t.map((function(i,r){var o=(a||"").split(",").includes(i.id),c=o?function(t){t.stopPropagation(),function(t){e({type:"REMOVE_FROM_FILTER_VOERTUIGTYPES_EXCLUDE",payload:t})}(i.id)}:function(e){var r;e.stopPropagation(),r=i.id,""===a?t.map((function(e){return e.id!==r&&n(e.id),e})):n(r)},l="".concat(o?"filter-voertuigtypes-item-excluded":"filter-voertuigtypes-item"),s="";switch(i.id){case"bicycle":s="filter-voertuigtypes-icon-bicycle";break;case"cargo_bicycle":s="filter-voertuigtypes-icon-cargo-bicycle";break;case"moped":s="filter-voertuigtypes-icon-scooter";break;case"car":s="filter-voertuigtypes-icon-car";break;case"unknown":s="filter-voertuigtypes-icon-other"}return Object(V.jsxs)("div",{className:"".concat(l).concat(r===t.length-1?" filter-voertuigtypes-item-last":""),onClick:c,children:[Object(V.jsx)("div",{className:"filter-voertuigtypes-icon ".concat(s),onClick:c}),Object(V.jsx)("div",{className:"filter-voertuigtypes-itemlabel",children:i.name})]},i.id)}))})]})};var ta=function(e){var t=e.theme,a=e.children,n=e.onClick;return Object(V.jsx)("div",{className:" rounded-lg inline-block border-solid border-2 px-2 py-2 mr-2 mb-2 text-sm cursor-pointer ",onClick:n,style:je[t],children:a})};var aa=function(e,t){var a=e.type,n=e.name,i=e.defaultValue,r=e.value,o=e.placeholder,c=e.min,l=e.disabled,s=e.id,d=e.autoComplete,u=e.classes,p=e.onChange;return Object(V.jsx)("div",{className:"FormInput",children:Object(V.jsx)("input",{type:a,name:n,autoComplete:d,id:s,value:r,defaultValue:i,onChange:p,placeholder:o,disabled:l,min:c,className:"\n        rounded-lg\n        inline-block\n        border-solid border-2\n        px-2\n        py-2\n        mr-2\n        mb-2\n        text-sm\n        ".concat(u,"\n      "),style:je.white})})},na=(a(493),a(169)),ia=a.n(na),ra=a(529),oa=a(178),ca=a(249);function la(e){var t=e.title,a=e.backgroundColor,n=e.onClick;return Object(V.jsx)(ca.motion.div,{className:"\n        inline-block\n        rounded\n        text-white\n        px-2\n        py-2\n        mr-2\n        mb-2\n        text-sm\n        ".concat(n?"cursor-pointer":"","\n      "),style:{backgroundColor:a},onClick:n,whileHover:{scale:1.05},whileTap:{scale:1.01},children:t})}var sa=function(e){var t=e.theme,a=e.children,n=e.onClick,i=e.classes;return Object(V.jsx)("div",{className:"\n        inline-block\n        py-2\n        mb-2\n        text-sm\n        cursor-pointer\n        ".concat(i,"\n      "),onClick:n,style:{color:je[t].color},children:a})};function da(e){var t=e.children,a=e.imageUrl,n=e.onChange,i=e.name,r=e.value;return Object(V.jsxs)("div",{className:" bg-no-repeat pl-12 h-8 flex w-full ",style:{backgroundImage:"url('".concat(a,"')"),backgroundSize:"30px",backgroundPosition:"center left"},children:[Object(V.jsx)("input",{name:i,className:"flex-1",width:"100%",type:"range",min:"0",max:"250",step:"1",onChange:n,value:r,style:{width:"calc(100% - 48px)"}}),Object(V.jsx)("div",{className:"text-xs ml-2 h-8 flex justify-center flex-col",children:r&&r>0?r:"\u221e"}),t]})}var ua=function(e){var t=e.hideLogo,a={geography_type:"monitoring",zone_availability:"auto",published:!0},i=Object(n.useState)("view"),r=Object(W.a)(i,2),o=r[0],c=r[1],l=Object(n.useState)(!1),s=Object(W.a)(l,2),d=s[0],u=s[1],p=Object(n.useState)(0),b=Object(W.a)(p,2),f=b[0],h=b[1],j=Object(n.useState)(null),g=Object(W.a)(j,2),y=g[0],O=g[1],x=Object(n.useState)(null),v=Object(W.a)(x,2),_=v[0],w=v[1],k=Object(n.useState)(a),E=Object(W.a)(k,2),S=E[0],N=E[1],T=Object(n.useState)("modality"),D=Object(W.a)(T,2),A=D[0],C=D[1],R="mb-2 text-sm",I=Object(m.d)((function(e){return e.filter?e.filter.gebied:null})),z=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:null}));Object(n.useEffect)((function(){window.ddMap&&(d||(window.ddMap.on("draw.create",(function(e){e.features&&e.features[0]&&O(e.features[0])})),window.ddMap.on("draw.update",(function(e){e.features&&e.features[0]&&O(e.features[0])})),u(!0)))}),[window.ddMap]);var L=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){var t,a,n;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={municipality:I},e.next=3,Oe(z,t);case 3:if((a=e.sent)&&!a.message){e.next=6;break}return e.abrupt("return");case 6:n=a.sort((function(e,t){return e.name.localeCompare(t.name)})),n=Ne(n),w(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[I]),Object(n.useEffect)((function(){if(_){var e=function(e){var t=e.detail;if(t!==S.zone_id){if(window.ddMap&&t)window.CROW_DD.theDraw.get(t)&&window.CROW_DD.theDraw.changeMode("direct_select",{featureId:t});var n=function(e,t){if(e&&t){var a=e.filter((function(e){return e.zone_id===t}));return a&&a[0]?a[0]:{}}}(_,t);if(n){var i=a;i.zone_id=n.zone_id,i.area=n.area,i.name=n.name,i.municipality=n.municipality,i.geography_type=n.geography_type||a.geography_type,i.geography_id=n.geography_id,i.description=n.description,i.published=n.published||a.published,n.stop&&(i.stop=n.stop,i["vehicles-limit.bicycle"]=n.stop.capacity.bicycle||0,i["vehicles-limit.moped"]=n.stop.capacity.moped||0,i["vehicles-limit.scooter"]=n.stop.capacity.scooter||0,i["vehicles-limit.cargo_bicycle"]=n.stop.capacity.cargo_bicycle||0,i["vehicles-limit.car"]=n.stop.capacity.car||0,i["vehicles-limit.other"]=n.stop.capacity.other||0,i["vehicles-limit.combined"]=n.stop.capacity.combined||0,!0===n.stop.status.control_automatic?i.zone_availability="auto":n.stop.status.control_automatic||!0!==n.stop.status.is_returning?n.stop.status.control_automatic||!1!==n.stop.status.is_returning||(i.zone_availability="closed"):i.zone_availability="open",i["vehicles-limit.combined"]&&i["vehicles-limit.combined"]>0?C("combined"):C("modality")),N(i),c("edit")}}};return window.addEventListener("setSelectedZone",e),function(){window.removeEventListener("setSelectedZone",e)}}}),[_,S.zone_id]);var M=function(){window.CROW_DD.theDraw&&(window.CROW_DD.theDraw.changeMode("simple_select",[]),c("view"))},F=function(e){if(e.target&&e.target.name){var t=S;t[e.target.name]=e.target.value,N(t),h(f+1)}},G=function(){return S.geography_id?{geography_id:S.geography_id,geography_type:S.geography_type,municipality:S.municipality,name:S.name,description:S.description,published:S.published,zone_availability:S.zone_availability,zone_id:S.zone_id,area:y||S.area}:Object.assign({geography_id:S.geography_id,geography_type:S.geography_type,name:S.name,published:S.published,zone_availability:S.zone_availability},{municipality:I,area:y,description:"Zone"})},P=function(){var e=G();return e.geography_type="stop",e.stop=B(),e},U=function(){var e=G();return e.no_parking=S.no_parking||{},e},B=function(){var e=function(){if("combined"===A)return!S["vehicles-limit.combined"]||S["vehicles-limit.combined"]<=0?{}:{combined:parseInt(S["vehicles-limit.combined"])};var e={};return parseInt(S["vehicles-limit.cargo_bicycle"])>0&&(e.cargo_bicycle=parseInt(S["vehicles-limit.cargo_bicycle"])),parseInt(S["vehicles-limit.scooter"])>0&&(e.scooter=parseInt(S["vehicles-limit.scooter"])),parseInt(S["vehicles-limit.bicycle"])>0&&(e.bicycle=parseInt(S["vehicles-limit.bicycle"])),parseInt(S["vehicles-limit.car"])>0&&(e.car=parseInt(S["vehicles-limit.car"])),parseInt(S["vehicles-limit.other"])>0&&(e.other=parseInt(S["vehicles-limit.other"])),parseInt(S["vehicles-limit.moped"])>0&&(e.moped=parseInt(S["vehicles-limit.moped"])),e},t=function(){return{control_automatic:S&&"auto"===S.zone_availability,is_returning:S&&("auto"===S.zone_availability||"open"===S.zone_availability),is_installed:!!(S&&S.stop&&S.stop.status)&&S.stop.status.is_installed,is_renting:!!(S&&S.stop&&S.stop.status)&&S.stop.status.is_renting}};return S&&S.stop&&S.stop_id?{stop_id:S.stop.stop_id,location:S.stop.location,status:t(),capacity:e()}:{location:S.area?Object(oa.a)(S.area):Object(oa.a)(y),status:t(),capacity:e()}},H=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){var t,n,i,r,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.area||!S.drawedArea){e.next=3;break}return notify("Teken eerst een zone voordat je deze opslaat"),e.abrupt("return");case 3:if(t=G(),"stop"===S.geography_type?t=P():"no_parking"===S.geography_type&&(t=U()),!S.geography_id){e.next=20;break}return e.next=8,_e(z,t);case 8:if((n=e.sent).zone_id){e.next=13;break}return console.error(n),alert("Er ging iets fout bij het opslaan van de zone."),e.abrupt("return");case 13:N(n),window.CROW_DD.theDraw.delete(S.zone_id),i={id:n.zone_id,type:"Feature",properties:{geography_type:n.geography_type},geometry:{type:"Polygon",coordinates:n.area.geometry.coordinates}},window.CROW_DD.theDraw.add(i),L(),e.next=28;break;case 20:return e.next=22,ve(z,t);case 22:if(r=e.sent,L(),r&&r.area){e.next=26;break}return e.abrupt("return");case 26:o={id:r.zone_id,type:"Feature",properties:{geography_type:r.geography_type},geometry:{type:"Polygon",coordinates:r.area.geometry.coordinates}},window.CROW_DD.theDraw.add(o);case 28:M(),N(a),Z();case 31:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Weet je zeker dat je deze zone wilt verwijderen?")){e.next=2;break}return e.abrupt("return");case 2:if(S&&S.geography_id){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,we(z,S.geography_id);case 6:L(),window.CROW_DD.theDraw.delete(S.zone_id),M();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=window.CROW_DD.theDraw.getAll();De(e.features).map((function(e){window.CROW_DD.theDraw.delete(e.id)}))},J=function(){y&&!window.confirm("Weet je zeker dat je het tekenen van de zone wilt annuleren?")||(window.CROW_DD.theDraw.trash(),Z(),M(),N(a),L())},K=!S.geography_id;return Object(V.jsxs)("div",{className:"filter-bar-inner py-2",children:[!t&&Object(V.jsx)(kt,{}),Object(V.jsx)("div",{className:"mt-6",children:Object(V.jsx)(zt,{})}),!I&&Object(V.jsx)("div",{children:"Selecteer een plaats."}),I&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("div",{className:"",children:[Object(V.jsx)("div",{className:R,children:"Zones"}),Object(V.jsx)("div",{children:_?ra.a((function(e){return e.onClick=function(){var t=e.zone_id,a=new CustomEvent("setSelectedZone",{detail:t});if(window.dispatchEvent(a),e.area&&e.area.geometry&&e.area.geometry.coordinates&&e.area.geometry.coordinates[0]){if(!window.ddMap)return;var n=ia.a.extent(e.area);window.ddMap.fitBounds(n,{padding:{top:25,bottom:25,left:350,right:25},duration:1400})}},function(e){var t=e.zone_id,a=e.name,n=e.geography_type,i=e.onClick,r={monitoring:je.zone.monitoring.primaryColor,stop:je.zone.stop.primaryColor,no_parking:je.zone.no_parking.primaryColor};return Object(V.jsx)(la,{title:a,backgroundColor:r[n]||"#000",onClick:i,children:a},t)}(e)}),_):Object(V.jsx)("div",{})})]}),"view"===o&&Object(V.jsxs)("div",{className:"mt-6",children:[Object(V.jsx)("div",{className:R,children:"Nieuwe zone"}),Object(V.jsxs)("div",{children:["view"===o&&Object(V.jsx)(ta,{theme:"white",onClick:function(){window.CROW_DD.theDraw&&(window.CROW_DD.theDraw.changeMode("draw_polygon"),N(a),c("edit"))},children:"Nieuwe zone aanmaken"}),"edit"===o&&Object(V.jsx)(ta,{theme:"white",onClick:J,children:"Annuleer"})]})]}),"edit"===o&&Object(V.jsxs)("div",{className:"mt-6",children:[Object(V.jsxs)("div",{className:R,children:["Zone ",K?"toevoegen":"wijzigen"]}),Object(V.jsxs)("div",{className:"flex justify-between",children:[Object(V.jsx)(ta,{theme:"green",onClick:H,children:"Opslaan"}),Object(V.jsx)(ta,{theme:"white",onClick:J,children:"Annuleer"})]}),Object(V.jsx)("div",{children:Object(V.jsx)(aa,{type:"text",placeholder:"Naam van de zone",name:"name",autoComplete:"false",id:"js-FilterbarZones-name-input",value:S.name||"",onChange:F,classes:"w-full"})}),Object(V.jsx)("div",{className:" mt-0 ",children:Object(V.jsx)("div",{className:" flex rounded-lg bg-white border-solid border border-gray-400 text-sm ",children:ra.a((function(e){return Object(V.jsx)("div",{className:"\n                  ".concat(S.geography_type===e.name?"Button-orange":"","\n                  cursor-pointer\n                  flex-1\n                  \n                  rounded-lg\n                  text-gray-500\n                  text-center\n                  h-10\n                  flex\n                  flex-col\n                  justify-center\n                "),onClick:function(t){t.preventDefault(),F({target:{name:"geography_type",value:e.name}});var a,n=S.zone_id;if(n||(n=function(){var e=window.CROW_DD.theDraw.getAll(),t=De(e.features);return!(!t||1!==t.length||!t[0].id)&&t[0].id}()),n){window.CROW_DD.theDraw.setFeatureProperty(n,"geography_type",e.name);a=n,window.CROW_DD.theDraw.changeMode("simple_select",[]),window.CROW_DD.theDraw.changeMode("direct_select",{featureId:a})}},children:e.title},e.name)}),[{name:"monitoring",title:"Analyse"},{name:"stop",title:"Parking"},{name:"no_parking",title:"No parking"}])})}),"stop"===S.geography_type&&Object(V.jsx)("div",{className:" py-2 ",children:Object(V.jsx)("div",{className:" flex rounded-lg bg-white border-solid border border-gray-400 text-sm ",children:ra.a((function(e){return Object(V.jsx)("div",{className:"\n                  ".concat(S.zone_availability===e.name?"Button-blue":"","\n                  cursor-pointer\n                  flex-1\n                  rounded-lg\n                  text-gray-500\n                  text-center\n                  border-gray-500\n                  h-10\n                  flex\n                  flex-col\n                  justify-center\n                "),onClick:function(t){t.preventDefault(),F({target:{name:"zone_availability",value:e.name}})},children:e.title},e.name)}),[{name:"auto",title:"Automatisch"},{name:"open",title:"Open"},{name:"closed",title:"Gesloten"}])})}),"stop"===S.geography_type&&"auto"===S.zone_availability&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)("p",{className:"mb-2 text-sm",children:["Limiet ",Object(V.jsx)("a",{onClick:function(){return C("modality")},className:"\n                ".concat("modality"===A?"underline":"","\n                cursor-pointer\n              "),children:"per modaliteit"})," | ",Object(V.jsx)("a",{onClick:function(){return C("combined")},className:"\n                ".concat("combined"===A?"underline":"","\n                cursor-pointer\n              "),children:"totaal"})]}),Object(V.jsxs)("div",{className:" rounded-lg bg-white border-solid border border-gray-400 p-4 ",children:["combined"===A&&Object(V.jsx)(da,{imageUrl:"",name:"vehicles-limit.combined",value:S["vehicles-limit.combined"],onChange:F}),"modality"===A&&Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(da,{imageUrl:"https://i.imgur.com/IF05O8u.png",name:"vehicles-limit.bicycle",value:S["vehicles-limit.bicycle"],onChange:F}),Object(V.jsx)(da,{imageUrl:"https://i.imgur.com/FdVBJaZ.png",name:"vehicles-limit.cargo_bicycle",value:S["vehicles-limit.cargo_bicycle"],onChange:F}),Object(V.jsx)(da,{imageUrl:"https://i.imgur.com/h264sb2.png",name:"vehicles-limit.moped",value:S["vehicles-limit.moped"],onChange:F}),Object(V.jsx)(da,{imageUrl:"https://i.imgur.com/7Y2PYpv.png",name:"vehicles-limit.car",value:S["vehicles-limit.car"],onChange:F})]})]})]})]}),!K&&"edit"===o&&Object(V.jsx)("div",{className:"my-2 text-center",children:Object(V.jsx)(sa,{theme:"red",onClick:Y,classes:"text-xs",children:"Verwijder zone"})})]})]})};var pa=function(e){var t=e.displayMode,a=(e.visible,e.hideLogo),n=Object(m.d)((function(e){return!!e.authentication.user_data})),i=Object(m.d)((function(e){return e.filter&&e.filter.datum?e.filter.datum:(new Date).toISOString()})),r=t===S,o=t===N,c=o||r||!n,l=o,s=r,d=o,u=o,p=t===A,b=o||r||!n;return t===T?Object(V.jsx)(ua,{hideLogo:a}):Object(V.jsxs)("div",{className:"filter-bar-inner py-2",children:[!a&&Object(V.jsx)(kt,{}),n&&c&&Object(V.jsx)(Gt,{}),!n&&c&&Object(V.jsx)("div",{children:Object(V.jsxs)("div",{className:"filter-datum-container",children:[Object(V.jsx)("div",{className:"filter-datum-title",children:"Tijd"}),Object(V.jsx)("div",{className:"filter-datum-box-row",children:h()(i).format("HH:mm")})]})}),n&&l&&Object(V.jsx)(Zt,{}),n&&p&&Object(V.jsx)(Yt,{}),Object(V.jsx)(zt,{}),Object(V.jsx)(Kt,{}),n&&s&&Object(V.jsx)(Xt,{}),n&&d&&Object(V.jsx)($t,{}),n&&u&&Object(V.jsx)(Qt,{}),b&&Object(V.jsx)(ea,{}),Object(V.jsx)(Jt,{})]})};var ma=function(e){e.isVisible;var t=e.displayMode,a=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR_EXTENDED}));return Object(V.jsx)(Ye,{name:"FilterBar",direction:"left",options:{title:"Filters",backgroundColor:"#F6F5F4"},style:{width:a?"648px":"324px",height:"100%",top:0,position:"fixed"},children:Object(V.jsx)("div",{className:"py-2 mx-3 h-full",children:Object(V.jsx)(pa,{displayMode:t})})})};a(502);var ba=function(e){return Object(V.jsxs)("div",{className:"\n      MobileSlideBox w-full sm:hidden fixed left-0\n      ".concat(e.isVisible?"is-visible":"","\n      ").concat(e.classes,"\n    "),style:e.style,children:[Object(V.jsxs)("header",{className:"flex justify-between",children:[Object(V.jsx)("h1",{className:"",children:e.title}),Object(V.jsx)(Et,{onClick:e.closeHandler})]}),Object(V.jsx)("div",{className:"w-full",children:e.children})]})};var fa=function(e){var t=e.isVisible,a=e.displayMode,n=Object(m.c)();return Object(V.jsx)(ba,{title:"Filters",isVisible:t,closeHandler:function(){n({type:"SET_VISIBILITY",payload:{name:"FILTERBAR",visibility:!1}})},classes:" top-0 overflow-auto ",style:{height:"calc(100% - 60px)"},children:Object(V.jsx)(pa,{hideLogo:!0,displayMode:a})})},ha=a(250),ja=function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],i=t[1];return a?Object(V.jsx)(Y.a,{to:"/"}):Object(V.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(V.jsxs)("div",{className:"mx-auto py-8",children:[Object(V.jsx)(Et,{onClick:function(){return i(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(V.jsx)(kt,{}),Object(V.jsx)("div",{style:{maxWidth:"100%",width:"616px"},dangerouslySetInnerHTML:{__html:ha.marked.parse('\n# Over het Dashboard Deelmobiliteit\n\n## Algemeen\n\nHet Dashboard Deelmobiliteit is een webtool van en voor overheden die de ontwikkelingen rond deelmobiliteit op de voeten willen.\n\nHoe lang en waar staan deelvoertuigen ongebruikt in de openbare ruimte? Hoe vaak worden de deelvoertuigen verhuurd? In welke wijken en op welke tijdstippen zijn deelvoertuigen populair? \n\nMet de informatie uit het Dashboard Deelmobiliteit kunnen overheden hun beleid ontwikkelen, evalueren en bijsturen.\n\n## Hoe werkt het?\n\nHet Dashboard Deelmobiliteit verzamelt elke halve minuut positie van  meer dan 15.000 geparkeerde deelvoertuigen in Nederland (januari 2022).\n\nOp basis van deze informatie genereert het dashboard zogenaamde parkeergebeurtenissen en verhuringen, die opgeslagen worden in een centrale database.\n\nHet dashboard biedt een aantal functionaliteiten (kaarten, grafieken en tabellen) om de database te raadplegen. \n\nVoor analyses waar het dashboard niet in voorziet, kunnen overheden downloads maken van de ruwe data uit het dashboard om maatwerkanalyses te (laten) maken.\n\n## Functionaliteiten\n\nIn overleg met deelnemende overheden zijn de volgende functionaliteiten ontwikkeld:\n\n- Een kaart met het aanbod van deelvoertuigen op een tijdstip naar keuze. Een kleurcode geeft tevens aan hoe lang het voertuig te huur staat.\n- Een kaart met verhuringen van deelvoertuigen gedurende een periode naar keuze. Het betreft zowel de locaties waar verhuringen gestart zijn als be\xebindigd.\n- Grafieken met ontwikkelingen in een periode naar keuze. Het gaat zowel om de ontwikkeling in het aantal deelvoertuigen dat aangeboden wordt als om de ontwikkeling het aantal verhuringen.\n- Standaardrapportages als excel-sheets gedownload kunnen worden.\n\nOverheden hebben alleen toegang tot de informatie over deelvoertuigen in hun eigen bestuursgebied.\n\n## Voordelen voor gemeenten\n\n- sneller toegang tot data\n- minder uitvragen naar aanbieders nodig (1 bron met alle data)\n- geen conversie meer nodig: data van elke aanbieder heeft precies hetzelfde dataformaat\n- ontwikkeling in overleg met de aangesloten gemeentes\n- indien gewenst uit te breiden door gemeentes zelf (open source software)\n\n## Voordelen aanbieders\n\n- minder aanvragen vanuit gemeentes\n- geen nieuwe dataformaten nodig i.v.m. gebruik internationale datastandaarden\n- gemeentes hebben beter inzicht in de stand van zaken\n- aanbieders hebben beter inzicht\n\n## Veel gestelde vragen\n\n### Hoe krijg ik toegang tot het Dashboard?\n\nVia het CROW of via info@deelfietsdashboard.nl kun je een login aanvragen. Afhankelijk van je taak en de afspraken over de data kun je vervolgens toegang krijgen tot de dashboard informatie voor gebieden en/of van aanbieders. Zo kunnen gemeente medewerkers over het algemeen toegang krijgen voor het dashboard in hun gemeente. Aanbieders van deelfietsen kunnen uiteraard toegang krijgen tot alle informatie van hun deelfietsen. Neem voor vragen over de rechten ook contact op met het CROW of info@deelfietsdashboard.nl.\n\n### Welke datastandaarden worden ondersteund?\n\nHoewel het Dashboard Deelmobiliteit verschillende datastandaarden ondersteunt, geven we er de voorkeur aan dat aanbieders hun data aanleveren conform MDS. Dit geeft ook de aanbieders de meeste zekerheid dat de koppeling in de toekomst goed functioneert. Zie de details in deze [specificatie](https://docs.crow.nl/deelfietsdashboard/hr-dataspec/).\n\n### Wat zijn de afspraken over data en financiering?\n\n[Op deze pagina](https://www.fietsberaad.nl/Kennisbank/Afspraken-over-data-en-financiering-van-dashboard) vind je de afspraken over openbaarheid data en de financiering.\n\n### Is de software open source?\n\nJa, de software is open source. Via [GitHub](https://github.com/Stichting-CROW/dashboarddeelmobiliteit-app) en [Gitlab](https://gitlab.com/bikedashboard) kun de laaste versie van de broncode bekijken.\n\nVelen handen maken licht werk. We zijn daarom blij als je wilt helpen. Gemeenten of andere overheden kunnen helpen bij het specificeren van handige overzichten. Deelmobiliteitbedrijven kunnen meebouwen aan open source tools. Ontwikkelaars kunnen bijdragen aan de code. Ontwerpers kunnen de look & feel verbeteren. Mail ons als je wilt weten hoe je mee kunt helpen!\n\nWe nodigen iedereen uit om mee te kijken en mee te ontwikkelen. Bugs en suggesties kunnen direct in de [issue-lijst](https://github.com/Stichting-CROW/dashboarddeelmobiliteit-app/issues) geplaatst worden. Ons mailen op info@deelfietsdashboard.nl kan natuurlijk ook.\n\n## Tot slot\n\nWil je contact opnemen met het team achter het Dashboard Deelmobiliteit, neem dan contact op met <a href="mailto:info@deelfietsdashboard.nl?Subject=Hallo">info@deelfietsdashboard.nl</a>\n          ')}})]})})},ga=a(46),ya=a(251),Oa=(a(503),Object(ga.a)(Array(13).keys()).slice(1).map((function(e){return"/components/Tour/Openbare_presentatie_dashboard_deelmobiliteit_januari_2022-".concat(e<10?"0":"").concat(e,".png")}))),xa={duration:6e4,transitionDuration:300,pauseOnHover:!0,infinite:!0,arrows:!0,indicators:!0,scale:1.4,onChange:function(e,t){}},va=function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],i=t[1],r=Object(n.useRef)(null);Object(n.useEffect)((function(e){var t=function(e){"ArrowLeft"===e.code?r.current.goBack():"ArrowRight"===e.code&&r.current.goNext()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[]);return a?Object(V.jsx)(Y.a,{to:"/"}):Object(V.jsxs)("div",{className:" min-h-screen flex justify-center px-0 w-full ",children:[Object(V.jsx)(Et,{onClick:function(){return i(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(V.jsxs)("div",{className:"mx-auto py-8 w-full justify-between flex-col flex",children:[Object(V.jsx)(kt,{}),Object(V.jsx)("div",{className:"slide-container flex-1",children:Object(V.jsx)(ya.Fade,Object(c.a)(Object(c.a)({ref:r},xa),{},{children:Oa.map((function(e,t){return Object(V.jsx)("div",{className:"each-slide",children:Object(V.jsxs)("div",{style:{backgroundImage:"url(".concat(Oa[t],")")},children:[10===t&&Object(V.jsx)("span",{className:"each-slide-text",children:Object(V.jsx)("a",{href:"https://docs.crow.nl/deelfietsdashboard/hr-dataspec/",target:"_blank",rel:"noreferrer",children:"Klik hier voor de specs"})}),11===t&&Object(V.jsxs)("span",{className:"each-slide-text",children:[Object(V.jsx)("div",{children:Object(V.jsx)("a",{href:"https://www.fietsberaad.nl/Kennisbank/Afspraken-over-data-en-financiering-van-dashboard",target:"_blank",rel:"noreferrer",children:"Openbaarheid en financiering"})}),Object(V.jsx)("div",{children:Object(V.jsx)("a",{href:"https://github.com/Stichting-CROW/",target:"_blank",rel:"noreferrer",children:"GitHub"})}),Object(V.jsx)("div",{children:Object(V.jsx)("a",{href:"https://gitlab.com/bikedashboard",target:"_blank",rel:"noreferrer",children:"GitLab"})}),Object(V.jsx)("div",{children:Object(V.jsx)("a",{href:"https://github.com/Stichting-CROW/dashboarddeelmobiliteit-app/issues",target:"_blank",rel:"noreferrer",children:"Bugs & Suggesties"})}),Object(V.jsx)("div",{children:Object(V.jsx)("a",{href:"mailto:info@deelfietsdashboard.nl",target:"_blank",rel:"noreferrer",children:"info@deelfietsdashboard.nl"})})]})]})},e)}))}))})]})]})};a(504);function _a(e){return Object(V.jsx)("div",{className:"Overlay relative z-20 w-full h-full lg:w-2/3 bg-white pb-16",children:Object(V.jsx)("div",{className:"Overlay-inner overflow-y-auto h-full",children:e.children})})}var wa=function(e){var t=Object(n.useState)(e.startDate||h()().toDate()),a=Object(W.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(e.endDate||h()().toDate()),c=Object(W.a)(o,2),l=c[0],s=c[1],d=Object(n.useState)(!1),u=Object(W.a)(d,2),p=u[0],m=u[1],b=function(t){var a=Object(W.a)(t,2),n=a[0],i=a[1];r(n),s(i),e.onChange(t),null!==i&&m(!p)},f=function(e){var t=i,a=l;t=Object(Bt.default)(i,e?-7:7),a=Object(Bt.default)(l,e?-7:7),r(t),s(a)},j=function(e){var t,a,n=new Date((new Date).toDateString());switch(e){case"laatste7dagen":t=Object(Bt.default)(n,-6),a=n;break;case"laatste30dagen":t=Object(Bt.default)(n,-30),a=n;break;case"laatste90dagen":t=Object(Bt.default)(n,-90),a=n;break;case"laatste12maanden":t=Object(Bt.default)(n,-365),a=n;break;case"ditjaar":var i=n.getFullYear();t=new Date(i.toString()+"/1/1"),a=n;break;case"vorigjaar":var r=n.getFullYear()-1;t=new Date(r.toString()+"/1/1"),a=new Date(r.toString()+"/12/31");break;default:return}b([t,a])};return Object(V.jsxs)("div",{className:"filter-datum-van-tot-container",style:{paddingTop:"0.5rem",paddingBottom:"0.5rem"},children:[Object(V.jsx)("div",{className:"filter-datum-van-tot-title",children:e.label}),Object(V.jsxs)("div",{className:"filter-datum-van-tot-box-row",children:[Object(V.jsx)("div",{className:"flex flex-col justify-center",children:Object(V.jsx)("div",{className:"filter-datum-caret",onClick:function(){f(!0)},children:"\u2039"})}),Object(V.jsxs)("div",{className:"filter-datum-van-tot-input",onClick:function(e){e.preventDefault(),m(!p)},children:[null!==i?Object(Wt.default)(i,"yyyy-MM-dd"):"","\xa0t/m\xa0",null!==l?Object(Wt.default)(l,"yyyy-MM-dd"):""," "]}),Object(V.jsx)("div",{className:"flex flex-col justify-center",children:Object(V.jsx)("div",{className:"filter-datum-caret",onClick:function(){f(!1)},children:"\u203a"})})]}),p&&Object(V.jsxs)("div",{className:"filter-datum-van-tot-pickercontainer",children:[Object(V.jsx)(Ut.a,{className:"filter-datum-van-tot-picker",selected:i,onChange:b,startDate:i,endDate:l,dateFormat:"yyyy-MM-dd",selectsRange:!0,inline:!0},"dp-van-tot"),Object(V.jsxs)("div",{className:"filter-datum-van-tot-picker-options",children:[Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste7dagen")},children:"Laatste 7 dagen"},"fdvt-po1"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste30dagen")},children:"Laatste 30 dagen"},"fdvt-po2"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste90dagen")},children:"Laatste 90 dagen"},"fdvt-po3"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("laatste12maanden")},children:"Laatste 12 maanden"},"fdvt-po4"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("ditjaar")},children:"Dit jaar"},"fdvt-po5"),Object(V.jsx)("div",{className:"filter-datum-van-tot-option",onClick:function(){j("vorigjaar")},children:"Vorig jaar "},"fdvt-po6")]})]})]})};a(505);var ka=function(e){var t=e.label,a=e.options,n=e.onChange;return Object(V.jsxs)("div",{className:"FormSelect my-2",children:[Object(V.jsx)("div",{className:"filter-datum-van-tot-title",children:t}),Object(V.jsxs)("select",{onChange:n,children:[Object(V.jsx)("option",{},"0"),a.map((function(e){return Object(V.jsx)("option",{value:e.value,children:e.title},e.value)}))]})]})};function Ea(e){var t=e.classes,a=e.href,n=e.onClick,i=e.color,r=e.children;return Object(V.jsx)("button",{className:"\n    px-6 py-2 my-4 rounded-lg\n    transition-all\n    duration-100\n    ".concat("blue"===i?"bg-theme-blue hover:bg-black text-white":"","\n    ").concat("gray"===i?"bg-gray-300 hover:bg-gray-400 text-white":"","\n    ").concat(t,"\n  "),href:a,onClick:n,children:r})}function Sa(e){var t=e.title,a=e.children;return Object(V.jsxs)("section",{className:"my-6 py-2 border-t-2 border-solid border-gray-200",style:{maxWidth:"100%",width:"320px"},children:[Object(V.jsx)("h3",{className:"mt-4 mb-4 text-xl font-bold",children:t}),a]})}function Na(e){var t=Object(m.c)(),a=Object(n.useState)(h()(h()().subtract(1,"month")).format("YYYY-MM-DD")),i=Object(W.a)(a,2),r=i[0],o=i[1],c=Object(n.useState)(h()().format("YYYY-MM-DD")),l=Object(W.a)(c,2),s=l[0],d=l[1],u=Object(n.useState)(""),b=Object(W.a)(u,2),f=b[0],j=b[1],g=Object(n.useState)(!1),y=Object(W.a)(g,2),O=y[0],x=y[1],v=Object(n.useState)(!1),_=Object(W.a)(v,2),w=_[0],k=_[1],E=Object(m.d)((function(e){return e.authentication&&e.authentication.user_data?e.authentication.user_data.token:void 0})),S=Object(m.d)((function(e){return!!(e.authentication&&e.authentication.user_data&&e.authentication.user_data.user)&&e.authentication.user_data.user})),N=Object(m.d)((function(e){return e.metadata&&e.metadata.gebieden?e.metadata.gebieden:[]}));Object(n.useEffect)((function(e){if(E){fetch("https://api.deelfietsdashboard.nl/dashboard-api/menu/acl",{headers:{authorization:"Bearer "+E}}).then((function(e){if(!e.ok)return console.error("unable to fetch: %o",e),!1;e.json().then((function(e){var t=!0===e.is_admin,a=!0===e.is_contact_person_municipality;(t||a)&&k(!0)}))}))}}),[E]);var T=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return window.notify("Selecteer een startdatum"),e.abrupt("return");case 3:if(s){e.next=6;break}return window.notify("Selecteer een einddatum"),e.abrupt("return");case 6:if(f){e.next=9;break}return window.notify("Selecteer de gemeente"),e.abrupt("return");case 9:return e.next=11,bt(E,{startDate:h()(r).format("YYYY-MM-DD"),endDate:h()(s).format("YYYY-MM-DD"),gm_code:f});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(E,{startDate:h()(r).format("YYYY-MM-DD"),endDate:h()(s).format("YYYY-MM-DD")});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(O)return Object(V.jsx)(Y.a,{to:"/"});var A=h()(s).diff(r,"days")>30;return Object(V.jsx)("div",{className:" px-4 min-h-screen sm:flex sm:justify-center sm:px-0 ",children:Object(V.jsxs)("div",{className:"mx-auto py-8",children:[Object(V.jsx)(Et,{onClick:function(){return x(!0)},style:{position:"absolute",right:"30px",top:"18px"}}),Object(V.jsx)(kt,{}),Object(V.jsx)("div",{className:" mt-6 pt-10 border-t-2 border-solid border-gray-200 ",children:Object(V.jsxs)("h2",{className:"mt-4 mb-4 text-4xl font-bold",children:["Hallo",Object(V.jsx)("span",{className:"ml-4 inline-block text-gray-300 text-lg",children:S?S.email:""})]})}),Object(V.jsx)("p",{style:{maxWidth:"100%",width:"416px"},className:"mb-4",children:"Je bent lid van het Dashboard Deelmobiliteit, een webtool van en voor overheden die de ontwikkelingen rond deelmobiliteit willen volgen."}),"\xbb ",Object(V.jsx)(p.b,{to:"/over",className:" text-gray-400 underline block mb-2 inline-block ",children:"Meer info"}),Object(V.jsx)("br",{}),"\xbb ",Object(V.jsx)(p.b,{to:"/rondleiding",className:" text-gray-400 underline block mb-2 inline-block ",children:"Rondleiding"}),Object(V.jsxs)("div",{className:"flex",children:[Object(V.jsx)(Ea,{classes:"mr-2",color:"blue",href:"mailto:info@deelfietsdashboard.nl?subject=Feedback Dashboard Deelmobiliteit&body=Ik heb feedback: ",children:"Zend feedback"}),Object(V.jsx)(Ea,{color:"gray",onClick:function(){window.confirm("Wil je uitloggen?")&&(S&&(t({type:"CLEAR_USER",payload:null}),t({type:"LOGOUT",payload:null})),x(!0))},children:"Uitloggen"})]}),Object(V.jsxs)(Sa,{title:"Download standaardrapportage",children:[Object(V.jsx)(wa,{label:"Periode",startDate:h()(r).toDate(),endDate:h()(s).toDate(),onChange:function(e){var t=Object(W.a)(e,2),a=t[0],n=t[1];o(a),d(n)}}),Object(V.jsx)(ka,{label:"Plaats",onChange:function(e){j(e.target.value)},options:N.map((function(e){return{value:e.gm_code,title:e.name}}))}),Object(V.jsx)(Ea,{classes:"",color:"blue",onClick:function(){return T()},children:"Download rapportage"})]}),w&&Object(V.jsxs)(Sa,{title:"Download ruwe data",children:[Object(V.jsx)(wa,{label:"Periode",startDate:h()(r).toDate(),endDate:h()(s).toDate(),onChange:function(e){var t=Object(W.a)(e,2),a=t[0],n=t[1];o(a),d(n)}}),A&&Object(V.jsx)("div",{className:"flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1",children:Object(V.jsxs)("div",{children:["Het is momenteel niet mogelijk om een langere periode dan 1 maand te downloaden. Neem alsjeblieft contact op met ons via ",Object(V.jsx)("a",{href:"mailto:info@deelfietsdashboard.nl",className:"inline",children:"info@deelfietsdashboard.nl"})," als je een export wilt ontvangen voor een langere periode."]})}),Object(V.jsx)(Ea,{classes:"",color:"blue",onClick:function(){return D()},children:"Download ruwe data (.csv)"})]})]})})}a(506);function Ta(e){var t=Object(m.c)(),a=Object(m.d)((function(e){return!!e.ui&&e.ui["MenuSecondary.layers"]})),n=Object(m.d)((function(e){return!!e.filter&&""!==e.filter.gebied})),i=Object(m.d)((function(e){return!!e.layers&&e.layers.zones_visible})),r=Object(m.d)((function(e){return e.layers?e.layers.displaymode:S})),o=Object(m.d)((function(e){return e.layers?e.layers.view_park:I})),c=Object(m.d)((function(e){return e.layers?e.layers.view_rentals:M})),l=Object(m.d)((function(e){return!!e.authentication.user_data}));return Object(V.jsx)(ba,{title:"Lagen",isVisible:a,closeHandler:function(){t({type:"SET_VISIBILITY",payload:{name:"MenuSecondary.layers",visibility:!1}})},classes:" top-auto z-10 ",children:Object(V.jsxs)("div",{className:"\n        SelectLayerMobile\n        flex justify-between\n      ",children:[r===S?Object(V.jsx)("div",{"data-type":"heat-map",className:"layer".concat(o!==C?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:C})},children:Object(V.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,r===S?Object(V.jsx)("div",{"data-type":"pointers",className:"layer".concat(o!==R?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:R})},children:Object(V.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,r===S?Object(V.jsx)("div",{"data-type":"vehicles",className:"layer".concat(o!==I?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_PARK",payload:I})},children:Object(V.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,r===N?Object(V.jsx)("div",{"data-type":"heat-map",className:"layer".concat(c!==z?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:z})},children:Object(V.jsx)("span",{className:"layer-title",children:"Heat map"})}):null,r===N?Object(V.jsx)("div",{"data-type":"pointers",className:"layer".concat(c!==L?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:L})},children:Object(V.jsx)("span",{className:"layer-title",children:"Clusters"})}):null,r===N?Object(V.jsx)("div",{"data-type":"vehicles",className:"layer".concat(c!==M?" layer-inactive":""),onClick:function(){t({type:"LAYER_SET_VIEW_RENTALS",payload:M})},children:Object(V.jsx)("span",{className:"layer-title",children:"Voertuigen"})}):null,l&&n?Object(V.jsx)("div",{"data-type":"zones",className:"layer".concat(i?"":" layer-inactive"),onClick:function(){t({type:"LAYER_TOGGLE_ZONES_VISIBLE",payload:null})},children:Object(V.jsx)("span",{className:"layer-title",children:"Zones"})}):null]})})}a(507);var Da,Aa,Ca=function(){return Object(m.d)((function(e){return e.ui.showloading}))?Object(V.jsx)("img",{className:"loadingindicator",alt:"spinning progress indicator",src:"/images/components/LoadingIndicator/bike_wheel-512.png"}):null},Ra=[{value:"cykl",system_id:"cykl",name:"Cykl"},{value:"donkey",system_id:"donkey",name:"Donkey"},{value:"htm",system_id:"htm",name:"HTM"},{value:"gosharing",system_id:"gosharing",name:"GO"},{value:"check",system_id:"check",name:"CHECK"},{value:"felyx",system_id:"felyx",name:"Felyx"},{value:"deelfietsnederland",system_id:"deelfietsnederland",name:"Deelfiets"},{value:"keobike",system_id:"keobike",name:"Keobike"},{value:"lime",system_id:"lime",name:"Lime"},{value:"baqme",system_id:"baqme",name:"BAQME"},{value:"bird",system_id:"bird",name:"Bird"},{value:"cargoroo",system_id:"cargoroo",name:"Cargoroo"},{value:"uwdeelfiets",system_id:"uwdeelfiets",name:"uwdeelfiets"},{value:"hely",system_id:"hely",name:"Hely"},{value:"tier",system_id:"tier",name:"TIER"},{value:"dott",system_id:"dott",name:"Dott"}],Ia=[{gm_code:"",name:"Alle plaatsen"},{gm_code:"GM0518",name:"'s-Gravenhage"},{gm_code:"GM0796",name:"'s-Hertogenbosch"},{gm_code:"GM0613",name:"Albrandswaard"},{gm_code:"GM0141",name:"Almelo"},{gm_code:"GM0034",name:"Almere"},{gm_code:"GM0484",name:"Alphen aan den Rijn"},{gm_code:"GM0307",name:"Amersfoort"},{gm_code:"GM0362",name:"Amstelveen"},{gm_code:"GM0363",name:"Amsterdam"},{gm_code:"GM0200",name:"Apeldoorn"},{gm_code:"GM0202",name:"Arnhem"},{gm_code:"GM0106",name:"Assen"},{gm_code:"GM0489",name:"Barendrecht"},{gm_code:"GM0203",name:"Barneveld"},{gm_code:"GM0373",name:"Bergen (NH"},{gm_code:"GM0753",name:"Best"},{gm_code:"GM0375",name:"Beverwijk"},{gm_code:"GM0377",name:"Bloemendaal"},{gm_code:"GM0758",name:"Breda"},{gm_code:"GM0312",name:"Bunnik"},{gm_code:"GM0313",name:"Bunschoten"},{gm_code:"GM0502",name:"Capelle aan den IJssel"},{gm_code:"GM0310",name:"De Bilt"},{gm_code:"GM0736",name:"De Ronde Venen"},{gm_code:"GM0503",name:"Delft"},{gm_code:"GM0150",name:"Deventer"},{gm_code:"GM0384",name:"Diemen"},{gm_code:"GM0505",name:"Dordrecht"},{gm_code:"GM0228",name:"Ede"},{gm_code:"GM0772",name:"Eindhoven"},{gm_code:"GM0153",name:"Enschede"},{gm_code:"GM0232",name:"Epe"},{gm_code:"GM1771",name:"Geldrop-Mierlo"},{gm_code:"GM1942",name:"Gooise Meren"},{gm_code:"GM0014",name:"Groningen"},{gm_code:"GM0392",name:"Haarlem"},{gm_code:"GM0394",name:"Haarlemmermeer"},{gm_code:"GM0243",name:"Harderwijk"},{gm_code:"GM0246",name:"Heerde"},{gm_code:"GM0794",name:"Helmond"},{gm_code:"GM0164",name:"Hengelo"},{gm_code:"GM0798",name:"Hilvarenbeek"},{gm_code:"GM0402",name:"Hilversum"},{gm_code:"GM0353",name:"IJsselstein"},{gm_code:"GM0166",name:"Kampen"},{gm_code:"GM0542",name:"Krimpen aan den IJssel"},{gm_code:"GM1621",name:"Lansingerland"},{gm_code:"GM0080",name:"Leeuwarden"},{gm_code:"GM1916",name:"Leidschendam-Voorburg"},{gm_code:"GM0327",name:"Leusden"},{gm_code:"GM0809",name:"Loon op Zand"},{gm_code:"GM0556",name:"Maassluis"},{gm_code:"GM1842",name:"Midden-Delfland"},{gm_code:"GM1952",name:"Midden-Groningen"},{gm_code:"GM0356",name:"Nieuwegein"},{gm_code:"GM0267",name:"Nijkerk"},{gm_code:"GM0268",name:"Nijmegen"},{gm_code:"GM1930",name:"Nissewaard"},{gm_code:"GM0820",name:"Nuenen, Gerwen en Nederwetten"},{gm_code:"GM0302",name:"Nunspeet"},{gm_code:"GM0826",name:"Oosterhout"},{gm_code:"GM0431",name:"Oostzaan"},{gm_code:"GM1926",name:"Pijnacker-Nootdorp"},{gm_code:"GM0273",name:"Putten"},{gm_code:"GM0597",name:"Ridderkerk"},{gm_code:"GM0603",name:"Rijswijk"},{gm_code:"GM1674",name:"Roosendaal"},{gm_code:"GM0599",name:"Rotterdam"},{gm_code:"GM0606",name:"Schiedam"},{gm_code:"GM0848",name:"Son en Breugel"},{gm_code:"GM0855",name:"Tilburg"},{gm_code:"GM1730",name:"Tynaarlo"},{gm_code:"GM0344",name:"Utrecht"},{gm_code:"GM1581",name:"Utrechtse Heuvelrug"},{gm_code:"GM0861",name:"Veldhoven"},{gm_code:"GM0622",name:"Vlaardingen"},{gm_code:"GM0865",name:"Vught"},{gm_code:"GM0866",name:"Waalre"},{gm_code:"GM0867",name:"Waalwijk"},{gm_code:"GM0289",name:"Wageningen"},{gm_code:"GM0629",name:"Wassenaar"},{gm_code:"GM1960",name:"West Betuwe"},{gm_code:"GM1783",name:"Westland"},{gm_code:"GM0637",name:"Zoetermeer"},{gm_code:"GM0642",name:"Zwijndrecht"},{gm_code:"GM0193",name:"Zwolle"}],za=[{id:"bicycle",name:"Fiets"},{id:"cargo_bicycle",name:"Bakfiets"},{id:"moped",name:"Scooter"},{id:"car",name:"Auto"},{id:"unknown",name:"Onbekend"}],La=function(e){return!!e.authentication.user_data},Ma=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(t){var a,n,i,r,o,c,l;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==t){e.next=4;break}return console.log("no redux state available yet - skipping zones update"),e.abrupt("return",!1);case 4:if(!1!==(a=t.getState()).metadata.metadata_loaded){e.next=8;break}return console.log("no metadata available yet - skipping zones update"),e.abrupt("return",!1);case 8:if(n="",a){e.next=16;break}return t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0}),e.abrupt("return");case 16:if(La(a)){e.next=34;break}return i=a.filter.gebied,r="https://api.deelfietsdashboard.nl/dashboard-api/public/filters?gm_code=".concat(i),e.next=21,fetch(r);case 21:return o=e.sent,e.next=24,o.json();case 24:if(c=e.sent,console.log("metadataZones 2-2"),console.log("zonesGeoData..",c),""!==a.filter.gebied){e.next=32;break}return t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0}),e.abrupt("return");case 32:return c&&c.filter_values&&c.filter_values.zones?(t.dispatch({type:"SET_ZONES",payload:c.filter_values.zones}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0})):(t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0})),e.abrupt("return");case 34:if(""!==a.filter.gebied){e.next=41;break}return t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0}),e.abrupt("return");case 41:n="https://api.deelfietsdashboard.nl/dashboard-api/zones?gm_code="+a.filter.gebied,t.dispatch({type:"SET_ZONES",payload:[]}),t.dispatch({type:"SET_ZONES_LOADED",payload:!1});case 44:l={headers:{authorization:"Bearer "+a.authentication.user_data.token}},t.dispatch({type:"SHOW_LOADING",payload:!0}),fetch(n,l).then((function(e){if(!e.ok)return console.error("unable to fetch: %o",e),!1;e.json().then((function(e){t.dispatch({type:"SET_ZONES",payload:e.zones}),t.dispatch({type:"SET_ZONES_LOADED",payload:!0})}))})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){t.dispatch({type:"SHOW_LOADING",payload:!1})})),e.next=53;break;case 49:e.prev=49,e.t0=e.catch(0),console.error("Unable to update zones",e.t0),t.dispatch({type:"SHOW_LOADING",payload:!1});case 53:case"end":return e.stop()}}),e,null,[[0,49]])})));return function(t){return e.apply(this,arguments)}}(),Fa=null,Ga=function(){var e=Object(Q.a)(Object(q.a)().mark((function e(){var t,n,i,r,o;return Object(q.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==Da){e.next=4;break}return Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.error("no redux state available yet - skipping zones update"),e.abrupt("return",!1);case 4:if(t=Da.getState()){e.next=7;break}return e.abrupt("return");case 7:n=t&&La(t)&&t.filter&&t.authentication.user_data.token,i="https://api.deelfietsdashboard.nl/dashboard-api/public/vehicles_in_public_space",r={},o=Ze(S,t.filter,t.metadata),n?null!==t.filter&&null!==t.authenticationdata&&(i="https://api.deelfietsdashboard.nl/dashboard-api/park_events",o.length>0&&(i+="?"+o.join("&")),r={headers:{authorization:"Bearer "+t.authentication.user_data.token}}):o.length>0&&(i+="?"+o.join("&")),Da.dispatch({type:"SHOW_LOADING",payload:!0}),Fa&&Fa.abort(),(Fa=Je(i,r)).ready.then((function(e){if(Fa=null,!e.ok)return console.error("unable to fetch: %o",e),!1;e.json().then((function(e){e=La(t)?e.park_events:e.vehicles_in_public_space;var n={type:"FeatureCollection",features:[]},i={},r={};t.metadata.aanbieders.forEach((function(e){i[e.system_id||e.value]=e.color,r[e.system_id||e.value]=0}));var o=a(77),c=h()(t.filter.datum);e.forEach((function(e){var a,i=La(t)?e.start_time:e.in_public_space_since,l=c.diff(h()(i),"minutes"),s=(a=l)<=60?0:a<=1440?1:a<=5760?2:3,d={type:"Feature",properties:{id:o(e.location.latitude+e.location.longitude),system_id:e.system_id||e.value,in_public_space_since:i,duration_bin:s},geometry:{type:"Point",coordinates:[e.location.longitude,e.location.latitude,0]}};r[e.system_id||e.value]+=1;var u=t.filter.aanbiedersexclude.split(",")||[],p=t.filter.parkeerduurexclude.split(",")||[],m=!La(t)||!p.includes(s.toString());(m=m&&!1===u.includes(e.system_id||e.value))&&n.features.push(d)})),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("geoJson in pollParkingData",n),Da.dispatch({type:"SET_VEHICLES",payload:n}),Da.dispatch({type:"SET_VEHICLES_OPERATORSTATS",payload:r})})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){Da.dispatch({type:"SHOW_LOADING",payload:!1})}))})).catch((function(e){Da.dispatch({type:"SHOW_LOADING",payload:!1}),console.error("fetch error - unable to fetch JSON from %s",i)})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Unable to update zones",e.t0);case 21:return e.prev=21,e.finish(21);case 23:case"end":return e.stop()}}),e,null,[[0,18,21,23]])})));return function(){return e.apply(this,arguments)}}(),Pa=a(77),Ua=void 0,Ba=function(){Ua?function(){try{if(void 0===Ua)return!1;var e=Ua.getState();if(e.layers.displaymode!==N)return!0;if(!1===e.metadata.zones_loaded)return!1;var t=e.filter.afstandexclude.split(",")||[];if(La(e)&&e&&e.filter&&e.authentication.user_data.token){var a=function(a){if("destinations"===a||"origins"===a){var n="https://api.deelfietsdashboard.nl/dashboard-api/v2/trips/".concat(a),i={};if(null!==e.filter&&null!==e.authenticationdata){n="https://api.deelfietsdashboard.nl/dashboard-api/v2/trips/".concat(a);var r=Ze(N,e.filter,e.metadata);r.length>0&&(n+="?"+r.join("&")),i={headers:{authorization:"Bearer "+e.authentication.user_data.token}}}Ua.dispatch({type:"SHOW_LOADING",payload:!0}),Aa&&Aa.abort(),(Aa=Je(n,i)).ready.then((function(n){if(Aa=null,Ua.dispatch({type:"SHOW_LOADING",payload:!1}),!n.ok)return console.error("unable to fetch: %o",n),!1;n.json().then((function(n){var i=La?n:[],r={type:"FeatureCollection",features:[]},o={};e.metadata.aanbieders.forEach((function(e){o[e.system_id||e.value]=0}));var c=e.filter.aanbiedersexclude.split(",")||[];i["trip_".concat(a)].forEach((function(e){var a,n=(a=e.distance_in_meters)<=1e3?0:a<=2e3?1:a<=5e3?2:3,i={type:"Feature",properties:{id:Pa(e.location.latitude+e.location.longitude),system_id:e.system_id,arrival_time:e.arrival_time,departure_time:e.departure_time,distance_bin:n,distance_in_meters:e.distance_in_meters},geometry:{type:"Point",coordinates:[e.location.longitude,e.location.latitude,0]}};o[e.system_id||e.value]+=1;var l=!t.includes(n.toString());(l=l&&!1===c.includes(e.system_id||e.value))&&r.features.push(i)})),Ua.dispatch({type:"SET_RENTALS_".concat(a.toUpperCase()),payload:r}),Ua.dispatch({type:"SET_RENTALS_".concat(a.toUpperCase(),"_OPERATORSTATS"),payload:o})})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){Ua.dispatch({type:"SHOW_LOADING",payload:!1})}))})).catch((function(e){Ua.dispatch({type:"SHOW_LOADING",payload:!1}),console.error("fetch error - unable to fetch JSON from %s",n)}))}else console.error("No valid key given to fetchData")};"bestemming"===e.filter.herkomstbestemming?a("destinations"):a("origins")}else Ua.dispatch({type:"CLEAR_RENTALS_ORIGINS"}),Ua.dispatch({type:"CLEAR_RENTALS_DESTINATIOINS"})}catch(n){console.error("Unable to update zones",n)}}():console.log("No store yet.")};a(508);var Ha=function(){var e=Object(n.useState)(document.location.pathname),t=Object(W.a)(e,2),i=t[0],r=t[1],o=Object(n.useState)(document.location.search),c=Object(W.a)(o,2),l=c[0],s=c[1],d=Object(n.useState)(null),u=Object(W.a)(d,2),p=u[0],b=u[1],f=Object(m.c)(),j=Object(n.useRef)(null),g=Object(Y.g)();Object(n.useEffect)((function(){r(g?g.pathname:null),s(g?g.search:null)}),[g]),Object(n.useEffect)((function(){if(null!==l){var e=new URLSearchParams(l).get("view");if(e)try{var t=JSON.parse(decodeURIComponent(e));return f({type:"IMPORT_STATE",payload:t}),void setTimeout((function(){return f({type:"LAYER_SET_ZONES_EXTENT",payload:t.layers.mapextent})}),2500)}catch(n){console.warn("unable to decode application state"),alert("Ongeldige link ingegeven")}}var a;a=i.includes("/map/park")||"/"===i?S:i.includes("/map/rentals")?N:i.includes("/map/zones")?D:i.includes("/admin/zones")?T:A,f({type:"LAYER_SET_DISPLAYMODE",payload:a})}),[i,l]);var y=Object(m.d)((function(e){return!!e.authentication.user_data})),O=Object(m.d)((function(e){return!!e.filter&&e.filter.datum})),x=Object(m.d)((function(e){return!!e.ui&&e.ui["MenuSecondary.layers"]})),v=Object(m.d)((function(e){return!!e.ui&&e.ui.FILTERBAR})),_=Object(m.d)((function(e){return e.filter})),w=Object(m.d)((function(e){return e.layers})),k=Object(m.d)((function(e){return e.layers?e.layers.displaymode:S})),E=Object(m.d)((function(e){return e.metadata}));Object(n.useEffect)((function(){var e=new URLSearchParams(l),t=h()(O).diff(h()(),"minutes")<-10;!e.get("view")&&t&&setTimeout((function(e){var t;t=h()().toDate(),f({type:"SET_FILTER_DATUM",payload:t.toISOString()})}),500)}),[]),Object(n.useEffect)((function(){!function(e){try{if(void 0===e)return!1;var t=e.getState();if(function(e){return!!e.authentication.user_data}(t)){var a={headers:{authorization:"Bearer "+t.authentication.user_data.token}};return e.dispatch({type:"SHOW_LOADING",payload:!0}),fetch("https://api.deelfietsdashboard.nl/dashboard-api/menu/acl",a).then((function(t){if(!t.ok)return console.error("unable to fetch: %o",t),!1;t.json().then((function(t){e.dispatch({type:"SET_GEBIEDEN",payload:t.municipalities}),1===t.municipalities.length&&e.dispatch({type:"SET_FILTER_GEBIED",payload:t.municipalities[0].gm_code}),e.dispatch({type:"SET_AANBIEDERS",payload:t.operators});var a=za;e.dispatch({type:"SET_VEHICLE_TYPES",payload:a}),e.dispatch({type:"SET_METADATA_LOADED",payload:!0})}))})).catch((function(e){console.error("unable to decode JSON")})).finally((function(){e.dispatch({type:"SHOW_LOADING",payload:!1})})),!0}e.dispatch({type:"SET_GEBIEDEN",payload:Ia}),e.dispatch({type:"SET_AANBIEDERS",payload:Ra});var n=za;e.dispatch({type:"SET_VEHICLE_TYPES",payload:n}),e.dispatch({type:"SET_METADATA_LOADED",payload:!0})}catch(i){return e.dispatch({type:"SHOW_LOADING",payload:!1}),!1}}(Ja)}),[y]),Object(n.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("useEffect zones",_.gebied),E.metadata_loaded&&Ma(Ja)}),[y,E.metadata_loaded,_.gebied]),Object(n.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&console.log("useEffect zones geodata"),E.zones_loaded&&function(e){try{if(void 0===e)return!1;var t=e.getState();if(!1===t.metadata.zones_loaded)return!1;var n="";if(La(t)&&t)if(""===t.filter.gebied)n=t.metadata.zones.filter((function(e){return"municipality"===e.zone_type})).map((function(e){return e.zone_id})).join(",");else if(0===t.filter.zones.length){var i=t.metadata.gebieden.filter((function(e){return e.gm_code===t.filter.gebied})).map((function(e){return e.gm_code}));n=t.metadata.zones.filter((function(e){return"municipality"===e.zone_type&&i.includes(e.municipality)})).map((function(e){return e.zone_id})).join(",")}else n=t.filter.zones;else n="";if(""===n)return void e.dispatch({type:"SET_ZONES_GEODATA",payload:{data:{type:"FeatureCollection",features:[]},filter:""}});e.dispatch({type:"SHOW_LOADING",payload:!0});var r="https://api.deelfietsdashboard.nl/dashboard-api/zones?zone_ids="+n+"&&include_geojson=true",o={headers:{authorization:"Bearer "+t.authentication.user_data.token}};fetch(r,o).then((function(n){if(!n.ok)return console.error("unable to fetch: %o",n),!1;n.json().then((function(n){var i=a(169),r={type:"FeatureCollection",features:[]},o=void 0;n.zones.forEach((function(e,t){switch(e.geojson.type){case"MultiPolygon":case"Polygon":var a={type:"Feature",geometry:e.geojson};r.features.push(a);var n=i.extent(a);void 0===o?o=n:(o[0]=Math.min(n[0],o[0]),o[1]=Math.min(n[1],o[1]),o[2]=Math.max(n[2],o[2]),o[3]=Math.max(n[3],o[3]));break;default:console.warn("metadataZonesgeodata - don't know how to handle %s",e.type,e)}}));var c={data:r,filter:t.filter.zones,bounds:o};e.dispatch({type:"SET_ZONES_GEODATA",payload:c}),e.dispatch({type:"LAYER_SET_ZONES_EXTENT",payload:o})})).catch((function(e){console.error("unable to decode JSON",e)})).finally((function(){e.dispatch({type:"SHOW_LOADING",payload:!1})}))})).catch((function(e){console.error("unable to fetch zone geodata")}))}catch(c){console.error("Unable to update zones",c)}}(Ja)}),[y,E.zones_loaded,_.gebied,_.zones]),Object(n.useEffect)((function(){"displaymode-park"===k&&(y&&!1===E.zones_loaded||(p&&clearTimeout(p),b(setTimeout((function(e){(Da=Ja)?Ga():console.log("No store yet.")}),250))))}),[y,E.zones_loaded,_]),Object(n.useEffect)((function(){"displaymode-rentals"===k&&(y&&!1===E.zones_loaded||(p&&clearTimeout(p),b(setTimeout((function(e){Ua=Ja,Ba()}),250))))}),[y,E.zones_loaded,_]);var C=function(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)($,{}),Object(V.jsxs)("div",{className:"MobileMenus",children:[Object(V.jsx)("div",{className:"hidden sm:block relative h-full z-10",children:Object(V.jsx)(ma,{isVisible:v,displayMode:k})}),Object(V.jsx)("div",{className:"block sm:hidden relative z-10",children:Object(V.jsx)(fa,{isVisible:v,displayMode:k})}),Object(V.jsx)(Ta,{})]})]})};return Object(V.jsxs)("div",{className:"app ".concat(v||x?"overflow-y-hidden":""),children:[Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoibmluZTMwMzAiLCJhIjoiY2t2OW1zaTJoMmJnaTJ1czNyMDhhcmFxcSJ9.tHuHTDUPf53RsGBgxZmk2g",REACT_APP_FUSIONAUTH_SERVER:"https://auth.deelfietsdashboard.nl/api",REACT_APP_FUSIONAUTH_APPLICATION_ID:"bf901170-a2db-4f91-8ca7-24921e961193"}).DEBUG&&Object(V.jsx)("div",{className:"DEBUG fixed bottom-10 right-16 z-100 bg-white opacity-50",style:{zIndex:9999},children:w.displaymode}),Object(V.jsx)(Ca,{}),Object(V.jsxs)("div",{className:"gui-layer",children:[Object(V.jsxs)(Y.d,{children:[y?Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(Y.b,{exact:!0,path:"/",children:C()}),Object(V.jsx)(Y.b,{exact:!0,path:"/map/park",children:C()}),Object(V.jsx)(Y.b,{exact:!0,path:"/map/rentals",children:C()}),Object(V.jsx)(Y.b,{exact:!0,path:"/map/zones",children:C()}),Object(V.jsx)(Y.b,{exact:!0,path:"/admin/zones",children:C()}),Object(V.jsxs)(Y.b,{exact:!0,path:"/stats/overview",children:[Object(V.jsx)(Qe,{children:Object(V.jsx)(wt,{})}),C()]}),Object(V.jsx)(Y.b,{exact:!0,path:"/monitoring",children:Object(V.jsx)(Qe,{children:Object(V.jsx)(Rt,{})})}),Object(V.jsx)(Y.b,{exact:!0,path:"/over",children:Object(V.jsx)(_a,{children:Object(V.jsx)(ja,{})})}),Object(V.jsx)(Y.b,{exact:!0,path:"/rondleiding",children:Object(V.jsx)(Qe,{forceFullWidth:!0,children:Object(V.jsx)(va,{})})}),Object(V.jsx)(Y.b,{exact:!0,path:"/misc",children:Object(V.jsx)(_a,{children:Object(V.jsx)(Na,{})})})]}):null,Object(V.jsx)(Y.b,{exact:!0,path:"/over",children:Object(V.jsx)(_a,{children:Object(V.jsx)(ja,{})})}),Object(V.jsx)(Y.b,{exact:!0,path:"/rondleiding",children:Object(V.jsx)(Qe,{forceFullWidth:!0,children:Object(V.jsx)(va,{})})}),Object(V.jsx)(Y.b,{exact:!0,path:"/login",children:Object(V.jsx)(_a,{children:Object(V.jsx)(St,{})})}),Object(V.jsx)(Y.b,{exact:!0,path:"/reset-password/:changePasswordCode",children:Object(V.jsx)(_a,{children:Object(V.jsx)(Nt,{})})}),Object(V.jsx)(Y.b,{children:C()})]}),Object(V.jsx)("div",{ref:j,className:"map-layer top-0"},"mapContainer"),Object(V.jsx)(qe,{mapContainer:j}),Object(V.jsx)(K,{pathName:i})]})]})},Wa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,Ya=a(77),Va=localStorage.getItem("CROWDD_reduxState"),Za=Va?JSON.parse(Va):{},Ja=Object(b.d)(H,Za,Wa(Object(b.a)(j.a)));Ja.subscribe((function(){var e=Ja.getState(),t=localStorage.getItem("CROWDD_filterhash")||!1,a=Ya(JSON.stringify(e.filter));a!==t&&(localStorage.setItem("CROWDD_filterhash",a),Ja.dispatch({type:"CLEAR_VEHICLES",payload:null}),Ja.dispatch({type:"CLEAR_RENTALS_ORIGINS",payload:null}),Ja.dispatch({type:"CLEAR_RENTALS_DESTINATIONS",payload:null}));var n={created:e.created?e.created:h()().unix(),last_update:h()().unix(),authentication:e.authentication,filter:e.filter,layers:e.layers,ui:e.ui};localStorage.setItem("CROWDD_reduxState",JSON.stringify(n))}));var Ka=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return Object(V.jsx)(m.a,{store:Ja,children:Object(V.jsx)(p.a,{children:Object(V.jsx)(Ha,{content:this.props.content})})})}}]),a}(n.Component);var Xa=Ka=function(e,t){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];var r=m.b.apply(void 0,n)(t);return function(t){return Object(V.jsx)(r,Object(c.a)(Object(c.a)({},t),{},{store:e}))}}(Ja,Ka,(function(e){return{}}),(function(e){return{}})),$a=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,531)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),r(e),o(e)}))};window.notify=function(e){alert(e)},o.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(Xa,{})}),document.getElementById("root")),$a()}},[[509,1,2]]]);
//# sourceMappingURL=main.57175d6b.chunk.js.map